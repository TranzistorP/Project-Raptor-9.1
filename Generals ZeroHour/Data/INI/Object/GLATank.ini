;------------------------------------------------------------------------------
Object GLATankScorpion

  ; *** ART Parameters ***
  SelectPortrait         = SUScorpion_L
  ButtonImage            = SUScorpion
  
  UpgradeCameo1 = Upgrade_GLAScorpionRocket
  UpgradeCameo2 = Upgrade_GLAAPRockets
  UpgradeCameo3 = Upgrade_GLAToxinShells
  UpgradeCameo4 = Upgrade_GLAJunkRepair
;  UpgradeCameo5 = Upgrade_GLAAntraxBeta

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
 
; ------------ Normal  
    DefaultConditionState
      Model = UVLiteTank
      Turret = Turret ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
      ShowSubObject = Turret01
      HideSubObject = MissleRack01 MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = UVLiteTank_d
    End
    AliasConditionState = RUBBLE
    
; ------------ With big turret  
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE ; one or two crates is a turret switch
      ShowSubObject = TurretUP01
      HideSubObject = MissleRack01 MissleRack02 Turret01   ; MissileRack misspelled in the Art
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = TurretUP01
      HideSubObject = MissleRack01 MissleRack02 Turret01   ; MissileRack misspelled in the Art
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED

; ---------- With missile
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject = MissleRack01 Turret01
      HideSubObject = MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 Turret01
      HideSubObject = MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

; ---------- With missile and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      ShowSubObject = MissleRack01 TurretUP01
      HideSubObject = MissleRack02 Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 TurretUP01
      HideSubObject = MissleRack02 Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

; ---------- With two missiles and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      ShowSubObject = MissleRack01 MissleRack02 TurretUP01
      HideSubObject = Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 MissleRack02 TurretUP01
      HideSubObject = Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Scorpion
  Side                  = GLA
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY ScorpionTankGun
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY ScorpionTankGun
    Weapon = SECONDARY ScorpionMissileWeapon
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE 
    Weapon = PRIMARY ScorpionTankGunPlusOne
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE PLAYER_UPGRADE 
    Weapon = PRIMARY ScorpionTankGunPlusOne
    Weapon = SECONDARY ScorpionMissileWeapon ; No bonus at Plus One
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO 
    Weapon = PRIMARY ScorpionTankGunPlusOne ; No further bonus at plus two
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO PLAYER_UPGRADE 
    Weapon = PRIMARY ScorpionTankGunPlusOne ; No further bonus at plus two
    Weapon = SECONDARY ScorpionMissileWeaponPlusTwo
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 600
  BuildTime       = 5.0          ;in seconds    
  VisionRange     = 125
  ShroudClearingRange = 300
  Prerequisites
    Object = GLAArmsDealer
  End

  ExperienceValue = 60 60 120 200    ;Experience point value at each level
  ExperienceRequired = 0 100 250 500  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLATankScorpionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ScorpionTankVoiceSelect
  VoiceMove = ScorpionTankVoiceMove
  VoiceAttack = ScorpionTankVoiceAttack
  SoundMoveStart = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart
  VoiceGuard = ScorpionTankVoiceMove

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = ScorpionTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = ScorpionTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 370.0
    InitialHealth   = 370.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 740
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ScorpionLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 4
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ScorpionTankDeathEffect 
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10.5    
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME   
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLATankT-72

  ; *** ART Parameters ***
  SelectPortrait         = SUT-72
  ButtonImage            = SUT-72
  
;  UpgradeCameo1 = Upgrade_GLAScorpionRocket
  UpgradeCameo1 = Upgrade_GLAAPRockets
  UpgradeCameo2 = Upgrade_GLAToxinShells
  UpgradeCameo3 = Upgrade_GLAJunkRepair
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
 
; ------------ Normal  
    DefaultConditionState
      Model = IVAssadBabl
      Turret = TURRET ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
 ;     ShowSubObject = TURRET
 ;     HideSubObject = MissleRack01 MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = PRIMARY MUZZLEFX01
      WeaponRecoilBone = PRIMARY Barral01
      WeaponFireFXBone = SECONDARY MUZZLEFX01
      WeaponRecoilBone = SECONDARY Barral01
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
;      WeaponLaunchBone = TERTIARY TURRET
    End

    ConditionState = REALLYDAMAGED
      Model = IVAssadBabl_d
      ParticleSysBone = HUGEFIRE JetFireLarge
    End
    AliasConditionState = RUBBLE
    
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End


  Draw = W3DDependencyModelDraw ModuleTag_0100

    ProjectileBoneFeedbackEnabledSlots = TERTIARY

    AttachToBoneInContainer = CHASSIS
    ;AttachToBoneInAnotherModule = CHASSIS
    OkToChangeModelColor        = Yes

    DefaultConditionState 
      Model = UVSlthScorpT
      ShowSubObject = MISSLERACK1 MISSLERACK2 WEAPONC01 WEAPONC02 WEAPONC03
      HideSubObject = WEAPONA01 WEAPONB01 WEAPONB02
      WeaponLaunchBone = TERTIARY WeaponC
      WeaponFireFXBone = TERTIARY ExhaustC
    End

    ConditionState = REALLYDAMAGED
      Model = UVSlthScorpT_d
      ShowSubObject = MISSLERACK1 MISSLERACK2 WEAPONC01 WEAPONC02 WEAPONC03
      HideSubObject = WEAPONA01 WEAPONB01 WEAPONB02
      WeaponLaunchBone = TERTIARY WeaponC
      WeaponFireFXBone = TERTIARY ExhaustC
    End
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Scorpion
  Side                  = GLA
  EditorSorting         = VEHICLE
  TransportSlotCount    = 4                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T88TankGun
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
 ;   Weapon = SECONDARY T-90Smoke
 ;   AutoChooseSources   = SECONDARY   NONE
    Weapon = TERTIARY T-90Rockets
    AutoChooseSources   = TERTIARY   NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1800
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 125
  ShroudClearingRange = 300
  Prerequisites
    Object = GLAArmsDealer
    Object = GLAPalace
  End

  ExperienceValue = 60 60 120 200    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLATankT-90CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ScorpionTankVoiceSelect
  VoiceMove = ScorpionTankVoiceMove
  VoiceAttack = ScorpionTankVoiceAttack
  SoundMoveStart = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart
  VoiceGuard = ScorpionTankVoiceMove

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = ScorpionTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = ScorpionTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 550.0
    InitialHealth   = 550.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 740
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ScorpionLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ScorpionTankDeathEffect 
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = AutoHealBehavior ModuleTag_0500
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName        = GLATurretT-90
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ProductionUpdate ModuleTag_100
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = BOX
  GeometryMajorRadius = 24.0
  GeometryMinorRadius = 15.0
  GeometryHeight = 10.5    
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME   
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object GLATurretT-90

  ; *** ART Parameters ***
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TURRET01
    ExtraPublicBone = TURRETEL
    ExtraPublicBone = TURRETEL01

    AttachToBoneInContainer = CHASSIS

    DefaultConditionState 
      Model               = UVSlthScorpT
      Turret              = TURRET
      WeaponFireFXBone    = TERTIARY WEAPON
;      WeaponMuzzleFlash   = TERTIARY WEAPON
    End

    ConditionState = REALLYDAMAGED
      Model               = UVSlthScorpT_D
      Turret              = TURRET
      WeaponFireFXBone    = TERTIARY WEAPON
;      WeaponMuzzleFlash   = TERTIARY WEAPON
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  Side             = GLA
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CameleonMachineGun
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_0300
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 60   // turn rate, in degrees per sec
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object FakeGLATankScorpion

  ; *** ART Parameters ***
  SelectPortrait         = SUScorpion_L
  ButtonImage            = SUScorpion

  UpgradeCameo1 = Upgrade_GLAScorpionRocket
  UpgradeCameo2 = Upgrade_GLAAPRockets
  UpgradeCameo3 = Upgrade_GLAToxinShells
  UpgradeCameo4 = Upgrade_GLAJunkRepair
  ;UpgradeCameo5 = NONE

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

; ------------ Normal
    DefaultConditionState
      Model = UVLiteTank
      Turret = Turret ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
      ShowSubObject = Turret01
      HideSubObject = MissleRack01 MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = UVLiteTank_d
    End
    AliasConditionState = RUBBLE

; ------------ With big turret
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE ; one or two crates is a turret switch
      ShowSubObject = TurretUP01
      HideSubObject = MissleRack01 MissleRack02 Turret01   ; MissileRack misspelled in the Art
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = TurretUP01
      HideSubObject = MissleRack01 MissleRack02 Turret01   ; MissileRack misspelled in the Art
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED

; ---------- With missile
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject = MissleRack01 Turret01
      HideSubObject = MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 Turret01
      HideSubObject = MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

; ---------- With missile and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE
      ShowSubObject = MissleRack01 TurretUP01
      HideSubObject = MissleRack02 Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 TurretUP01
      HideSubObject = MissleRack02 Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

; ---------- With two missiles and big turret
    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO
      ShowSubObject = MissleRack01 MissleRack02 TurretUP01
      HideSubObject = Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVLiteTank_d
      ShowSubObject = MissleRack01 MissleRack02 TurretUP01
      HideSubObject = Turret01; MissileRack misspelled in the Art
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Scorpion
  Side                  = GLA
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY ScorpionTankGunFAKE
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY ScorpionTankGunFAKE
    Weapon = SECONDARY ScorpionMissileWeaponFAKE
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE
    Weapon = PRIMARY ScorpionTankGunPlusOneFAKE
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE PLAYER_UPGRADE
    Weapon = PRIMARY ScorpionTankGunPlusOneFAKE
    Weapon = SECONDARY ScorpionMissileWeaponFAKE ; No bonus at Plus One
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO
    Weapon = PRIMARY ScorpionTankGunPlusOneFAKE ; No further bonus at plus two
    Weapon = SECONDARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO PLAYER_UPGRADE
    Weapon = PRIMARY ScorpionTankGunPlusOneFAKE ; No further bonus at plus two
    Weapon = SECONDARY ScorpionMissileWeaponPlusTwoFAKE
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 180
  BuildTime       = 2.1          ;in seconds
  VisionRange     = 125
  ShroudClearingRange = 300
  Prerequisites
    Object = GLAArmsDealer
  End

  ExperienceValue = 60 60 120 200    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLATankScorpionCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ScorpionTankVoiceSelect
  VoiceMove = ScorpionTankVoiceMove
  VoiceAttack = ScorpionTankVoiceAttack
  SoundMoveStart = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart
  VoiceGuard = ScorpionTankVoiceMove

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = ScorpionTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceEnter = ScorpionTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER FS_FAKE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 370.0
    InitialHealth   = 370.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 740
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL ScorpionLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ScorpionTankDeathEffect
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  ShadowTexture = fake_supply; this is not really a shadow, it's used for decal to indicate fake structure.
End

;------------------------------------------------------------------------------
Object GLALightTank

  ; *** ART Parameters ***
  Draw                      = W3DTankDraw ModuleTag_01
    OkToChangeModelColor    = Yes
    
    DefaultConditionState          
      Model                 = UVLiteTank
      WeaponMuzzleFlash     = PRIMARY MuzzleFX
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName               = OBJECT:Scorpion
  Side                      = GLA
  EditorSorting             = VEHICLE
  TransportSlotCount        = 3            ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions              = None 
    Weapon                  = PRIMARY CrusaderTankGun
  End
  ArmorSet
    Conditions    = None
    Armor         = TruckArmor
    DamageFX      = TankDamageFX
  End
  BuildCost       = 900
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 200
  Prerequisites
    Object        = GLAArmsDealer
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***

  VoiceSelect     = ScorpionTankVoiceSelect
  VoiceMove       = ScorpionTankVoiceMove
  VoiceGuard      = ScorpionTankVoiceMove
  VoiceAttack     = ScorpionTankVoiceAttack
  SoundMoveStart  = ScorpionTankMoveStart
  SoundMoveStartDamaged = ScorpionTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = ScorpionTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoop
    VoiceCrush      = ScorpionTankVoiceCrush
    VoiceEnter      = ScorpionTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE
  
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots    = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor       = SET_NORMAL BasicTankLocomotor
  Behavior          = PhysicsBehavior ModuleTag_04
    Mass            = 40.0
  End

  Behavior               = DestroyDie ModuleTag_05
    ;nothing
  End
    
  ; A crushing defeat
  Behavior             = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX       = FX_CarCrush
  End
  Behavior             = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList  = OCL_CrusaderTank_CrushEffect
  End
  Behavior             = CreateCrateDie ModuleTag_08
    CrateData     = SalvageCrateData
    ;CrateData     = EliteTankCrateData
    ;CrateData     = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0

  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End


;------------------------------------------------------------------------------
Object GLATankHeavyTank

  ; *** ART Parameters ***
  SelectPortrait         = SUHT_L
  ButtonImage            = SUHT

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  UpgradeCameo2 = Upgrade_GLAToxinShells


  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = Dum_Turret;01
;    ExtraPublicBone = Dum_Turret02


; no crate upgrade
    ConditionState = NONE
      Model = UVHvyTnk
      Turret = TurretUp01
      ShowSubObject = TurretUp01
      HideSubObject = HOUSECOLOR03
      WeaponFireFXBone = PRIMARY BarrelMS
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY BarrelFX
      WeaponLaunchBone = PRIMARY BarrelMS
    End

    ConditionState = REALLYDAMAGED
      Model = UVHvyTnk_d
      Turret = TurretUp01
      ShowSubObject = TurretUp01
      WeaponFireFXBone = PRIMARY BarrelMS
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY BarrelFX
      WeaponLaunchBone = PRIMARY BarrelMS
    End

    ConditionState = RUBBLE
      Model = UVHvyTnk_d
      Turret = TurretUp01
      ShowSubObject = TurretUp01
      WeaponFireFXBone = PRIMARY BarrelMS
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY BarrelFX
      WeaponLaunchBone = PRIMARY BarrelMS
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  Draw = W3DModelDraw ModuleTag_02

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = Dum_Turret01

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = SECONDARY MuzzleFX01
      WeaponFireFXBone = SECONDARY Muzzle01
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = SECONDARY MuzzleFX01
      WeaponFireFXBone = SECONDARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = SECONDARY MuzzleFX01
      WeaponFireFXBone = SECONDARY Muzzle01
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = SECONDARY MuzzleFX01
      WeaponFireFXBone = SECONDARY Muzzle01
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = SECONDARY MuzzleFX01
      WeaponFireFXBone = SECONDARY Muzzle01
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
   End

  Draw = W3DModelDraw ModuleTag_30

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = Dum_Turret02

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = TERTIARY MuzzleFX01
      WeaponFireFXBone = TERTIARY Muzzle01
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = TERTIARY MuzzleFX01
      WeaponFireFXBone = TERTIARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = TERTIARY MuzzleFX01
      WeaponFireFXBone = TERTIARY Muzzle01
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = TERTIARY MuzzleFX01
      WeaponFireFXBone = TERTIARY Muzzle01
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = TERTIARY MuzzleFX01
      WeaponFireFXBone = TERTIARY Muzzle01
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
   End


  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:HeavyTank
  Side                  = GLA
  EditorSorting         = VEHICLE
  TransportSlotCount    = 6                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange     = 125
  ShroudClearingRange = 300
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MarauderTankGunUpgradeTwo
    Weapon = SECONDARY MarauderMachineGun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon = TERTIARY MarauderMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
;--------------------
  BuildCost = 2500
  BuildTime = 25.0
;--------------------
  Prerequisites
    Object = GLAArmsDealer
    Object = GLAPalace
  End

  ExperienceValue = 100 100 200 300    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet           = GLATankMarauderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SandKingTankVoiceSelect
  VoiceMove = SandKingTankVoiceMove
  VoiceGuard = SandKingTankVoiceMove
  VoiceAttack = SandKingTankVoiceAttack
  SoundMoveStart = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = SandKingTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceSalvage = SandKingTankVoiceSalvage
    VoiceCrush = SandKingTankVoiceCrush
    VoiceEnter = SandKingTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 950.0
    InitialHealth   = 950.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 860
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
      Turret
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      TurretTurnRate      = 180 ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
  End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MarauderLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = AutoHealBehavior ModuleTag_06
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    ProbabilityModifier = 50
    DestructionDelay = 1000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_ÚÂÒÚÓÔÓ‚Ó‰ÌËÍ
    OCL = FINAL    OCL_HeavyTankDeathEffect
    FX  = FINAL    FX_BÒÏÂÚ¸“‡ÌÍ‡√Î‡
  End


  Behavior = CreateCrateDie ModuleTag_08
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 9.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
Object GLA_HeavyTankT-80

  ; *** ART Parameters ***

  SelectPortrait         = SUT-72
  ButtonImage            = SUT-72

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ;UpgradeCameo2 = Upgrade_GLAToxinShells

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = SECONDARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset
 
; ------------ Normal  
    DefaultConditionState
      Model = IVAssadBabl
      Turret = TURRET ; Logic twist bone is always this, both turrets are subobjects of it, as are both missile racks
      ; note, order-dependent: we must hide/show Missile AFTER we hide/show MissileRack!
 ;     ShowSubObject = TURRET
 ;     HideSubObject = MissleRack01 MissleRack02 TurretUP01; MissileRack misspelled in the Art
      WeaponFireFXBone = PRIMARY MUZZLEFX01
      WeaponRecoilBone = PRIMARY Barral01
      WeaponFireFXBone = SECONDARY MUZZLEFX01
      WeaponRecoilBone = SECONDARY Barral01
      WeaponLaunchBone = PRIMARY WEAPONA
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponMuzzleFlash = PRIMARY WEAPONA
      WeaponMuzzleFlash = SECONDARY WEAPONA
;      WeaponLaunchBone = TERTIARY TURRET
    End

    ConditionState = REALLYDAMAGED
      Model = IVAssadBabl_d
      ParticleSysBone = HUGEFIRE JetFireLarge
    End
    AliasConditionState = RUBBLE
    
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End


  Draw = W3DModelDraw ModuleTag_Draw02

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = CHASSIS

    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ;--------------------------------------------
    DefaultConditionState
      Model               = UVvan_d2
      Turret              = TURRET
      WeaponFireFXBone    = TERTIARY WEAPON
;      WeaponMuzzleFlash   = TERTIARY WEAPON
    End

    ConditionState = REALLYDAMAGED
      Model               = UVvan_d2
      Turret              = TURRET
      WeaponFireFXBone    = TERTIARY WEAPON
;      WeaponMuzzleFlash   = TERTIARY WEAPON
    End
   End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:T-72
  Side                  = GLA
  EditorSorting         = VEHICLE
  TransportSlotCount    = 6 ;4                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange     = 125
  ShroudClearingRange = 300
;--------------------
  BuildCost = 2500
  BuildTime = 25.0
;--------------------
  Prerequisites
    Object = GLAArmsDealer
    Object = GLAPalace
  End
  ExperienceValue    = 100 100 200 300   ;Experience point value at each level
  ExperienceRequired = 0 200 300 600     ;Experience points needed to gain each level
  IsTrainable        = Yes               ;Can gain experience
  CrusherLevel       = 2                 ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2                 ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLATankMarauderCommandSet ;GLATankT-90CommandSet
;====================================================================================[«¿Ã≈Õ¿-“≈—“](1)
  WeaponSet
    Conditions = None
    Weapon           = PRIMARY  T-80TankGun    ;CameleonMachineGun ;TankMachinegun
    Weapon           = TERTIARY T-80MachineGun ;M1A1TankGun
    PreferredAgainst = TERTIARY INFANTRY
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE
    Weapon           = PRIMARY  T-80TankGunPlusOne    ;CameleonMachineGun ;TankMachinegun
    Weapon           = TERTIARY T-80MachineGunPlusOne ;M1A1TankGun
    PreferredAgainst = TERTIARY INFANTRY
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO
    Weapon           = PRIMARY  T-80TankGunPlusTwo    ;CameleonMachineGun ;TankMachinegun
    Weapon           = TERTIARY T-80MachineGunPlusTwo ;M1A1TankGun
    PreferredAgainst = TERTIARY INFANTRY
  End
;====================================================================================
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End


  ; *** AUDIO Parameters ***
  VoiceSelect = SandKingTankVoiceSelect
  VoiceMove = SandKingTankVoiceMove
  VoiceGuard = SandKingTankVoiceMove
  VoiceAttack = SandKingTankVoiceAttack
  SoundMoveStart = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = SandKingTankVoiceCreate
    ;TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceSalvage = SandKingTankVoiceSalvage
    VoiceCrush = SandKingTankVoiceCrush
    VoiceEnter = SandKingTankVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 950.0
    InitialHealth   = 950.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 860
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;====================================================================================[«¿Ã≈Õ¿-“≈—“](2)
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180 ;100 ;[”„ÎÓ‚‡ˇ ÒÍÓÓÒÚ¸ ‚‡˘ÂÌËˇ ·‡¯ÂÌÍË/Û„ÎÓ‚‡ˇ ÒÍÓÓÒÚ¸ ‚‡˘ÂÌËˇ,‚ ÒÚÂÔÂÌˇı ‚ÒÂÍÛÌ‰Û]
     ;Turn rate, in degrees per sec. ;Turn rate, in degrees per sec.
      ControlledWeaponSlots = PRIMARY TERTIARY ;PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;--------------------------------------------------------------
  Locomotor = SET_NORMAL MarauderLocomotor ;ScorpionLocomotor
;--------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;=======================================================================[œÂÂÌ∏Ò ÒÌËÁÛ ‚‚Âı](3)
  Behavior = AutoHealBehavior ModuleTag_05
    HealingAmount = 10
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End
;=========================================================
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ScorpionTankDeathEffect 
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAScorpionRocket
  End
;=====================================================================[¬œ»À-“≈—“](4)
  Behavior = CreateCrateDie ModuleTag_08
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
;===============================================
  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  
  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000       ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3      ; taking this much damage...
    AflameDamageDelay = 500     ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0 ;[22.0]*
  GeometryMinorRadius = 12.0
  GeometryHeight      = 10.5    
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME   
  ShadowSizeX = 45  ;minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.98

End
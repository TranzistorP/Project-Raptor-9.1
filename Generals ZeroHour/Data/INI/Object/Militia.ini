;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
Object MilitiaInfantryMercenary

  ; *** ART Parameters ***
  SelectPortrait         = SACRaptor
  ButtonImage            = SACRaptor

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  UpgradeCameo3 = Upgrade_AmericaInfantryHealth

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = AISeal
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      HideSubObject     = MUZZLEFX01
    End


    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End

    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End

    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Mercenary
  Side                = Militia
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0
  ShroudClearingRange = 500
  Prerequisites
    Object = MilitiaResistanceHQ
  End
  BuildCost = 2500
  BuildTime = 20.0    ;in seconds
;----------------------------
  MaxSimultaneousOfType = 1
;----------------------------
  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaInfantryColonelBurtonCommandSet ;Boss_RussianSpecOpsCommandSet ;AmericaInfantrySealCommandSet
;==================================================================================================================
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   MilitiaMercenaryRifleWeapon ;ColonelBurtonSniperRifleWeapon ;SealRifleWeapon
    Weapon              = SECONDARY ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY NONE
    Weapon              = TERTIARY  BurtonGrenade ;BossSpecOpsHEGrenadeWeapon
    AutoChooseSources   = TERTIARY  NONE
  End
;==================================================================================================================
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End


  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff

  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

;  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
;    CombatDropKillFX = FX_RangerCombatDropKill
;  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE CAN_RAPPEL

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 220.0 ;200.0
    InitialHealth   = 220.0 ;200.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate ModuleTag_04 ; allows use of command button hunt script with this unit.
  End

  Behavior = AutoFindHealingUpdate ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
;==================================================================================================
  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_TERTIARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End
;===================================================================================================
  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 2000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes ;No ;<==================[ÎÁÍÀÐÓÆÈÂÀÅÒ ÑÅÁß ÂÎ ÂÐÅÌß ÇÀÊËÀÄÊÈ ÂÇÐÛÂ×ÀÒÊÈ = Äà èëè Íåò]¹¹¹¹¹¹¹¹
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 2000          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes ;No ;<==================[ÎÁÍÀÐÓÆÈÂÀÅÒ ÑÅÁß ÂÎ ÂÐÅÌß ÇÀÊËÀÄÊÈ ÂÇÐÛÂ×ÀÒÊÈ = Äà èëè Íåò]¹¹¹¹¹¹¹¹
    PreTriggerUnstealthTime   = 5000 ; in milliseconds

  End

  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ;Hero units can't be squished!
  ;Behavior = SquishCollide ModuleTag_13
  ;  ;nothing
  ;End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaChemicalSuits
  End

  Behavior = AutoHealBehavior ModuleTagHealt
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;===========================================================================
Object MilitiaVehicleHelicopterMi-24Hind

  ; *** ART Parameters ***

  SelectPortrait = MilitiaMi24Hind
  ButtonImage    = MilitiaMi24Hind

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  UpgradeCameo3 = Upgrade_ComancheRocketPods

  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model            = UVMi-24S
      Animation        = UVMi-24S.UVMi-24S
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = REALLYDAMAGED
      Model            = UVMi-24SD
      Animation        = UVMi-24SD.UVMi-24SD
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = RUBBLE
      Model            = UVMi-24SD
      Animation        = UVMi-24SD.UVMi-24SD
      AnimationMode    = LOOP
   ;------------------------------------------
      Turret           = Chassis
      WeaponFireFXBone = PRIMARY   MISSILE
      WeaponLaunchBone = PRIMARY   MISSILE
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
   ;------------------------------------------
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = UVMi-24SD
    End

    OkToChangeModelColor = Yes
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MilitiaHelicopterMi24
  EditorSorting       = VEHICLE
  Side                = Militia
  TransportSlotCount  = 0             ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 260.0 ;[200.0]*
  ShroudClearingRange = 600
;-------------------------------
  Prerequisites
    Object = MilitiaAirfield
    ;Object = MilitiaResistanceHQ
    ;Science = SCIENCE_Airfield
    ;Science = SCIENCE_Rank3
  End
;-------------------------------
  BuildCost = 3800
  BuildTime = 35.0 ;in seconds
;----------------------------
  MaxSimultaneousOfType = 8
;----------------------------
  ExperienceValue    = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired = 0 100 300 600  ;Experience points needed to gain each level
  IsTrainable = Yes
;------------------------------------
  CommandSet = MilitiaMi24CommandSet
;==================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   RSOVenomMissileWeapon           ;[ÐÀÊÅÒÛ ÂÎÇÄÓÕ-ÇÅÌËß: Damage = 38.0 /12 ðàêåò /DelayBetweenShots = 1200 /ClipReloadTime = 15000]
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY Mi24HindMissileWeaponAir        ;[ÐÀÊÅÒÛ ÂÎÇÄÓÕ-ÂÎÇÄÓÕ: Damage = 40.0 /12 ðàêåò /DelayBetweenShots = 500 /ClipReloadTime = 15000]
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = TERTIARY  Mi24HindMachineGunWeapon        ;[ÏÓËÅÌ¨Ò: Damage = 10.0 /AttackRange = 250.0 /WeaponSpeed = 999999.0 /DelayBetweenShots = 100]
    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;==================================================================
  ArmorSet
    Conditions = None
    Armor      = BlackhawkArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresBlackhawkArmor
    DamageFX   = None
  End


  ; *** AUDIO Parameters ***
  VoiceSelect = ReaperVoiceSelect
  VoiceMove   = ReaperVoiceMove
  VoiceGuard  = ReaperVoiceMove
  VoiceAttack = ReaperVoiceAttack
 ;-------------------------------------------------------------------
  SoundAmbient = BossMi24AmbientLoop ;[Îçâó÷êà äâèæêà âèíòîâ]¹¹¹¹¹¹¹¹
 ;-------------------------------------------------------------------
  SoundAmbientRubble = NoSound
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit
  UnitSpecificSounds
    VoiceCreate = ReaperVoiceCreate
    VoiceCrush  = ReaperVoiceMove
    VoiceEnter  = ReaperVoiceMove
  ;----------------------------------
    VoiceUnload   = HelixVoiceUnload
    VoiceGarrison = HelixVoiceMove
  ;----------------------------------
   ;VoiceSupply        = ChinookVoiceSupply
   ;VoiceCombatDrop    = ChinookVoiceCombatDrop
   ;VoiceClearBuilding = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
  End
;============[ÍÀÄÎ ÑÄÅËÀÒÜ ÓÍÈÊÀËÜÍÛÅ ÎÇÂÓ×ÊÈ]=============
;  ; *** AUDIO Parameters ***
;  VoiceSelect     = HIND
;  VoiceMove       = HINDM
;  VoiceAttack     = HINDA
;  VoiceGuard      = HINDA
;  SoundAmbient    = HelixAmbientLoop
;  SoundAmbientRubble = NoSound
;  SoundEnter      = HumveeEnter
;  SoundExit       = HumveeExit
;  UnitSpecificSounds
;   VoiceCreate   = HIND
;    VoiceGarrison = HINDM
;    SoundEject    = PilotSoundEject
;    VoiceEject    = PilotVoiceEject
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
 ;KindOf = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE HUGE_VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD CAN_ATTACK
;------------------------------------------------
  Body = ActiveBody ModuleTag_03
    MaxHealth     = 700.0 ;800.0
    InitialHealth = 700.0 ;800.0
  End
;-------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_04
   ;MaxQueueEntries = 1 ;So you can't build multiple upgrades in the same frame
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;=========================================[ ÈÍÒÅËËÅÊÒ ]=====================
  Behavior = ChinookAIUpdate ModuleTag_06
     AutoAcquireEnemiesWhenIdle = Yes 
     RotorWashParticleSystem = HelixRotorWashRing
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
  End
;============================================================================
  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_HelicopterStartDeath
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
;--------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL SeaDevilLocomotor ;<=============[ÑÊÎÐÎÑÒÜ: 120] ;[VenomLocomotor]*
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;--------------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 50.0
  End
;=============================================================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
;-----------------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_12
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;=========================================================================================================================================
  Behavior = HelicopterSlowDeathBehavior ModuleTag_13
    DeathTypes                      = ALL -LASERED
    DestructionDelay                = 99999999           ;the destruction delay
    SpiralOrbitTurnRate             = 80.0               ;in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 110.0              ;bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999              ;smaller #'s = slow down faster
    MaxBraking                      = 210                ;max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = HelixDamagedLoop ;<--------------------------- [ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]Sound
    MinSelfSpin                     = 40                 ;in degrees per second
    MaxSelfSpin                     = 120                ;in degrees per second
    SelfSpinUpdateDelay             = 300                ;in milliseconds
    SelfSpinUpdateAmount            = 5                  ;in degrees   
    FallHowFast                     = 8.0%               ;fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1000               ;in milliseconds
    MaxBladeFlyOffDelay             = 1000               ;in milliseconds
    AttachParticle                  = SootySmokeTrail ;<-----------------------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1(â PR9.1 áëîê áîëüøå,ñ äðóãèì ParticleName = .tga) ]Particle
    AttachParticleBone              = Propeller02  ;<--------------------------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]ParticleBone
    OCLBlade                        = OCL_HelicopterBladeExplosion ;<----------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]OCL
    FXBlade                         = FX_HelicopterBladeExplosion ;<-----------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]FX
    FXHitGround                     = FX_HelicopterHitGround ;<----------------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]FX
    OCLHitGround                    = OCL_HelicopterHitGround ;<---------------[ ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]OCL
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp ;<-----------[ åñòü îòëè÷èÿ,ïîôèã,ïîéä¸ò ïî ÑÒÀÍÄÀÐÒó PR9.1 ]FX
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = MilitiaMi24HindRubbleHull ;=========================>[ Hulk: MilitiaMi24HindRubbleHull ]¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  End
;============================================================================================================================================
  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;============================================================================================
  Behavior = TransportContain ModuleTag_ICSOPS
    Slots                = 10
    DamagePercentToUnits = 100%
    InitialPayload       = MilitiaInfantryRangerAOP 8 ;<======[Òèï è êîëè÷åñòâî ïàññàæèðîâ]
    AllowInsideKindOf    = INFANTRY ;VEHICLE DOZER ;<=========[×òî ìîæåò ïåðåâîçèòü]
    ForbidInsideKindOf   = AIRCRAFT ;HUGE_VEHICLE VEHICLE
    ExitDelay            = 100
    NumberOfExitPaths    = 1
  End
;============================================================================================
  Behavior = GrantUpgradeCreate ModuleTag_WSU1
    UpgradeToGrant = Upgrade_ComancheRocketPods
  End
;-----------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_WSU2
    TriggeredBy = Upgrade_ComancheRocketPods
  End
;================================================

  Geometry = BOX
  GeometryMajorRadius = 45.0 ;20.0 ;<========[ÇÀÌÅÍÀ-ÒÅÑÒ]¹¹¹¹¹¹¹¹¹
  GeometryMinorRadius = 45.0 ;3.0  ;<========[ÇÀÌÅÍÀ-ÒÅÑÒ]¹¹¹¹¹¹¹¹¹
  GeometryHeight      = 15.0 ;25.0 ;<========[ÇÀÌÅÍÀ-ÒÅÑÒ]¹¹¹¹¹¹¹¹¹
  GeometryIsSmall = No
;;Shadow = SHADOW_VOLUME
;;ShadowSizeX = 89
  Scale = 1.02

End

;------------------------------------------------------------------------------
Object MilitiaJetNapalmMig-29 ;[Boss_ChinaJetMIG]*

  ; *** ART Parameters ***

  SelectPortrait = RVMIG29 ;SNMig_L
  ButtonImage    = RVMIG29 ;SNMig

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_ChinaAircraftArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ChinaBlackNapalm

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = MVMIG29
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState       = JETEXHAUST JETAFTERBURNER
      ShowSubObject      = BurnerFX01 BurnerFX02
      ParticleSysBone     = Exhaust01 JetExhaust
      ParticleSysBone     = Exhaust02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED
      Model               = MVMIG29
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = MVMIG29
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = MVMIG29
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = MVMIG29
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
       Model               = MVMIG29
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MIG
  EditorSorting       = VEHICLE
  Side                = Militia ;[Boss]*
  TransportSlotCount  = 0       ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0 ;[200.0]* 
  ShroudClearingRange = 300.0
;============================================================
  WeaponSet
    Conditions = None
    Weapon     = PRIMARY WhiteTigerNapalmMissileWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon     = PRIMARY WhiteTigerBlackNapalmMissileWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = MigArmor
    DamageFX   = None
  End
;============================================================
  Prerequisites
    Object = MilitiaAirfield
    Object = MilitiaResistanceHQ
    Science = SCIENCE_Airfield
  End
  BuildCost = 2000 ;[1200]*
  BuildTime = 25.0 ;[15.0]*   
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaJetMIGCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect             = MigVoiceSelect
  VoiceMove               = MigVoiceMove
  VoiceAttack             = MigVoiceAttack
  VoiceAttackAir          = MigVoiceAttackAir
  VoiceGuard              = MigVoiceAirPatrol
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate   = MigVoiceCreate
    Afterburner   = RaptorAfterburner
    VoiceGarrison = MigVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
 ;----------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 160.0
    InitialHealth = 160.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;=================================================================================================
  Behavior = JetSlowDeathBehavior ModuleTag_04
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_MIGDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    ;OCLFinalBlowUp                 = OCL_MIGDeathFinalBlowUp
  End

  Behavior = WeaponSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 500.0
  End
;=================================================
  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond  = 10%     ; amount of damage to take per SEC (not per frame) when out of ammo
                                        ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause          = 500
    MinHeight             = 5
    ReturnToBaseIdleTime  = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
;--------------------------------------------------
  Locomotor = SET_NORMAL MIGLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;--------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = MaxHealthUpgrade ModuleTag_10
    TriggeredBy  = Upgrade_ChinaAircraftArmor
    AddMaxHealth = 40.0
    ChangeType   = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
;========================================================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End
  Behavior = CountermeasuresBehavior ModuleTag_12
    TriggeredBy       = Upgrade_AmericaCountermeasures
    FlareTemplateName = CountermeasureFlare
    FlareBoneBaseName = Flare ;Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize        = 2     ;Number of flares launched per volley (requires bones)
    VolleyArcAngle    = 60.0  ;Max angle of flare relative to forward direction(with VolleySize of 1,flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;--------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;--------------------------------------------------------------------------------
  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.12

End

;------------------------------------------------------------------------------
Object MilitiaTank1

  SelectPortrait = SMMilitiaTnk
  ButtonImage    = SMMilitiaTnk

  Draw = W3DOverlordTankDraw ModuleTag_01
    DefaultConditionState
      Model = CVTank
      Turret = Turret01
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY MuzzleFX
    End
    ConditionState = REALLYDAMAGED
      Model = CVTank_D
    End
    ConditionState = RUBBLE
      Model = CVTank_D
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:MilitiaTank
  Side = Militia
  EditorSorting = VEHICLE
  TransportSlotCount = 3
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MilitiaTankGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon     = PRIMARY MilitiaTankGun
    Weapon     = SECONDARY MilitiaBuildingAirDummy ;Dummy weapon that allows manual targeting of air units outside range; gattling cannon upgrade has been made.
  End
  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End
  BuildCost = 550
  BuildTime = 5.0
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaWarFactory
  End
  ExperienceValue = 60 60 120 200  ;[Áûëî êàê ó òàíêà Êðåñòîíîñåö: 100 100 200 400]*
  ExperienceRequired = 0 200 300 600
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = MilitiaTankCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MilitiaTankVoiceSelect
  VoiceMove = MilitiaTankVoiceMove
  VoiceAttack = MilitiaTankVoiceAttack
  SoundMoveStart = MilitiaTankMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound
    VoiceCreate = MilitiaTankVoiceCreate
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE HUGE_VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
  Body = ActiveBody ModuleTag_02
    MaxHealth = 480.0
    InitialHealth = 480.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 140
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MilitiaTankLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = ProductionUpdate ModuleTag_05
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots = 1
    DamagePercentToUnits = 100%
    AllowInsideKindOf = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_MilitiaMacGun
    TriggeredBy   = Upgrade_MilitiaMacGun
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX = INITIAL FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX = INITIAL FX_CrusaderCatchFire
    OCL = FINAL OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45

End

;------------------------------------------------------------------------------
Object MilitiaTankStalker

  SelectPortrait         = SMStalker_L
  ButtonImage            = SMStalker

  ; *** ART Parameters ***

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = MVStalker
      Turret = Turret
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model = MVStalker_D
    End
    ConditionState = RUBBLE
      Model = MVStalker_D
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire04
    LeftRearTireBone = Tire05
    RightRearTireBone = Tire06
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Stalker
  Side = Militia
  EditorSorting = VEHICLE
  TransportSlotCount = 3
  WeaponSet
    Conditions = None
    Weapon = PRIMARY StalkerTankGun
  End
  ArmorSet
    Conditions = None
    Armor = TankArmor
    DamageFX = TankDamageFX
  End
;---------------------------------------------------------------------
  BuildCost = 1000 ;[â 9.1.19+Fix2 áûëî: 1200]* ;[â 9.0 áûëî: 1000]**
  BuildTime = 10.0 ;[â 9.1.19+Fix2 áûëî: 15.0]* ;[â 9.0 áûëî: 10.0]**
;---------------------------------------------------------------------
  VisionRange = 150
  ShroudClearingRange = 300
;------------------------------
  Prerequisites
    Object = MilitiaWarFactory
  End
;------------------------------
  ExperienceValue = 100 100 200 400
  ExperienceRequired = 0 200 300 600
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = MilitiaVehicleStalkerCommandSet ;;MilitiaTankStalkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MilitiaTankVoiceSelect
  VoiceMove = MilitiaTankVoiceMove
  VoiceAttack = MilitiaTankVoiceAttack
  SoundMoveStart = MilitiaTankMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound
    VoiceCreate = MilitiaTankVoiceCreate
  End

   ; *** ENGINEERING Parameters ***
 RadarPriority = UNIT
 KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT SALVAGER WEAPON_SALVAGER VEHICLE HUGE_VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT
;-----------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 435.0
    InitialHealth = 435.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 140
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;------------------------------------------------
  Locomotor = SET_NORMAL MilitiaStalkerLocomotor
;------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = ProductionUpdate ModuleTag_05
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;-------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX = INITIAL FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX = INITIAL FX_CrusaderCatchFire
    OCL = FINAL OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
;--------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End
;----------------------------------------------------------------------------------------------
  Behavior = TransportContain  ModuleTag_SRGNSN1 ;_05
    PassengersAllowedToFire = No
    Slots                = 4 ;6
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
  Behavior = ObjectCreationUpgrade ModuleTag_SRGNSN2 ;_GarnisonSpawn01
    UpgradeObject = OCL_MilitiaStalkerGarnison ;[OCL_AirF_BradleyGarnison]*
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade ;[Upgrade_AmericaBradleyGarnison]*
  End
;-----------------------------------------------------------------------------------------------

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
  Scale = 1.05

End

;---------------------------------------------------------------------------
Object MilitiaVehicleArtillery

  ; *** ART Parameters ***
  SelectPortrait         = SMFarmArt_L
  ButtonImage            = SMFarmArt

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = MVFarmerArt
      Turret = TURRET01
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState = REALLYDAMAGED
      Model = MVFarmerArt_D
      Turret = TURRET01
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState = RUBBLE
      Model = MVFarmerArt_D
      Turret = TURRET01
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
;----------------------------------------------------[ ??? ]
    TrackMarks = EXTireTrack.tga

    Dust                        = RocketBuggyDust
    DirtSpray                   = RocketBuggyDirtSpray
    PowerslideSpray             = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    LeftRearTireBone            = Tire03
    RightRearTireBone           = Tire05
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:FarmerArtillery
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FarmerArtilleryWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = TruckArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 900
  BuildTime = 10.0 ;in seconds
  VisionRange = 180.0
  ShroudClearingRange = 300.0
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
  End
  ExperienceValue    = 50 50 100 150 ;Experience point value at each level
  ExperienceRequired = 0 200 400 800 ;Experience points needed to gain each level
  IsTrainable    = Yes               ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GLAVehicleRocketBuggyCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RocketBuggyVoiceSelect
  VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = RocketBuggyMoveStart
  SoundMoveStartDamaged = RocketBuggyMoveStart
  VoiceGuard = RocketBuggyVoiceMove
 ;---------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RocketBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush      = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE
;-------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 160.0
    InitialHealth   = 160.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 90
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL SupplyTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; The pop up AirDeath
;  Behavior = SlowDeathBehavior ModuleTag_05 ;ÁÛËÎ
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    ProbabilityModifier = 5
;    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
;    DestructionDelay = 0
;    FX = INITIAL FX_BuggyNewDeathExplosion
;    OCL = FINAL OCL_RocketBuggyAirDeathStart
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = SlowDeathBehavior ModuleTag_05 ;ÇÀÌÅÍÀ
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_MicrowaveTankDeath
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = CreateObjectDie ModuleTag_13 ;ÂÛÐÅÇÀË ËÈØÍÅÅ
;    DeathTypes = NONE +CRUSHED +SPLATTED
;    CreationList = OCL_RocketBuggy_CrushEffect
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = CreateCrateDie ModuleTag_13
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 7.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaBarracks

 ; *** ART Parameters ***
  SelectPortrait         = MUBarracks
  ButtonImage            = MUBarracks

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBBarRack ;MBBarracks2
;      Animation     = MBBarracks2.MBBarracks2
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBBarRack_D
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED
      Model         = MBBarRack_E
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBBarRack_D
    End

    ; night
    ConditionState = NIGHT
      Model         = MBBarRack
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBBarRack_D
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBBarRack_E
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBBarRack_D
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBBarRack_S
    End
    ConditionState = DAMAGED SNOW
      Model         = MBBarRack_DS
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBBarRack_E
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBBarracks_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBBarRack_S
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBBarRack_DS
      ParticleSysBone = Smoke01 ChimneySmokeSmall
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBBarRack_E
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBBarracks_R
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBBarRack
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBBarRack_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBBarRack_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBBarRack
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBBarRack_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBBarRack_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBBarRack_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBBarRack_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBBarRack_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBBarRack_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBBarRack_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBBarRack_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBBarracks_A6
      Animation       = UBBarracks_A6.UBBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
      ParticleSysBone = Smoke05 BuildUpSmoke
      ParticleSysBone = Smoke06 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBBarracks_A6N
      Animation       = UBBarracks_A6N.UBBarracks_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
      ParticleSysBone = Smoke05 BuildUpSmoke
      ParticleSysBone = Smoke06 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBBarracks_A6S
      Animation       = UBBarracks_A6S.UBBarracks_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
      ParticleSysBone = Smoke06 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBBarracks_A6SN
      Animation       = UBBarracks_A6SN.UBBarracks_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke05 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke06 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBBarracks_A6
      Animation       = UBBarracks_A6.UBBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBBarracks_A6N
      Animation       = UBBarracks_A6N.UBBarracks_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBBarracks_A6S
      Animation       = UBBarracks_A6S.UBBarracks_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBBarracks_A6SN
      Animation       = UBBarracks_A6SN.UBBarracks_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBBarracks_A6
      Animation       = UBBarracks_A6.UBBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBBarracks_A6N
      Animation       = UBBarracks_A6N.UBBarracks_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBBarracks_A6S
      Animation       = UBBarracks_A6S.UBBarracks_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBBarracks_A6SN
      Animation       = UBBarracks_A6SN.UBBarracks_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

    Draw = W3DModelDraw ModuleTag_NightCondition01
    OkToChangeModelColor = Yes

      DefaultConditionState
          Model              = NONE
      End
    AliasConditionState  = AWAITING_CONSTRUCTION 
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    
      ConditionState = NIGHT
          Model              = MBBarRack_N
      End
      ConditionState = NIGHT DAMAGED
          Model              = MBBarRack_N
      End
      ConditionState = NIGHT REALLYDAMAGED
          Model              = MBBarRack_N
      End
      ConditionState = NIGHT SNOW
          Model              = MBBarRack_N
      End
      ConditionState = NIGHT DAMAGED SNOW
          Model              = MBBarRack_N
      End
      ConditionState = NIGHT REALLYDAMAGED SNOW
          Model              = MBBarRack_N
      End    
      
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED NIGHT
      Model              = MBBarRack_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End

  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Barracks
  Side = Militia
  EditorSorting       = STRUCTURE
  BuildCost           = 500
  BuildTime           = 7.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = MilitiaBarracksCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  Prerequisites
;    Object = AmericaPowerPlant
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = BarracksGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = ProductionUpdate ModuleTag_10
    QuantityModifier = MilitiaInfantryFremen   4
  End

  Behavior                  = CreateObjectDie ModuleTag_080102
    CreationList       = OCL_LargeStructureDebris
  End
  Behavior                  = FXListDie ModuleTag_10103
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_1121
    UnitCreatePoint   = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 42.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = HealContain ModuleTag_06
    ContainMax          = 10 ;way bigger than the # of objects we can have
    TimeForFullHeal     = 2000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = FlammableUpdate ModuleTag_50
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_51
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare
  End

  Behavior = FXListDie ModuleTag_07
    DeathFX = FX_BuildingDie
  End

  Geometry              = BOX
  GeometryMajorRadius   = 42.0
  GeometryMinorRadius   = 42.0
  GeometryHeight        = 57.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MilitiaInfantryFremen

  ; *** ART Parameters ***
  SelectPortrait         = RepublicanGuard
  ButtonImage            = RepublicanGuard

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = MIGuerilla
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA 
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB 
      AnimationMode       = ONCE
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponFireFXBone    = TERTIARY Muzzle
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = UIRGrd_SKL.UIRGrd_RNA 15
      AnimationMode       = LOOP
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED
    
    ; ---- dying 
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA 
      Animation           = UIRGrd_SKL.UIRGrd_DTB 
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
    
    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Animation = UIRGrd_SKL.UIRGrd_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End

    TransitionState = TRANS_Standing TRANS_Firing
      Animation = UIRGrd_SKL.UIRGrd_ATAST
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Firing TRANS_Standing
      Animation = UIRGrd_SKL.UIRGrd_ATAED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_StandingHurt TRANS_FiringHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE_BACKWARDS
    End

    TransitionState = TRANS_FiringHurt TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Standing TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

     ; ---- firing
    ConditionState = USING_WEAPON_B
      Animation = UIRGrd_SKL.UIRGrd_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_B REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End

    TransitionState = TRANS_Standing TRANS_Firing
      Animation = UIRGrd_SKL.UIRGrd_ATAST
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Firing TRANS_Standing
      Animation = UIRGrd_SKL.UIRGrd_ATAED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_StandingHurt TRANS_FiringHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE_BACKWARDS
    End

    TransitionState = TRANS_FiringHurt TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Standing TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    ; ---- firing
    ConditionState = USING_WEAPON_C
      Animation = UIRGrd_SKL.UIRGrd_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_C REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End

    TransitionState = TRANS_Standing TRANS_Firing
      Animation = UIRGrd_SKL.UIRGrd_ATAST
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Firing TRANS_Standing
      Animation = UIRGrd_SKL.UIRGrd_ATAED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_StandingHurt TRANS_FiringHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE_BACKWARDS
    End

    TransitionState = TRANS_FiringHurt TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Standing TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    ; ------- Bldg-capture

    ConditionState = UNPACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState = RAISING_FLAG
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState = PACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState = TRANS_Raising TRANS_Packing
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End
   End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Fremen
  Side                = Militia
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY MilitiaFremenMachineGun
    Weapon        = TERTIARY MilitiaFremenMachineTauntGun
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks MilitiaVehicleMobileBarrack
  End
  BuildCost = 300 ;[PR9.0/PR9.1_v.01: 200]*
  BuildTime = 5.0          ;in seconds
 ;--------------------------------
  MaxSimultaneousOfType = 32
 ;--------------------------------
  ExperienceValue     = 10 15 30 40     ;Experience point value at each level
  ExperienceRequired  = 0 40 60 120     ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = MilitiaInfantryFremenCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RebelVoiceSelect
  VoiceMove = RebelVoiceMove
  VoiceGuard = RebelVoiceMove
  VoiceAttack = RebelVoiceAttack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = RebelVoiceFear
  VoiceTaskComplete = RebelVoiceCaptureComplete
  UnitSpecificSounds
    VoiceCreate = RebelVoiceCreate
    VoiceSubdue = RebelVoiceSubdue
    VoiceGarrison = RebelVoiceGarrison
    VoiceEnter = RebelVoiceMove
    VoiceEnterHostile = RebelVoiceMove
    VoiceGetHealed      = RebelVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS DISGUISER INFANTRY SCORE SALVAGER WEAPON_SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 65.0
    InitialHealth   = 65.0
  End

;  Behavior = VeterancyGainCreate ModuleTag_06
;    StartingLevel = HEROIC
;  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
  End

  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End

  Behavior = GrantUpgradeCreate ModuleTag_52
    UpgradeToGrant     = Upgrade_GLAAPBullets
  End
  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End


  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_17
    SpecialPowerTemplate      = SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound         = RebelVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_18
    SpecialPowerTemplate  = SpecialAbilityRebelCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = GrantUpgradeCreate ModuleTag_54
    UpgradeToGrant     = Upgrade_InfantryCaptureBuilding
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_19
    SpecialPowerTemplate = SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object MilitiaInfantryWorker

  ; *** ART Parameters ***
  SelectPortrait         = MUForkstift
  ButtonImage            = MUForkstift

  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor    = Yes

    DefaultConditionState
      Model                 = MVForkstift
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
    End
    ConditionState          = MOVING
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
    End
    ConditionState = FIRING_A MOVING PREATTACK_A 
      Model = MVForkstift
      Animation = MVForkstift.MVForkstift
      AnimationMode = ONCE
      ParticleSysBone = EXHAUST01 DozerSmokeLight
      ParticleSysBone = DIRTFX01 DozerDirtFall
    End
    AliasConditionState = ATTACKING FIRING_A MOVING

    ConditionState          = REALLYDAMAGED RUBBLE
      Model                 = MVForkstift_D
    End
    ConditionState          = MOVING REALLYDAMAGED RUBBLE
      Model                 = MVForkstift_D
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
    End
    ConditionState = FIRING_A MOVING PREATTACK_A REALLYDAMAGED RUBBLE
      Model = MVForkstift_D
      Animation = MVForkstift_D.MVForkstift_D
      AnimationMode = ONCE
      ParticleSysBone = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone = DIRTFX01 DozerDirtFall
    End
    AliasConditionState = ATTACKING FIRING_A MOVING REALLYDAMAGED RUBBLE
    
    TrackMarks            = EXTireTrack2.tga
    Dust                  = RocketBuggyDust
    DirtSpray             = RocketBuggyDirtSpray

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.

    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    LeftRearTireBone      = TIRE03
    RightRearTireBone     = TIRE04

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

  ParticlesAttachedToAnimatedBones = Yes 

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Dozer
  Side                = Militia
  EditorSorting       = VEHICLE
  TransportSlotCount  = 2                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 500
  BuildTime           = 5.0 ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions = None
    Armor      = DozerArmor ;Special Explosion-Proof Armor
    DamageFX   = TankDamageFX
  End
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
 ;----------------------------------------------------------------------
  SoundMoveStart        = DozerUSAMoveStart ;<==========[ÎÇÂÓ×ÊÀ ÄÂÈÆÊÀ]
  SoundMoveStartDamaged = DozerUSAMoveStart ;<==========[ÎÇÂÓ×ÊÀ ÄÂÈÆÊÀ]
 ;----------------------------------------------------------------------
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End
 
  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER SALVAGER WEAPON_SALVAGER
  
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 200.0
    InitialHealth     = 200.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 400
    SubdualDamageHealAmount = 40
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End
  Locomotor                    = SET_NORMAL AmericaVehicleDozerLocomotor
  Behavior            = PhysicsBehavior ModuleTag_04
    Mass              = 75.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericCarExplode
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End 

  Behavior = CreateCrateDie ModuleTag_09
    CrateData = SalvageCrateData
  End
    
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = FXListDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = ProductionUpdate ModuleTag_1800
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0;new radius to align mine sweeping position
  GeometryMinorRadius = 10.0
  GeometryHeight      = 10.0     
  GeometryIsSmall     = NO
  Scale = 1.08
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End


;-------------------------[ÂÛÏÈËÈË - ÓØËÀ ê Á.Î.Ñ.Ñ.-ó]--------------------
Object MilitiaArtillery

  ; *** ART Parameters ***
  SelectPortrait         = SMArt_L
  ButtonImage            = SMArt


  ; ========================= Main Model ===============================
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; DAY **************************************************************
    DefaultConditionState
      Model                           = MBArtillery
      WeaponLaunchBone                = PRIMARY WeaponA
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponRecoilBone                = PRIMARY Barrel
      WeaponFireFXBone                = PRIMARY WeaponA
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = MBArtillery_D
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = MBArtillery_E
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = MBArtillery
    End

    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = MBArtillery_D
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = MBArtillery_E
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = MBArtillery_S
    End

    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = MBArtillery_DS
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW
      Model         = MBArtillery_ES
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = MBArtillery_S
    End

    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = MBArtillery_DS
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = MBArtillery_ES
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End

    ;Fixes Muzzle flash problem *****************************************
    ConditionState  = USING_WEAPON_B
      Model                           = MBArtillery
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ; DAMAGED **********************************************************
    ConditionState  = USING_WEAPON_B DAMAGED
      Model         = MBArtillery_D
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; REALLYDAMAGED ****************************************************
    ConditionState  = USING_WEAPON_B REALLYDAMAGED
      Model         = MBArtillery_E
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; NIGHT ************************************************************
    ConditionState  = USING_WEAPON_B NIGHT
      Model         = MBArtillery
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ; NIGHT DAMAGED ****************************************************
    ConditionState  = USING_WEAPON_B DAMAGED NIGHT
      Model         = MBArtillery_D
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = USING_WEAPON_B REALLYDAMAGED NIGHT
      Model         = MBArtillery_E
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; SNOW *************************************************************
    ConditionState  = USING_WEAPON_B SNOW
      Model         = MBArtillery_S
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ; SNOW DAMAGED *****************************************************
    ConditionState  = USING_WEAPON_B DAMAGED SNOW
      Model         = MBArtillery_DS
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = USING_WEAPON_B REALLYDAMAGED SNOW
      Model         = MBArtillery_ES
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End
    ; SNOW NIGHT *******************************************************
    ConditionState  = USING_WEAPON_B SNOW NIGHT
      Model         = MBArtillery_S
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = USING_WEAPON_B SNOW NIGHT DAMAGED
      Model         = MBArtillery_DS
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
    End

    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = USING_WEAPON_B SNOW NIGHT REALLYDAMAGED
      Model         = MBArtillery_ES
      WeaponLaunchBone                = SECONDARY WeaponA
      WeaponMuzzleFlash               = SECONDARY TurretFX
      WeaponRecoilBone                = SECONDARY Barrel
      WeaponFireFXBone                = SECONDARY WeaponA
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      ParticleSysBone = Smoke01 SmokeFactionMedium
      ParticleSysBone = Smoke02 SmokeFactionMedium
      ParticleSysBone = Smoke03 SmokeFactionMedium
      ParticleSysBone = Smoke04 SmokeFactionMedium
      ParticleSysBone = Smoke05 SmokeFactionMedium
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBArtillery
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBArtillery_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBArtillery_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBArtillery
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBArtillery_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBArtillery_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBArtillery_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBArtillery_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBArtillery_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBArtillery_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBArtillery_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBArtillery_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03012
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ; *** AUDIO Parameters ***
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ArtilleryPlatform ;-[ÂÛÏÈËÈË - ÓØËÀ ê Á.Î.Ñ.Ñ.-ó]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Side = Militia
  EditorSorting       = STRUCTURE
  BuildCost           = 900
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  VisionRange         = 300.0           ; Shroud clearing distance
  ShroudClearingRange = 300
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY MilitiaArtilleryGun
    PreferredAgainst     = PRIMARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources    = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon               = SECONDARY MilitiaArtilleryAbilityGun
    AutoChooseSources    = SECONDARY NONE
  End
  CommandSet = MilitiaArtilleryCommandSet
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  
  Prerequisites
;    Object = AmericaPowerPlant
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1500.0
    InitialHealth      = 1500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior             = DestroyDie ModuleTag_122
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 300   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior                = FlammableUpdate ModuleTag_50
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 180   // turn rate, in degrees per sec
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      NaturalTurretPitch    = 0
      GroundUnitPitch       = 20
      MinPhysicalPitch      = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = FXListDie ModuleTag_07
    DeathFX            = WeaponFX_BombTruckDefaultBombDetonation
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_BuildingDie
  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End

  Behavior = ProductionUpdate ModuleTag_12
  End
  Geometry              = BOX
  GeometryMajorRadius   = 23.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MilitiaCommandCenter

; *** ART Parameters ***
  SelectPortrait         = MUCommandCenter
  ButtonImage            = MUCommandCenter

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBConyard ;MBComCent 
      Animation     = MBConyard.MBConyard
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; night
    ConditionState = NIGHT
      Model         = MBConyard ;MBComCent 
      Animation     = MBConyard.MBConyard
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBConyard_S ;MBComCent 
      Animation     = MBConyard_S.MBConyard_S
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBConyard_S ;MBComCent 
      Animation     = MBConyard_S.MBConyard_S
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = MBConyard ;MBComCent 
      Animation     = MBConyard.MBConyard
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = MBConyard ;MBComCent 
      Animation     = MBConyard.MBConyard
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = MBConyard_D ;MBComCent_D
      Animation     = MBConyard_D.MBConyard_D
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = MBConyard_S ;MBComCent 
      Animation     = MBConyard_S.MBConyard_S
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = MBConyard_S ;MBComCent 
      Animation     = MBConyard_S.MBConyard_S
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = MBConyard_DS ;MBComCent_D
      Animation     = MBConyard_DS.MBConyard_DS
      ParticleSysBone = Smoke01 SteamVent
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBConyard_A4
      Animation       = MBConyard_A4.MBConyard_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBConyard_A6
      Animation       = MBConyard_A6.MBConyard_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle  = -135


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CommandCenter
  Side                = Militia
  EditorSorting       = STRUCTURE
 ;------------------------------------------------
  BuildCost        = 2000 ;1500 ;[1200]*
  RefundValue      = 10  ;Öåíà çà ïðîäàæó çäàíèÿ
 ;------------------------------------------------
  BuildTime        = 45.0 ;40.0       ;in seconds
 ;------------------------------------------------
  EnergyProduction    = 0
  CommandSet          = MilitiaCommandCenterCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
 ;-----------------------------------------
  MaxSimultaneousOfType = 1 ;3 ;¹¹¹¹¹¹¹¹¹¹¹
 ;-----------------------------------------
  ; *** AUDIO Parameters ***
  VoiceSelect         = CommandCenterGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 12000.0 ;8000.0 ;4000.0 ;[2000.0]* ;¹¹¹¹¹¹¹¹¹¹¹
    InitialHealth = 12000.0 ;8000.0 ;4000.0 ;[2000.0]* ;¹¹¹¹¹¹¹¹¹¹¹
  End

  Behavior = ProductionUpdate ModuleTag_05
    ; nothing
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_06
    UnitCreatePoint   = X: 11,026  Y: -2,473   Z:0.0
    NaturalRallyPoint = X: 50,968  Y: -2,212   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
;=============================================[ÒÐÈ ÒÅÃÀ ÐÀÄÀÐÀ: Òåïåðü ñïóòíèêîâóþ ìèíè-êàðòó âèäíî ñòðàçó ñî ñòàðòà èãðû]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                   ;[Ðàäàð íå áóäåò îòêëþ÷¸í èç-çà äåôèöèòà ýíåðãîïîòðåáëåíèÿ]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
    DisableProof  = Yes ; Won't be disabled by power low ;<========[ÒÅÑÒ: Äîáàâèë ñþäà ýòó ñòðîêó êîäà âçÿòóþ ó GLA-øíîãî Ðàäàðíîãî ôóðãîíà]¹¹¹¹¹¹¹
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[Âðåìÿ ðàñïðîñòðàíåíèÿ ðàäàðà â ìñåêóíäàõ]
  End
;=======================================================[Êîä Àãåíòà]==============================================================================
  Behavior = OCLSpecialPower ModuleTag_SSMAgent;_21
    SpecialPowerTemplate = SpecialPowerSpySatelliteMilitiaSpy
    OCL                  = SUPERWEAPON_MilitiaSpyAgent
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior           = OCLSpecialPower ModuleTag_260
    SpecialPowerTemplate = SuperweaponMigStrike
    UpgradeOCL           = SCIENCE_MIGStrike3 SUPERWEAPON_MIGStrike3
    UpgradeOCL           = SCIENCE_MIGStrike2 SUPERWEAPON_MIGStrike2
    OCL                  = SUPERWEAPON_MIGStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_14
    SpecialPowerTemplate = SuperweaponEmergencyRepair
    UpgradeOCL           = SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End
  
;=============================================================[Çàñàäà ôóíäàìåíòàëèñòîâ]===================
  Behavior           = OCLSpecialPower ModuleTag_11
    SpecialPowerTemplate = SuperweaponFundamentalistAmbush
    UpgradeOCL           = SCIENCE_FundamentalistAmbush3 SUPERWEAPON_FundamentalistAmbush3
    UpgradeOCL           = SCIENCE_FundamentalistAmbush2 SUPERWEAPON_FundamentalistAmbush2
    OCL                  = SUPERWEAPON_FundamentalistAmbush1
    CreateLocation       = CREATE_AT_LOCATION
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End
;================================================================================
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = OCLSpecialPower ModuleTag_22000
    SpecialPowerTemplate = SuperweaponParadropAmericaParticleTank
    OCL                  = SUPERWEAPON_PartTankParadrop ;<==========[Ãåíåðàëüñêîå Ïîâûøåíèå-ñêèëë "Äåñàíò Ãåí.Øòàáà ÎÎÏ"]
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior           = OCLSpecialPower ModuleTag_261
    SpecialPowerTemplate = SuperweaponTerrorPlane
    OCL                  = SUPERWEAPON_TerrorPlane
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
  End

;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
;[ Ñêèëë: Íàë¸ò òð¸õ "æ¸ëòûõ èñòðåáèòåëåé-ïóëåì¸ò÷èêîâ" (Áûë âûðåçàí ó Êàññàäà è äîáàâëåí ÀÎÏ â ïàò÷å 9.1.19)]
;-------------------------------------------------------------------------------------------------------------
  Behavior           = OCLSpecialPower ModuleTag_2600
    SpecialPowerTemplate = SuperweaponGLAThunderboltMissileStrike
    OCL                  = SUPERWEAPON_ChinaSatHack3_DrokStrike
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = OCLSpecialPower ModuleTag_111
    SpecialPowerTemplate = SuperweaponSalvageDropGLA                                    ;[Ñáðîñ Ãóìàíèòàðíîé Ïîìîùè]
    OCL                  = SUPERWEAPON_GLASalvageDrop3 ;SUPERWEAPON_GLASalvageDrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
;;;;UpgradeOCL = SCIENCE_SalvageDrop3 SUPERWEAPON_GLASalvageDrop3
;;;;UpgradeOCL = SCIENCE_SalvageDrop2 SUPERWEAPON_GLASalvageDrop2
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
;===============[Çàñàäà êîíâîÿ (Äâà êèòàéñêèõ ãðóçîâèêà ñ ÝÌÈ è ÿäåðíîé áîåãîëîâêàìè)]===================================
  Behavior           = OCLSpecialPower ModuleTag_18
    SpecialPowerTemplate = SuperweaponConvoyAmbush
    OCL                  = SUPERWEAPON_ConvoyAmbush
    CreateLocation       = CREATE_AT_LOCATION
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End
;========================================================================================================================
  Behavior = DefectorSpecialPower ModuleTag_28
    SpecialPowerTemplate = SuperweaponDefector ; @todo lorenzen add fatcursor params
  End

  Behavior = DestroyDie ModuleTag_100
    ;nothing
  End

  Behavior = CreateObjectDie ModuleTag_080102
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = FXListDie ModuleTag_10103
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_07
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare

  End

  Geometry              = BOX
  GeometryMajorRadius   = 50.0
  GeometryMinorRadius   = 70.0
  GeometryHeight        = 15.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MilitiaMig29Fire

  ; *** ART Parameters ***
  SelectPortrait         = RVMIG29
  ButtonImage            = RVMIG29

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06

    DefaultConditionState
      Model             = RVMIG29
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone  = PRIMARY Muzzle01
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState      = REALLYDAMAGED
      Model             = RVMIG29
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone  = PRIMARY Muzzle01
    End
    AliasConditionState  = RUBBLE

   ParticlesAttachedToAnimatedBones = Yes 

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:A10Thunderbolt ;-[MilitiaMig29Fire]
  EditorSorting       = VEHICLE
  Side                = Militia
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0 
  ShroudClearingRange = 300
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Mig-29Rockets
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient = A10ThunderboltAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10ThunderboltDive
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_003
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_MIGDeathFinalBlowUp
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_MigDeathInitial
    OCLInitialDeath                 = OCL_MIGDeathInitial
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_MIGDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_MIGDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    ;OCLFinalBlowUp                  = OCL_MIGDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 400.0
  End

  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponMigStrike
    UpgradeOCL           = SCIENCE_MIGStrike3 SUPERWEAPON_MIGStrike3
    UpgradeOCL           = SCIENCE_MIGStrike2 SUPERWEAPON_MIGStrike2
    OCL                  = SUPERWEAPON_MIGStrike1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_07
  End
  Locomotor = SET_NORMAL A10ThunderboltLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object MilitiaSupplyCenter

 ; *** ART Parameters ***
  SelectPortrait         = MUSupplyCenter
  ButtonImage            = MUSupplyCenter

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBSupCentr4 ;MBSupply
    End
    ConditionState = DAMAGED
      Model         = MBSupCentr4_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
  ConditionState = REALLYDAMAGED
      Model         = MBSupCentr4_E
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBSupply_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBSupCentr4
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBSupCentr4_D
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBSupCentr4_E
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBSupply;_RN
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBSupCentr4_S
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBSupCentr4_DS
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBSupCentr4_E
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBSupply;_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBSupCentr4_S
;      Animation     = MBSupply.MBSupply
;      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBSupCentr4_DS
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBSupCentr4_E
;      Animation     = MBSupply_D.MBSupply_D
;      AnimationMode = LOOP
      ParticleSysBone = Smoke01 ChimneySmokeSmall
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBSupply;_RSN
    End
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBSupCentr4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBSupCentr4_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBSupCentr4_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBSupCentr4
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBSupCentr4_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBSupCentr4_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBSupCentr4_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBSupCentr4_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBSupCentr4_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBSupply
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBSupCentr4_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBSupCentr4_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBSupply_A6
      Animation       = MBSupply_A6.MBSupply_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBSupply_A4
      Animation       = MBSupply_A4.MBSupply_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyCenter ;OBJECT:SupplyStash
  Side                = Militia
  EditorSorting       = STRUCTURE
  BuildCost           = 1500 ;[1300]*
  RefundValue         = 800  ;650 ; With nothing (or zero) listed, we sell for half price.
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = MilitiaSupplyStashCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyCenterGLASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR CAPTURABLE AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY SCORE_CREATE CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
  Body                = StructureBody ModuleTag_04
    MaxHealth       = 2000.0 ;1500.0
    InitialHealth   = 2000.0 ;1500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = SupplyCenterCreate ModuleTag_05
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior                 = CreateObjectDie ModuleTag_08
    CreationList      = OCL_SmallStructureDebris
  End
  Behavior                 = FXListDie ModuleTag_09
    DeathFX           = FX_StructureSmallDeath
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;=============================================[ÒÐÈ ÒÅÃÀ ÐÀÄÀÐÀ: Òåïåðü ñïóòíèêîâóþ ìèíè-êàðòó âèäíî ñòðàçó ñî ñòàðòà èãðû]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                   ;[Ðàäàð íå áóäåò îòêëþ÷¸í èç-çà äåôèöèòà ýíåðãîïîòðåáëåíèÿ]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
    DisableProof  = Yes ; Won't be disabled by power low ;<========[ÒÅÑÒ: Äîáàâèë ñþäà ýòó ñòðîêó êîäà âçÿòóþ ó GLA-øíîãî Ðàäàðíîãî ôóðãîíà]¹¹¹¹¹¹¹
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[Âðåìÿ çàäåðæêè ðàñïðîñòðàíåíèÿ ðàäàðà â ìñåêóíäàõ]
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_11
    NaturalRallyPoint = X: 55,82  Y: 17,15   Z:0.0
    UnitCreatePoint   = X: -3,292  Y: 17,15   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior            = SpawnBehavior ModuleTag_12
    SpawnNumber       = 1
    SpawnReplaceDelay = 9999
    SpawnTemplateName = MilitiaSupplyCrago
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_13
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 44.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 35.0
  GeometryIsSmall     = No
  ;FactoryExtraBibWidth= 1.0     ; extra placement border.
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object MilitiaWarFactory

  ; *** ART Parameters ***
 ; *** ART Parameters ***
  SelectPortrait         = MUWarFactory
  ButtonImage            = MUWarFactory

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
    ; day
    DefaultConditionState
      Model         = MBArmsDear;MBFact
      Animation       = MBArmsDear.MBArmsDear ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
    End
    ConditionState = DAMAGED
      Model         = MBArmsDear_D;MBFact
      Animation       = MBArmsDear_D.MBArmsDear_D ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = REALLYDAMAGED
      Model         = MBArmsDear_E;MBFact
      Animation       = MBArmsDear_E.MBArmsDear_E ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = RUBBLE
      Model         = MBFact_D;_R
    End

    ; night
    ConditionState = NIGHT
      Model         = MBArmsDear;MBFact
      Animation       = MBArmsDear.MBArmsDear ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBArmsDear_D;MBFact
      Animation       = MBArmsDear_D.MBArmsDear_D ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBArmsDear_E;MBFact
      Animation       = MBArmsDear_E.MBArmsDear_E ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = RUBBLE NIGHT
      Model         = MBFact_D;_RN
    End

    ; Snow
    ConditionState = SNOW
      Model         = MBArmsDear_S
      Animation       = MBArmsDear_S.MBArmsDear_S ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
    End
    ConditionState = DAMAGED SNOW
      Model         = MBArmsDear_DS;MBFact
      Animation       = MBArmsDear_DS.MBArmsDear_DS ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBArmsDear_E;MBFact
      Animation       = MBArmsDear_E.MBArmsDear_E ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = RUBBLE SNOW
      Model         = MBFact_D;_RS
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBArmsDear_S
      Animation       = MBArmsDear_S.MBArmsDear_S ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBArmsDear_DS;MBFact
      Animation       = MBArmsDear_DS.MBArmsDear_DS ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBArmsDear_E;MBFact
      Animation       = MBArmsDear_E.MBArmsDear_E ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
    End
    ConditionState = RUBBLE SNOW NIGHT
      Model         = MBFact_D;_RSN
    End

;--------------------------------------------------------------------------------------
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = MBArmsDear;MBFact
      Animation       = MBArmsDear.MBArmsDear ;tent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = MBArmsDear_D;MBFact
      Animation       = MBArmsDear_D.MBArmsDear_D ;tent
      AnimationMode   = LOOP
      ParticleSysBone = STEAM01 SteamVent
      ParticleSysBone = SMOKE01 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArmsDear_A4
      Animation       = MBArmsDear_A4.MBArmsDear_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArmsDear_A6
      Animation       = MBArmsDear_A6.MBArmsDear_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

; ----------------- the factory door -------------------
  Draw                = W3DModelDraw ModuleTag_06
    DefaultConditionState
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
    
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End 
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
      
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
     
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
     
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = MBArmsDear_A1D
      Animation       = MBArmsDear_A1D.MBArmsDear_A1D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArmsDear_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model           = MBArmsDear_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBArmsDear_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:WarFactory
  Side          = Militia
  EditorSorting = STRUCTURE
  Prerequisites
    Object = MilitiaSupplyCenter
  End
  BuildCost = 2000
  BuildTime = 15.0           ; in seconds
  EnergyProduction = 0
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
  CommandSet = MilitiaWarFactoryCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY ATTACK_NEEDS_LINE_OF_SIGHT
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: 11,736 Y:27,095   Z:0.0
    NaturalRallyPoint = X: 57,489  Y:27,095   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = ProductionUpdate ModuleTag_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 3000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End

  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)
    NumberApproachPositions = 5
  End



;---- Removed module
  Behavior = SlowDeathBehavior ModuleTag_16124
    DestructionDelay = 500
    FX             = FINAL   FX_StructureMediumDeath
    OCL            = FINAL   OCL_AmericaWarFactoryDebris
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior             = FXListDie ModuleTag_21
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 53.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 40.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object MilitiaTankSpear

  SelectPortrait         = SMSpear_L
  ButtonImage            = SMSpear

  Draw = W3DOverlordTankDraw ModuleTag_01
    DefaultConditionState
      Model = MVSpear
      Turret = Turret
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA

      WeaponFireFXBone = SECONDARY ROCKETCENTR
      WeaponRecoilBone = SECONDARY ROCKETPOD
      WeaponMuzzleFlash = SECONDARY ROCKETCENTR
      WeaponLaunchBone = SECONDARY ROCKETCENTR

      WeaponFireFXBone = TERTIARY ROCKETCENTR
      WeaponRecoilBone = TERTIARY ROCKETPOD
      WeaponMuzzleFlash = TERTIARY ROCKETCENTR
      WeaponLaunchBone = TERTIARY ROCKETCENTR
    End
    ConditionState = REALLYDAMAGED
      Model = MVSpear_D
    End
    ConditionState = RUBBLE
      Model = MVSpear_D
    End
    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  DisplayName = OBJECT:Spear
  Side = Militia
  EditorSorting = VEHICLE
 ;----------------------------
  TransportSlotCount = 0 ;10
 ;----------------------------
  VisionRange = 350.0
  ShroudClearingRange = 500.0
 ;----------------------------
  WeaponSet
    Conditions = None
    Weapon = PRIMARY SpearBusterCannon
    Weapon = SECONDARY SpearMissileWeapon
    Weapon = TERTIARY SpearMissileWeaponAir
    PreferredAgainst = TERTIARY AIRCRAFT
  End
  ArmorSet
    Conditions = None
    Armor      = SpearArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 3500 ;[â PR9.0 áûëî: 3000]**
  BuildTime = 50.0 ;[â ïàò÷å 9.1.18 áûëî: 40.0]* ;[â PR9.0 áûëî: 40.0]**
 ;--------------------------------------------------------------------------
  MaxSimultaneousOfType = 6 ;[â ïàò÷å 9.1.18 áûëî: 8]* ;[â PR9.0 áûëî: 3]**
 ;--------------------------------------------------------------------------
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
    Science = SCIENCE_Rank2
   ;;Science = SCIENCE_150mmHowitzer
  End
  ExperienceValue = 100 100 200 400
  ExperienceRequired = 0 200 400 800
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HazaelTankVoiceSelect
  VoiceMove = HazaelTankVoiceMove
  VoiceGuard = HazaelTankVoiceMove
  VoiceAttack = HazaelTankVoiceAttack
  SoundMoveStart = MarauderTankMoveStart
  SoundMoveStartDamaged = MarauderTankMoveStart

  UnitSpecificSounds
    VoiceCreate  = HazaelTankVoiceCreate
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = HazaelTankVoiceAttack
    VoiceEnter = HazaelTankVoiceMove
  End

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE SALVAGER WEAPON_SALVAGER
;==========================================================
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1600.0 ;[â PR9.0 - 9.1.18: 2000.0]*
    InitialHealth = 1600.0 ;[â PR9.0 - 9.1.18: 2000.0]*
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;==========================================================

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 140
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL T98Locomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_08
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX = INITIAL FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_SpearTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ÑÒÅËÑ-ÄÅÒÅÊÒÎÐ ;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = StealthDetectorUpdate ModuleTag_0697
;;  DetectionRate   = 500   ;how often to rescan for stealthed things in my sight (msec)
;;  ;;;DetectionRange = ??? ;Defaults to VisionRange
;;  CanDetectWhileContained = Yes
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = ProductionUpdate ModuleTag_0589
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_067 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

;MilitiaRegenade
  Behavior = AutoHealBehavior ModuleTag_JunkRepair
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_MilitiaMacGun
  End

  Behavior = ObjectCreationUpgrade ModuleTag_MacGun
    UpgradeObject = OCL_MilitiaMacGun
    TriggeredBy   = Upgrade_MilitiaMacGun
  End

  Behavior = GrantUpgradeCreate ModuleTag_Regenade
    UpgradeToGrant = Upgrade_MilitiaMacGun
  End

  Geometry = BOX
  GeometryMajorRadius = 28.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 15.0
  Scale = 1.04
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object MilitiaTankMacGun

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower


  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = CVTank_G
      Turret              = TURRET
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End
    ConditionState        = REALLYDAMAGED
      Model               = CVTank_GD
      Turret              = TURRET
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
   End
  End

  ; ***DESIGN parameters ***
  Side             = Militia
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY   MilitiaTankMacGun
    PreferredAgainst    = PRIMARY INFANTRY VEHICLE STRUCTURE BALLISTIC_MISSILE AIRCRAFT
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 60   // turn rate, in degrees per sec
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaTankDestroyer

  SelectPortrait = SMDestroyer_L
  ButtonImage    = SMDestroyer

  ; *** ART Parameters ***
  Draw = W3DOverlordTankDraw ModuleTag_01
    DefaultConditionState
      Model = MBDest
      Turret = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY BOX05
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState = REALLYDAMAGED
      Model = MBDest_D
    End
    ConditionState = RUBBLE
      Model = MBDest_D
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Destroyer
  Side = Militia
  EditorSorting = VEHICLE
  TransportSlotCount = 4
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MilitiaDestroyerGun
  End
  ArmorSet
    Conditions = None
    Armor = TankDestroyerArmor
    DamageFX = TankDamageFX
  End
  BuildCost = 1800 ;1900
  BuildTime = 20.0 ;15.0
  VisionRange = 150.0
  ShroudClearingRange = 300.0
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
    ;;Science = SCIENCE_150mmHowitzer
  End
  ExperienceValue = 100 100 200 400
  ExperienceRequired = 0 200 300 600
  IsTrainable = Yes
  CrusherLevel = 1
  CrushableLevel = 2
  CommandSet = MilitiaDestroyerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MilitiaTankVoiceSelect
  VoiceMove = MilitiaTankVoiceMove
  VoiceAttack = MilitiaTankVoiceAttack
  SoundMoveStart = MilitiaTankMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound
    VoiceCreate = MilitiaTankVoiceCreate
  End

   ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE HUGE_VEHICLE SCORE SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 480.0
    InitialHealth = 480.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MilitiaTankLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX = INITIAL FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = SlowDeathBehavior ModuleTag_09
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX = INITIAL FX_CrusaderCatchFire
    OCL = FINAL OCL_MilitiaTankDeathEffect
    FX = FINAL FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End

  Geometry = BOX
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 12.5
  GeometryHeight = 2.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object MilitiaVehicleTransport

  ; *** ART Parameters ***
  SelectPortrait = ÑàïåëüÃðóçîâèêÃËÀ ;SMSupplyTK_L
  ButtonImage    = ÑàïåëüÃðóçîâèêÃËÀ ;SMSupplyTK

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
   ;--------------------------------------------
    DefaultConditionState
      Model         = UVRSupplyTr
      HideSubObject = Cargo01
    End
   ;--------------------------------------------    
    ConditionState  = CARRYING
      ShowSubObject = Cargo01
    End
   ;--------------------------------------------
    TrackMarks = EXTireTrack.tga
   ;--------------------------------------------
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
   ;--------------------------------------------
    Dust            = RocketBuggyDust
    DirtSpray       = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MilitiaTroopTruck
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 1 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = NONE
    Weapon     = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 800 ;[700]*
  BuildTime = 10.0 ;in seconds
  VisionRange = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = MilitiaWarFactory
    Science = SCIENCE_MILITIA
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 150 300 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaVehicleTransportCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BombTruckVoiceSelect ;[MobileBarracksVoiceSelect]*
  VoiceMove = BombTruckVoiceMove ;[HumveeVoiceMove]*
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ;;Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE TRANSPORT CASH_GENERATOR CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
;----------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
;--------------------------------------------
  Locomotor = SET_NORMAL TroopTruckLocomotor
;--------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SupplyCenterCreate ModuleTag_60
    ;nothing
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_70
    UnitCreatePoint   = X: -13.426  Y: -24.064   Z:0.0
    NaturalRallyPoint = X: -13.436  Y: -35.145   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = SupplyCenterDockUpdate ModuleTag_50
    AllowsPassthrough = No ;You can't drive through this guy while docking.  Use this when the dock points are all outside
    NumberApproachPositions = -1 ; This is a Boneless dock, so this means infinite can approach
  End
;-----------------------------------------------------
  Behavior = TransportContain  ModuleTag_05
    Slots                = 10
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    InitialPayload       = MilitiaInfantryWorkerRab 8
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
;-----------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialSupplyDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
;-----------------------------------------------------
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000      ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3     ; taking this much damage...
    AflameDamageDelay = 500    ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 18.0 ;17.0
  GeometryMinorRadius = 8.0  ;7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05
End

;------------------------------------------------------------------------------
Object MilitiaInfantryWorkerRab

  ; *** ART Parameters ***
  SelectPortrait         = SUWorker_L
  ButtonImage            = SUWorker

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model         = UIWRKR_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving.
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING

    ConditionState = ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MS
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Standing
    End

    ConditionState = MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MSW 50
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING CARRYING

    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -> ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -> STANDING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away standing
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Carry TRANS_MetalDetector_Standing    ;CARRYING -> ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Carry    ;ATTACKING -> CARRYING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Carry TRANS_MetalDetector_Moving      ;CARRYING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_MetalDetector_Moving TRANS_Stand      ;MOVING ATTACKING -> STANDING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away moving
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Stand TRANS_MetalDetector_Moving      ;STANDING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_Moving TRANS_MetalDetector_Standing   ;MOVING -> ATTACKING [STANDING]
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Moving   ;ATTACKING [STANDING] -> MOVING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_Moving TRANS_MetalDetector_Moving     ;MOVING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_MetalDetector_Moving TRANS_Moving     ;MOVING ATTACKING -> MOVING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End


    ConditionState = MOVING CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARY 12
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving.
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING CARRYING

    ConditionState = CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARST 30
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    AliasConditionState = DYING CARRYING

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End

    ConditionState  = ACTIVELY_CONSTRUCTING
      Animation     = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_Constructing
    End
    AliasConditionState = ACTIVELY_CONSTRUCTING CARRYING

    ; --------------------

    TransitionState = TRANS_Stand TRANS_Carry
      ShowSubObject = BOX
      Animation     = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Carry TRANS_Stand
      ShowSubObject = BOX
      Animation     = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE_BACKWARDS
      Flags         = START_FRAME_LAST
    End

    TransitionState = TRANS_Stand TRANS_Constructing
      Animation     = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Constructing TRANS_Stand
      Animation     = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Worker
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL
    Weapon = PRIMARY WorkerMineDisarmingWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100.0
  ShroudClearingRange = 200

  BuildCost = 200
  BuildTime = 3.0          ;in seconds
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY DOZER HARVESTER SCORE SALVAGER WEAPON_SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = WorkerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond  = 2%    ; % of max health to repair each second
    BoredTime                     = 5000  ; in milliseconds
    BoredRange                    = 150   ; when bored, we look this far away to do something
    MaxBoxes                      = 1
    UpgradedSupplyBoost           = 8 ; gives this much more cash for every box collected
    SupplyCenterActionDelay       = 150 ;400 ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay    = 150 ;400 ;ms per box (many small transactions)
    SupplyWarehouseScanDistance   = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = WorkerVoiceSuppliesDepleted
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle    = Yes
  End
  Locomotor = SET_NORMAL FastHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = ProductionUpdate ModuleTag_16
    MaxQueueEntries = 1; For the command set switching upgrade
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object MilitiaVehicleBattleTruck

  ; *** ART Parameters ***
  SelectPortrait = BattleTruck
  ButtonImage    = BattleTruck

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
   ;----------------------------
    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04
    ExtraPublicBone = STATION05
    ExtraPublicBone = STATION06
    ExtraPublicBone = STATION07
    ExtraPublicBone = STATION08
   ;----------------------------
    ConditionState = NONE
      Model = MVBattleTruck
    End
    ConditionState = REALLYDAMAGED
      Model = MVBattleTruck_d
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire04
    LeftRearTireBone = Tire05
    RightRearTireBone = Tire06
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:BattleTruck
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 0;3 çàïðåò ñàäèòñÿ â òîííåëü ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = NONE
    Weapon     = PRIMARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon     = PRIMARY ListeningOutpostUpgradedDummyWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 1500 ;1000 ;[800]*
  BuildTime = 15.0 ;[6.0]*       ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 150 300 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaVehicleConvoyTruckCommandSet ;MilitiaVehicleTransportCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MobileBarracksVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart = NoSound
    VoiceCreate      = HumveeVoiceCreate
    TurretMoveLoop   = TurretMoveLoop
    SoundEject       = PilotSoundEject
    VoiceEject       = PilotVoiceEject
    VoiceCrush       = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE SALVAGER WEAPON_SALVAGER GARRISONABLE_UNTIL_DESTROYED
;--------------------------------------------------------------------------------------
  Body = HiveStructureBody ModuleTag_02
    MaxHealth     = 550.0 ;500.0 ;[250.0]* ;220.0
    InitialHealth = 550.0 ;500.0 ;[250.0]*
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;-------------------------------------------------------------------------------------------
  Behavior = GarrisonContain ModuleTag_05
    ContainMax                    = 8
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 0%
    IsEnclosingContainer          = No
  End
  Behavior = ObjectCreationUpgrade ModuleTag_GarnisonOOP2 ;_GarnisonSpawn01
    UpgradeObject = OCL_MilitiaAOPBattleTruckGarnison ;[OCL_MilitiaAOPM113Garnison]* ;[OCL_AirF_BradleyGarnison]**
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade ;[Upgrade_AmericaBradleyGarnison]*
  End
;-----------------------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL TroopTruckStinger2Locomotor ;Ñêîðîñòü: 50 ;45 ;;[40]* ;[Íà îñíîâå: TroopTruckLocomotor]*
;-----------------------------------------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialBattleDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalBattleDebris
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.08

End

;------------------------------------------------------------------------------
Object MilitiaInfantryStinger

  SelectPortrait = SMStinger_L
  ButtonImage = SMStinger

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIBAZOOKA
      IdleAnimation = UITunF_SKL.UITunF_STA 0 20
      IdleAnimation = UITunF_SKL.UITunF_IDA
      IdleAnimation = UITunF_SKL.UITunF_IDB
      IdleAnimation = UITunF_SKL.UITunF_IDC
      AnimationMode = ONCE
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      WeaponFireFXBone = SECONDARY Muzzle
      WeaponLaunchBone = SECONDARY Muzzle
    End

    ConditionState = MOVING
      Animation = UITunF_SKL.UITunF_WKA 16
      Animation = UITunF_SKL.UITunF_WKB 30
      Animation = UITunF_SKL.UITunF_WKC 30
      Animation = UITunF_SKL.UITunF_RNA 15
      Animation = UITunF_SKL.UITunF_RNB 25
      AnimationMode = LOOP
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UITunF_SKL.UITunF_DTA
      Animation = UITunF_SKL.UITunF_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UITunF_SKL.UITunF_ADTA1
      Animation = UITunF_SKL.UITunF_ADTE1
      Animation = UITunF_SKL.UITunF_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UITunF_SKL.UITunF_ADTA2
      Animation = UITunF_SKL.UITunF_ADTE2
      Animation = UITunF_SKL.UITunF_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UITunF_SKL.UITunF_ADTA3
      Animation = UITunF_SKL.UITunF_ADTE3
      Animation = UITunF_SKL.UITunF_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FIRING_A
      Animation = UITunF_SKL.UITunF_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING
    End
    ConditionState = BETWEEN_FIRING_SHOTS_A
      Animation = UITunF_SKL.UITunF_STA
      AnimationMode = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_A

    ConditionState = SPECIAL_CHEERING
      Animation = UITUNF_SKL.UITUNF_CHA
      AnimationMode = LOOP
    End

  End
  DisplayName = OBJECT:StingerSoldier
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1
;==========================================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   MilitiaStingerMissileWeapon
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
    Weapon            = SECONDARY StingerMissileWeaponAir1
    PreferredAgainst  = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  End
;==========================================================================================
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = InfantryDamageFX
  End
  VisionRange = 150
  ShroudClearingRange = 400
  Prerequisites
    Object = MilitiaBarracks MilitiaVehicleMobileBarrack
  End
  BuildCost = 300 ;[320]*
  BuildTime = 5.0
  ExperienceValue = 20 20 40 60
  ExperienceRequired = 0 100 200 400
  IsTrainable = Yes
  CrushableLevel = 0
  CommandSet = GLAInfantryTunnelDefenderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RPGTrooperVoiceSelect
  VoiceMove = RPGTrooperVoiceMove
  VoiceGuard = RPGTrooperVoiceMove
  VoiceAttack = RPGTrooperVoiceAttack
  VoiceFear = RPGTrooperVoiceFear
  UnitSpecificSounds
    VoiceCreate          = RPGTrooperVoiceCreate
    VoiceGarrison = RPGTrooperVoiceGarrison
    VoiceEnter = RPGTrooperVoiceMove
    VoiceEnterHostile = RPGTrooperVoiceMove
    VoiceGetHealed      = RPGTrooperVoiceMove
  End

  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 120.0
    InitialHealth = 120.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_06
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  Behavior = StealthDetectorUpdate ModuleTag_13
;;    DetectionRate     = 300   ; how often to rescan for stealthed things in my sight (msec)
;;    DetectionRange   =  100 ;Dustin, enable this for independant balancing!
;;    CanDetectWhileGarrisoned  = Yes ;Garrisoned means being in a structure that you units can shoot out of.
;;    CanDetectWhileContained   = Yes ;Contained means being in a transport or tunnel network.
;;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object MilitiaTankScrapUnit

  ; *** ART Parameters ***
  SelectPortrait = SMScrapUnits
  ButtonImage    = SMScrapUnits
  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model = AVLeopard
    End
  End
;  ; ***DESIGN parameters ***
; DisplayName   = OBJECT:ScrapUnits ;-[Ïðîñòî ìåòêà äëÿ óäîáíîãî ïîèñêà]
  Side          = Militia
  EditorSorting = VEHICLE
  BuildCost = 600
  BuildTime = 8.0
  BuildVariations = MilitiaTankBattleMasterTriniti MilitiaTankCrusader MilitiaTankBattleMaster MilitiaTankTrojan
  Prerequisites
    ;Object = MilitiaWarFactory
    ;Science = SCIENCE_ScrapUnits
  End
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
End

;------------------------------------------------------------------------------
Object MilitiaTankBattleMasterTriniti ;;[Boss_TankPaladin]*

  ; *** ART Parameters ***
  SelectPortrait = HBattlemaster_L
  ButtonImage    = HBattlemaster

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = Upgrade_ChinaOmegaBattleDrone
  ;UpgradeCameo3 = Upgrade_GLAJunkRepair
  ;UpgradeCameo4 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo5 = Upgrade_ChinaUraniumShells

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = NVDBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model               = NVDBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = NVDBMaster_D
      Turret              = Turret01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE 
      Model               = NVTBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = NVTBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = NVTBMaster_D
      Turret              = Turret01
    End

    TrackMarks = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:HeavyBattleMaster
  Side               = Militia ;;[Boss]*
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BattleMasterTankGunUpgraded
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY Tank_HeavyBattleMasterTankGun
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 900
  BuildTime = 10.0          ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 300.0
  ExperienceValue = 100 100 200 400  ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaTankBMTrinitiCommandSet ;;[Boss_ChinaVehicleHeavyBattleMasterCommandSet]*

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart
  ;------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;--------------------------------------------------------------
  Locomotor = SET_NORMAL BattleMasterLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor
;--------------------------------------------------------------
  Behavior = HordeUpdate ModuleTag_04
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0800
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankHeavyBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = WeaponSetUpgrade ModuleTag_22
    TriggeredBy = Upgrade_BecomeObjectUpgrade
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaTankCrusader

  ; *** ART Parameters ***
  SelectPortrait         = SACLeopard_L
  ButtonImage            = SACLeopard

;  UpgradeCameo1 = Upgrade_AmericaBattleDrone
;  UpgradeCameo2 = Upgrade_AmericaScoutDrone
;  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
;  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
;  UpgradeCameo5 = Upgrade_AmericaCompositeArmor

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVLeopard
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone = PRIMARY TurretMS
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = AVLeopard_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:ScrapCrusader
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 3
  WeaponSet
    Conditions = None
    Weapon     = PRIMARY ScrapCrusaderTankGun
  End

  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  ;ArmorSet
  ;  Conditions = PLAYER_UPGRADE
  ;  Armor      = UpgradedTankArmor
  ;  DamageFX   = TankDamageFX
  ;End
  BuildCost = 600
  BuildTime = 10.0          ;in seconds
  VisionRange = 150.0
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaWarFactory
    ;Science = SCIENCE_ScrapUnits
  End
  ExperienceValue    = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable        = Yes  ;Can gain experience
  CrusherLevel       = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
;These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter          = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority  = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
;------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 320
    InitialHealth = 320
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
   ;CrateData = EliteTankCrateData
   ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaTankBattleMaster

  ; *** ART Parameters ***
  SelectPortrait = HBattlemaster_L
  ButtonImage    = HBattlemaster

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = Upgrade_ChinaOmegaBattleDrone
  ;UpgradeCameo3 = Upgrade_GLAJunkRepair
  ;UpgradeCameo4 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo5 = Upgrade_ChinaUraniumShells

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = NVDBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model               = NVDBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = NVDBMaster_D
      Turret              = Turret01
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE 
      Model               = NVTBMaster
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model               = NVTBMaster_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
      Model               = NVTBMaster_D
      Turret              = Turret01
    End

    TrackMarks = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:HeavyBattleMaster
  Side               = Militia ;;[Boss]*
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BattleMasterTankGunUpgraded
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY Tank_HeavyBattleMasterTankGun
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 911;900
  BuildTime = 5.0;10.0          ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 300.0
  ExperienceValue = 100 100 200 400  ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaTankBMTrinitiCommandSet ;;[Boss_ChinaVehicleHeavyBattleMasterCommandSet]*

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart
  ;------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;--------------------------------------------------------------
  Locomotor = SET_NORMAL BattleMasterLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor
;--------------------------------------------------------------
  Behavior = HordeUpdate ModuleTag_04
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0800
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankHeavyBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = WeaponSetUpgrade ModuleTag_22
    TriggeredBy = Upgrade_BecomeObjectUpgrade
  End

  Behavior = AutoHealBehavior ModuleTag_0889
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaTankTrojan ;;[AirF_AmericaTankTrojan]*

  ; *** ART Parameters ***
  SelectPortrait = SATrojan_L
  ButtonImage    = SATrojan

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = Upgrade_AmericaBattleDrone
  ;UpgradeCameo3 = Upgrade_AmericaScoutDrone
  ;UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  ;UpgradeCameo5 = Upgrade_AmericaScramShells

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVWTank
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretMS01
      WeaponRecoilBone    = PRIMARY Barrel01
      WeaponMuzzleFlash   = PRIMARY TurretMS01
      WeaponLaunchBone = PRIMARY TurretMS01
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVWTank_D
    End
    ConditionState       = RUBBLE
      Model              = AVWTank_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:Trojan
  Side               = Militia ;;[AmericaAirForceGeneral]*
  EditorSorting      = VEHICLE
  TransportSlotCount = 3
  WeaponSet
    Conditions = None
    Weapon     = PRIMARY TrojanTankGun
    ; Uncomment this when we want the crusader to have a machine too again
    ;Weapon = SECONDARY CrusaderMachineGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon     = PRIMARY TrojanTankScramGun
    ; Uncomment this when we want the crusader to have a machine too again
    ;Weapon = SECONDARY CrusaderMachineGun
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 1000
  BuildTime = 12.0 ;in seconds
  VisionRange         = 150.0
  ShroudClearingRange = 300.0
  Prerequisites
    ;Object = AirF_AmericaWarFactory
    ;Science = SCIENCE_TrojanTank
  End
  ExperienceValue    = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable        = Yes  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet ;;AmericaTankTrojanCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
;These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter          = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
;-------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 320.0
    InitialHealth = 320.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_98
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_99
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = WeaponSetUpgrade ModuleTag_40
    TriggeredBy = Upgrade_AmericaScramShells
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_TrojanTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_TrojanTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
   ;CrateData = EliteTankCrateData
   ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------------------------------------
Object MilitiaInfantryFundamentalist

  SelectPortrait = SUFundamentalist_L
  ButtonImage = SUFundamentalist_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIPART_SKN
      IdleAnimation = UIPART_SKL.UIPART_STA
      IdleAnimation = UIPART_SKL.UIPART_IDA
      IdleAnimation = UIPART_SKL.UIPART_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Stand
    End
   AliasConditionState = REALLYDAMAGED
    ConditionState = MOVING
      Animation = UIPART_SKL.UIPART_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    ConditionState = MOVING REALLYDAMAGED
      Animation = UIPART_SKL.UIPART_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    ConditionState = DYING
      Animation = UIPART_SKL.UIPART_DTA
      Animation = UIPART_SKL.UIPART_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIPART_SKL.UIPART_ADTD1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIPART_SKL.UIPART_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIPART_SKL.UIPART_ADTD3
      AnimationMode = ONCE
    End
    ConditionState = FIRING_A
      Animation = UIPART_SKL.UIPART_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    ConditionState = FIRING_A REALLYDAMAGED
      Animation = UIPART_SKL.UIPART_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED
    ConditionState = FREEFALL
      Animation = UIPART_SKL.UIPART_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = UIPART_SKL.UIPART_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UIPART_SKL.UIPART_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UIPART_SKL.UIPART_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = UIPART_SKL.UIPART_CHA
      AnimationMode = ONCE
    End
  End
  DisplayName = OBJECT:Fundamentalist
  Side = Militia
  EditorSorting = INFANTRY
  BuildVariations = MilitiaInfantryFundamentalistVar1 MilitiaInfantryFundamentalistVar2 MilitiaInfantryFundamentalistVar3
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FundamentalistMachineGun
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = None
  End
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks MilitiaVehicleMobileBarrack
  End
  BuildCost = 300
  BuildTime = 5.0
  ExperienceValue = 15 15 30 40
  IsTrainable = No
  CrushableLevel = 0
  CommandSet = GLAInfantryTunnelDefenderCommandSet
  VoiceSelect = FundamentalistVoiceSelect
  VoiceMove = FundamentalistVoiceMove
  VoiceGuard = FundamentalistVoiceMove
  VoiceAttack = FundamentalistVoiceAttack
  VoiceDefect = FundamentalistVoiceSelect
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceCreate = FundamentalistVoiceSelect
    VoiceGarrison = FundamentalistVoiceMove
    VoiceEnter = FundamentalistVoiceAttack
  End
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SELECTABLE SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 150.0
    InitialHealth = 150.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_04
  End
;-----------------------------------------------------------------------------
  Locomotor = SET_NORMAL FundamentalistFanatikLocomotor ;BasicHumanLocomotor
;----------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_06
  End
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +EXTRA_3
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End
  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;-----------------------------------------------------
Object MilitiaInfantryFundamentalistVar1

  SelectPortrait = SUFundamentalist_L
  ButtonImage = SUFundamentalist_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIPART_SKN
      IdleAnimation = UIPART_SKL.UIPART_STA
      IdleAnimation = UIPART_SKL.UIPART_IDA
      IdleAnimation = UIPART_SKL.UIPART_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Stand
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = MOVING
      Animation = UIPART_SKL.UIPART_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    ConditionState = MOVING REALLYDAMAGED
      Animation = UIPART_SKL.UIPART_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    ConditionState = DYING
      Animation = UIPART_SKL.UIPART_DTA
      Animation = UIPART_SKL.UIPART_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIPART_SKL.UIPART_ADTD1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIPART_SKL.UIPART_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIPART_SKL.UIPART_ADTD3
      AnimationMode = ONCE
    End
    ConditionState = FIRING_A
      Animation = UIPART_SKL.UIPART_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    ConditionState = FIRING_A REALLYDAMAGED
      Animation = UIPART_SKL.UIPART_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED
    ConditionState = FREEFALL
      Animation = UIPART_SKL.UIPART_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = UIPART_SKL.UIPART_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UIPART_SKL.UIPART_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UIPART_SKL.UIPART_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = UIPART_SKL.UIPART_CHA
      AnimationMode = ONCE
    End
  End
  DisplayName = OBJECT:Fundamentalist
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FundamentalistMachineGun
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = None
  End
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 300
  BuildTime = 4.0
  ExperienceValue = 15 15 30 40
  IsTrainable = No
  CrushableLevel = 0
  CommandSet = GLAInfantryTunnelDefenderCommandSet
  VoiceSelect = FundamentalistVoiceSelect
  VoiceMove = FundamentalistVoiceMove
  VoiceGuard = FundamentalistVoiceMove
  VoiceAttack = FundamentalistVoiceAttack
  VoiceDefect = FundamentalistVoiceSelect
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceCreate = FundamentalistVoiceSelect
    VoiceGarrison = FundamentalistVoiceMove
    VoiceEnter = FundamentalistVoiceAttack
  End
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SELECTABLE SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_04
  End
;----------------------------------------------------------------------------
  Locomotor = SET_NORMAL FundamentalistFanatikLocomotor ;BasicHumanLocomotor
;----------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_06
  End
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_3
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +EXTRA_3
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End
  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;-----------------------------------------------------
Object MilitiaInfantryFundamentalistVar2

  SelectPortrait = SUFundamentalist_L
  ButtonImage = SUFundamentalist_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIPART2_SKN
      IdleAnimation = UIPART2_SKL.UIPART2_STA
      IdleAnimation = UIPART2_SKL.UIPART2_IDA
      IdleAnimation = UIPART2_SKL.UIPART2_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Stand
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = MOVING
      Animation = UIPART2_SKL.UIPART2_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    ConditionState = MOVING REALLYDAMAGED
      Animation = UIPART2_SKL.UIPART2_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    ConditionState = DYING
      Animation = UIPART2_SKL.UIPART2_DTA
      Animation = UIPART2_SKL.UIPART2_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIPART2_SKL.UIPART2_ADTC1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIPART2_SKL.UIPART2_ADTC2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIPART2_SKL.UIPART2_ADTC3
      AnimationMode = ONCE
    End
    ConditionState = FIRING_A
      Animation = UIPART2_SKL.UIPART2_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    ConditionState = FIRING_A REALLYDAMAGED
      Animation = UIPART2_SKL.UIPART2_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED
    ConditionState = FREEFALL
      Animation = UIPART2_SKL.UIPART2_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = UIPART2_SKL.UIPART2_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UIPART2_SKL.UIPART2_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UIPART2_SKL.UIPART2_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = UIPART2_SKL.UIPART2_CHA
      AnimationMode = ONCE
    End
  End

  DisplayName = OBJECT:Fundamentalist
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FundamentalistPistolWeapon
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = None
  End
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 300
  BuildTime = 4.0
  ExperienceValue = 15 15 30 40
  IsTrainable = No
  CrushableLevel = 0
  CommandSet = GLAInfantryTunnelDefenderCommandSet
  VoiceSelect = FundamentalistVoiceSelect
  VoiceMove = FundamentalistVoiceMove
  VoiceGuard = FundamentalistVoiceMove
  VoiceAttack = FundamentalistVoiceAttack
  VoiceDefect = FundamentalistVoiceSelect
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceCreate = FundamentalistVoiceSelect
    VoiceGarrison = FundamentalistVoiceMove
    VoiceEnter = FundamentalistVoiceAttack
  End
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SELECTABLE SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_04
  End
;----------------------------------------------------------------------------
  Locomotor = SET_NORMAL FundamentalistFanatikLocomotor ;BasicHumanLocomotor
;----------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_06
  End
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +EXTRA_3
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End
  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;-----------------------------------------------------
Object MilitiaInfantryFundamentalistVar3

  SelectPortrait = SUFundamentalist_L
  ButtonImage = SUFundamentalist_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIPRTSN3_SKN
      IdleAnimation = UIPRTSN3_SKL.UIPRTSN3_STA
      IdleAnimation = UIPRTSN3_SKL.UIPRTSN3_IDA
      IdleAnimation = UIPRTSN3_SKL.UIPRTSN3_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Stand
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = MOVING
      Animation = UIPRTSN3_SKL.UIPRTSN3_RNA
      AnimationMode = LOOP
      TransitionKey = TRANS_Standing
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    ConditionState = MOVING REALLYDAMAGED
      Animation = UIPRTSN3_SKL.UIPRTSN3_RNA
      AnimationMode = LOOP
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    ConditionState = DYING
      Animation = UIPRTSN3_SKL.UIPRTSN3_DTA
      Animation = UIPRTSN3_SKL.UIPRTSN3_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIPRTSN3_SKL.UIPRTSN3_ADTA1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIPRTSN3_SKL.UIPRTSN3_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIPRTSN3_SKL.UIPRTSN3_ADTA3
      AnimationMode = ONCE
    End
    ConditionState = FIRING_A
      Animation = UIPRTSN3_SKL.UIPRTSN3_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    ConditionState = FIRING_A REALLYDAMAGED
      Animation = UIPRTSN3_SKL.UIPRTSN3_ATA
      AnimationMode = LOOP
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = UIPRTSN3_SKL.UIPRTSN3_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UIPRTSN3_SKL.UIPRTSN3_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UIPRTSN3_SKL.UIPRTSN3_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = UIPRTSN3_SKL.UIPRTSN3_CHA
      AnimationMode = ONCE
    End
  End

  DisplayName = OBJECT:Fundamentalist
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FundamentalistAK47Weapon
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = None
  End
  VisionRange = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 300
  BuildTime = 4.0
  ExperienceValue = 15 15 30 40
  IsTrainable = No
  CrushableLevel = 0
  CommandSet = GLAInfantryTunnelDefenderCommandSet
  VoiceSelect = FundamentalistVoiceSelect
  VoiceMove = FundamentalistVoiceMove
  VoiceGuard = FundamentalistVoiceMove
  VoiceAttack = FundamentalistVoiceAttack
  VoiceDefect = FundamentalistVoiceSelect
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceCreate = FundamentalistVoiceSelect
    VoiceGarrison = FundamentalistVoiceMove
    VoiceEnter = FundamentalistVoiceAttack
  End
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SELECTABLE SCORE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_04
  End
;----------------------------------------------------------------------------
  Locomotor = SET_NORMAL FundamentalistFanatikLocomotor ;BasicHumanLocomotor
;----------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_06
  End
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +EXTRA_3
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End
  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
Object MilitiaInfantryFundamentalistNexus

;**** ART Parameters **************************
  SelectPortrait = SUFundamentalist_L
  ButtonImage    = SUFundamentalist_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = None
;     Model = AVBomber_B
    End
  End

;****DESIGN parameters **************************

  DisplayName   = OBJECT:FundamentalistsNexus ;OBJECT:Fundamentalist
  Side          = Militia
  EditorSorting = INFANTRY
  RadarPriority = NOT_ON_RADAR
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY   GLAAngryMobNexusHarmlessWeapon
    Weapon = SECONDARY GLAAngryMobNexusHarmlessWeapon
    Weapon = TERTIARY  GLAAngryMobNexusHarmlessWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = InvulnerableAllArmor
    DamageFX   = None
  End
;-----------------------------------
  BuildCost = 500 ;800
  BuildTime = 8.0 ;4.0 ;in seconds
 ;------------------------------
  MaxSimultaneousOfType = 20
 ;------------------------------
  VisionRange = 150.0   ; it can scout for the spawn
  ShroudClearingRange = 0
;------------------------------
  Prerequisites
    ;Object = MilitiaBarracks
  End
;------------------------------
  ExperienceValue = 5 5 5 5 ;Experience point value at each level
  IsTrainable = No
  CommandSet = GLAInfantryAngryMobCommandSet;

;**** AUDIO Parameters *****************************

  VoiceSelect = FundamentalistVoiceSelect
  VoiceMove = FundamentalistVoiceMove
  VoiceGuard = FundamentalistVoiceMove
  VoiceAttack = FundamentalistVoiceAttack
  SoundMoveStart = NoSound
  SoundAmbient = AngryMobAmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate = FundamentalistVoiceSelect
  End

;**** ENGINEERING Parameters ******************************

  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK INFANTRY MOB_NEXUS ATTACK_NEEDS_LINE_OF_SIGHT NO_COLLIDE SELECTABLE SCORE SALVAGER WEAPON_SALVAGER
  Body = ImmortalBody ModuleTag_02
    MaxHealth     = 99999.0
    InitialHealth = 99999.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
;---------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL FundamentalistFanatikLocomotor ;Important! don't make the Nexus any faster!
  Locomotor = SET_WANDER FundamentalistFanatikLocomotor ;Important! don't make the Nexus any faster!
  Locomotor = SET_PANIC  FundamentalistFanatikLocomotor ;Important! don't make the Nexus any faster!
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Locomotor = SET_NORMAL WanderHumanLocomotor ;Important! don't make the Nexus any faster!
;;Locomotor = SET_WANDER WanderHumanLocomotor ;Important! don't make the Nexus any faster!
;;Locomotor = SET_PANIC  WanderHumanLocomotor ;Important! don't make the Nexus any faster!
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SpawnBehavior ModuleTag_05
    SpawnNumber       = 4
    SpawnReplaceDelay = 30000 ; 30 seconds
   ;-------------------------------------------------
    SpawnTemplateName = MilitiaInfantryFundamentalist ; Aladdin
    SpawnTemplateName = MilitiaInfantryFundamentalist ; Woman in the Gypsy Costume
    SpawnTemplateName = MilitiaInfantryFundamentalist ; The Lady with the hot sauce
    SpawnTemplateName = MilitiaInfantryFundamentalist ; Skinny Guy with the Green Beret
   ;-------------------------------------------------
    ExitByBudding = Yes;!
    InitialBurst = 5 ; the first set of 5 will not delay
    OneShot     = No
    AggregateHealth = Yes
    SlavesHaveFreeWill = Yes
  End
  Behavior = QueueProductionExitUpdate ModuleTag_06
    UnitCreatePoint   = X: 0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 0.0  Y:  0.0   Z:0.0
    ExitDelay     = 5000 ; 5 sec
    InitialBurst = 5 ; the first set of 5 will not delay
  End
  Behavior = DestroyDie ModuleTag_07
    DeathTypes = ALL
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 1.0
  GeometryMinorRadius = 1.0
  GeometryHeight = 1.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End

;-------------------------------------------------------------------------------------------
Object MilitiaFiftyCal.

  ; *** ART Parameters ***
  SelectPortrait         = MUFiftyCal
  ButtonImage            = MUFiftyCal

   Draw = W3DModelDraw ModuleTag_01
   OkToChangeModelColor = Yes
    ExtraPublicBone = TURRET

    DefaultConditionState
      Model               = MBFiftyCal
      Animation           = MBFiftyCal.MBFiftyCal
      AnimationMode = LOOP
      Turret              = TURRET

      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle

      WeaponFireFXBone = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY Muzzle
      WeaponLaunchBone = SECONDARY Muzzle

      WeaponFireFXBone = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY Muzzle
      WeaponLaunchBone = TERTIARY Muzzle
    End
    AliasConditionState = NIGHT SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW

    ConditionState        = DAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
   End
    AliasConditionState  = REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED

    ConditionState        = REALLYDAMAGED
      Model               = MBFiftyCal_e
      Animation           = MBFiftyCal_e.MBFiftyCal_e
      AnimationMode = LOOP
   End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model               = MBFiftyCal
      Animation           = MBFiftyCal.MBFiftyCal
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model               = MBFiftyCal
      Animation           = MBFiftyCal.MBFiftyCal
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model               = MBFiftyCal
      Animation           = MBFiftyCal.MBFiftyCal
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model               = MBFiftyCal
      Animation           = MBFiftyCal.MBFiftyCal
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model               = MBFiftyCal_D
      Animation           = MBFiftyCal_D.MBFiftyCal_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************************************************************************************************
    
   End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02022
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBFiftyCal_A4
      Animation       = MBFiftyCal_A4.MBFiftyCal_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:FiftyCal.
  Side             = Militia
  EditorSorting    = STRUCTURE
  VisionRange      = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
;==================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   DefencFiftyCalGun ;<===================[Ïðîòèâ ïåõîòû è íàçåì-òåõíèêè]
    PreferredAgainst  = PRIMARY   INFANTRY VEHICLE
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
   ;-------------------------------------------------------------
    Weapon            = SECONDARY FiftyCalGunAir ;<======================[ÏÂÎ]
    PreferredAgainst  = SECONDARY BALLISTIC_MISSILE AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_AI FROM_SCRIPT
   ;-------------------------------------------------------------
  ;;Weapon            = TERTIARY DefencFiftyCalGunHot
  ;;AutoChooseSources = TERTIARY FROM_PLAYER FROM_AI FROM_SCRIPT
 End
;==================================================================
  ArmorSet
    Conditions = None
    Armor      = BaseDefenseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  Prerequisites
    Object = MilitiaBarracks MilitiaWarFactory
    ;Object = MilitiaRadarPost
    ;Object = MilitiaPowerPlant
  End
  BuildCost = 1200 ;1300 ;[900]*
  BuildTime = 15.0 ;16.0 ;20.0 ;[12.0]*          ; in seconds
  EnergyProduction = 0
  ExperienceValue  = 200 200 200 200  ; Experience point value at each level
  CommandSet = AmericaPatriotBatteryCommandSet

  ; *** AUDIO Parameters ***
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
    VoiceRapidFire    = NoSound
  End
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;These aren't playing properly (mdp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
RadarPriority = STRUCTURE
KindOf = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE SALVAGER WEAPON_SALVAGER
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1000.0
    InitialHealth = 1000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;----------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500  ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 300  ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;Behavior = AIUpdateInterface ModuleTag_20
;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
;  MoodAttackCheckRate        = 250
;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY ;TERTIARY
      TurretTurnRate      = 200 ;[180]* ;turn rate, in degrees per sec
      TurretPitchRate     = 200 ;[180]*
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250   ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End
  Behavior = ProductionUpdate ModuleTag_07
    ; nothing, but is required if we have any Object-level Upgrades!
  End
  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End
  Behavior = CreateObjectDie ModuleTag_1100
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = FXListDie ModuleTag_0900
    DeathFX = FX_StructureTinyDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 9.0
  GeometryHeight      = 22.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;---------------------------------------------------------------
Object MilitiaBunker

  ; *** ART Parameters ***
  SelectPortrait         = MBunker_L
  ButtonImage            = MBunker
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04


    ConditionState = NONE
      Model         = glabunker
    End
    ConditionState = DAMAGED
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED
      Model         = glabunker_e
    End

    ConditionState       = GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
        ParticleSysBone      = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
    End



    ; night
    ConditionState = NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
      ParticleSysBone        = Fire03 SmolderingFire
      ParticleSysBone        = Fire03 SmolderingFlameCore
    End



    ; Snow
    ConditionState = SNOW
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = glabunker_e
    End

    ConditionState       = SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = glabunker_d
        ParticleSysBone      = Fire01  SmolderingFire
        ParticleSysBone      = Smoke01 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
    End



    ; night snow
    ConditionState = SNOW NIGHT
      Model         = glabunker
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = glabunker_d
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = glabunker_e
    End

    ConditionState       = NIGHT SNOW GARRISONED
      Model              = glabunker
    End
    ConditionState       = DAMAGED NIGHT SNOW GARRISONED
      Model              = glabunker_d
      ParticleSysBone        = Fire01  SmolderingFire
      ParticleSysBone        = Smoke01 SmolderingSmoke
      ParticleSysBone        = Fire01  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW GARRISONED
      Model              = glabunker_e
      ParticleSysBone        = Fire01 SmolderingFire
      ParticleSysBone        = Fire01 SmolderingFlameCore
      ParticleSysBone        = Fire02 SmolderingFire
      ParticleSysBone        = Fire02 SmolderingFlameCore
    End



    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = glabunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = glabunker_d
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = glabunker_e
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45
  ;PlacementViewAngle = -135


  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:MilitiaBunker ;OBJECT:Bunker
  Side              = Militia
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 200
  BuildTime = 10.0           ; in seconds
  EnergyProduction = 0
  VisionRange    = 300.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions = None
    Armor      = FireBaseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
  CommandSet = MilitiaBunkerCommandSet ;BossFireBaseCommandSet2

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED STEALTH_GARRISON SALVAGER WEAPON_SALVAGER

  Body = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    PropagateDamageTypesToSlavesWhenExisting = NONE +SNIPER ;+SMALL_ARMS  +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End
  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 30%
    IsEnclosingContainer          = No
  End
;-------------------------------------------------------------------------------------------------
  Behavior = StealthUpdate ModuleTag_04578
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = USING_ABILITY ATTACKING TAKING_DAMAGE RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;-------------------------------------------------------------------------------------------------
  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
;-------------------------------------------------------------------------------------------------
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End
;-------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;-------------------------------------------------------------------------------------------------
  Behavior = CreateObjectDie ModuleTag_13
    CreationList = OCL_LargeStructureDebris
  End
;-------------------------------------------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object MilitiaOilDerrick

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilDerrick_L
  ButtonImage            = SSTechOilDerrick_L

  ; ========================= Main Model ===============================
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; DAY **************************************************************
    ConditionState  = NONE
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End

    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End

    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End

    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End

    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End

    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End

    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End

    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End

    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End

    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End

    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ZBODerrick
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ZBODerrick_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ZBODerrick_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ZBODerrick
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ZBODerrick_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ZBODerrick_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ZBODerrick
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ZBODerrick_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ZBODerrick_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ZBODerrick
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ZBODerrick_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ZBODerrick_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes

    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = MBODerrick_F
      Animation     = MBODerrick_F.MBODerrick_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED

    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = MBODerrick_F
      Animation     = MBODerrick_F.MBODerrick_F
      AnimationMode = LOOP
    End

    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
 End
     ; ------------ New Animations fence -----------------
  Draw = W3DModelDraw ModuleTag_LightingAnimations
  AnimationsRequirePower = No

    DefaultConditionState
      Model           = ZBODerrick_A1
      Animation       = ZBODerrick_A1.ZBODerrick_A1
      AnimationMode   = LOOP
    End

    ConditionState    = DAMAGED
      Model           = ZBODerrick_A1D
      Animation       = ZBODerrick_A1D.ZBODerrick_A1D
      AnimationMode   = LOOP
    End

    ConditionState    = REALLYDAMAGED
      Model           = ZBODerrick_A1E
      Animation       = ZBODerrick_A1E.ZBODerrick_A1E
      AnimationMode   = LOOP
    End

  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBArtillery_A4
      Animation       = MBArtillery_A4.MBArtillery_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBODerrick_A6
      Animation       = MBODerrick_A6.MBODerrick_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:OilDerrick
  Side = Militia
  EditorSorting = STRUCTURE
  VisionRange = 300.0
  ShroudClearingRange = 300
;---------------------------------------------
  Prerequisites
     Object = MilitiaResistanceHQ
;;;;;Science = SCIENCE_OilDerrick
  End
;----------------------------------------------------
  BuildCost = 4500 ;5000 ;[PR9.0/PR9.1_v.01: 4900]*
  BuildTime = 36.0 ;30.0
 ;--------------------------
  MaxSimultaneousOfType = 3
 ;--------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------------------------------
  CommandSet = SellOnlyGenericCommandSet ;MilitiaOilDerrickCommandSet
;---------------------------------------------------------------------


  ; *** AUDIO Parameters ***
  VoiceSelect          = OilDerrickSound ;FireBaseSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  KindOf          = STRUCTURE SELECTABLE IMMOBILE CAPTURABLE CONSERVATIVE_BUILDING
  Body            = ActiveBody ModuleTag_03
    MaxHealth     = 2200.0 ;[â ïàò÷å 9.1.18 áûëî: 3000.0] ;[PR9.0: 2200.0]*
    InitialHealth = 2200.0 ;[â ïàò÷å 9.1.18 áûëî: 3000.0] ;[PR9.0: 2200.0]*
  End

;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = AutoDepositUpdate ModuleTag_04
    DepositTiming = 1000 ;[1000 = 1ñåêóíäå]  ; in milliseconds
    DepositAmount = 75   ;[ÑÓÌÌÀ ÄÅÍÅÃ] ; cash amount to deposit every Deposit Timings
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = ProductionUpdate ModuleTag_10
  End

  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit      = 20    ; Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ; in a span of this long
    AflameDuration        = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount    = 25    ; taking this much damage...
    AflameDamageDelay     = 500   ; this often.
  End

  Behavior = FXListDie ModuleTag_07
    DeathFX = WeaponFX_BombTruckDefaultBombDetonation
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_BuildingDie
  End

  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule

  Geometry              = BOX
  GeometryMajorRadius   = 23.0
  GeometryMinorRadius   = 21.0
  GeometryHeight        = 30.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME

End

;-------------------------------------------------------------------------------------------------
;-----------------------------------------------;;;;;;;;;;;[ÂÛÐÅÇÀË íåíóæíóþ ðàçâèëêó];;;;;;;;;;;
;Object MilitiaVehicleBots
;  ; *** ART Parameters ***
;  SelectPortrait         = SMRobot_L
;  ButtonImage            = SMRobot
;
;  ; set cost and time fields here or else they won't work
;  BuildCost = 450
;  BuildTime = 10.0
;  Prerequisites
;    Object = MilitiaWarFactory
;  End
;
;  Side = Militia
;  EditorSorting = VEHICLE
;  BuildVariations = MilitiaVehicleBot ;;;;MilitiaVehicleBot2
;
;  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE SALVAGER WEAPON_SALVAGER ;SELECTABLE
;
;  Behavior = DeletionUpdate ModuleTag_Delete ; Not LifetimeUpdate, since I can't die.  This will DestroyObject me.
;    MinLifetime = 396000
;    MaxLifetime = 398000
;  End
;End


;=============================================[Ìàøèíà ÏÂÎ ÇÑÓ-23-4 "Øèëêà"]===========================
Object MilitiaVehicleBot

  ; *** ART Parameters ***

  SelectPortrait = ScrabShilka;SMRobot_L
  ButtonImage    = ScrabShilka;SMRobot


  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = CORE

    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20

    ConditionState = NONE
      Model = UVScrShil;<=================================[ÌÎÄÅËÜ]¹¹¹¹¹¹¹¹(1)   UVScrShil  ¹¹¹¹¹¹¹¹¹¹¹
      ;;Animation = UVScrShil.UVScrShil
      ;;AnimationMode = ONCE_BACKWARDS
      ;;Flags = MAINTAIN_FRAME_ACROSS_STATES
      Turret = TURRET01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY MUZZLEAIR
    End

    ConditionState = REALLYDAMAGED
      Model = UVScrShil_d;<===============================[ÌÎÄÅËÜ]¹¹¹¹¹¹¹¹(2)  UVScrShil_d  ¹¹¹¹¹¹¹¹¹¹¹
      ;;Animation = UVScrShil_d.UVScrShil_d
      ;;AnimationMode = ONCE_BACKWARDS
      Turret = TURRET01
      TurretPitch = TURRETEL01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY MUZZLEAIR
      ;;Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    
    ConditionState = RUBBLE
      Model = UVScrShil_d
      ;;Animation = UVScrShil_d.UVScrShil_d
      ;;AnimationMode = ONCE_BACKWARDS
      ;;Flags = MAINTAIN_FRAME_ACROSS_STATES
    End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;¹¹¹¹¹¹¹¹[ÓÆÅ ÁÛËÎ ÂÛÐÅÇÀÍÎ Â ÎÐÈÃÈÍÀËÅ]¹¹¹¹¹¹¹¹
;    ; ground attack mode, dish down
;    ConditionState = USING_WEAPON_A
;      Model = UVScrShil
;      Animation = UVScrShil.UVScrShil
;      AnimationMode = ONCE
;      Flags = MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = USING_WEAPON_A REALLYDAMAGED
;      Model = UVScrShil_d
;      Animation = UVScrShil_d.UVScrShil_d
;      AnimationMode = ONCE
;      Flags = MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = USING_WEAPON_A RUBBLE
;      Model = UVScrShil_d
;      Animation = UVScrShil_d.UVScrShil_d
;      AnimationMode = ONCE
;      Flags = MAINTAIN_FRAME_ACROSS_STATES
;    End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

    TrackMarks = EXTnkTrack.tga;<===============================[ÒÅÊÑÒÓÐÀ(Íå íàéäåíà íèãäå,íàâåðíîå çàïàêîâàíà â ZH-àðõèâàõ. Â Reb5 åñòü òîëüêî EXTnkTrack2.dds)]
    TreadAnimationRate = 2.0 ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.
  End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;¹¹¹¹¹¹¹¹¹¹[ÂÛÐÅÇÀË]¹¹¹¹¹¹¹¹¹¹
;------(START BOMBPACK STRAPPED TO THE DAMN THING CODE)------ ???
;  Draw = W3DModelDraw ModuleTag_BombPackVisuals
;    OkToChangeModelColor        = Yes
;    ConditionState = NONE 
;      Model = NULL
;    End
;    ConditionState = REALLYDAMAGED RUBBLE
;      Model = NULL
;    End
;    ConditionState = USER_1 
;      Model = UVScrShilBomb;<===================[ÌÎÄÅËÜ] ?
;    End
;    ConditionState = USER_1 REALLYDAMAGED
;      Model = UVScrShilBomb;<===================[ÌÎÄÅËÜ] ?
;    End
;    ConditionState = USER_1 RUBBLE 
;      Model = NULL
;    End
;  End
;  Behavior        = ModelConditionUpgrade ModuleTag_bombpack
;    ConditionFlag = USER_1 
;    TriggeredBy   = Demo_Upgrade_SuicideBomb
;  End
;-------(END BOMBPACK STRAPPED TO THE DAMN THING CODE)-------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Bot ;¹¹¹¹¹¹¹¹¹¹[ ÇÑÓ-23-4 "Øèëêà" ]¹¹¹¹¹¹¹¹¹¹
  Side = Militia
  EditorSorting = VEHICLE
  TransportSlotCount = 3   ;how many "slots" we take in a transport (0 == not transportable)
 ;----------------------------
  VisionRange         = 250.0
  ShroudClearingRange = 300
;=======================================================================================================
  WeaponSet
    Conditions        = None
   ;-------
    Weapon            = PRIMARY ShilkaMachineGunAntiGround ;[Ïðîòèâî-ïåõîòíûé ïóëåì¸ò(AttackRange = 165.0)] ;[Íà îñíîâå: QuadCannonGun] ;;BotWeapon
    PreferredAgainst  = PRIMARY INFANTRY VEHICLE
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;-------
    Weapon            = SECONDARY ShilkaMachineGunAntiAir ;[Ïðîòèâî-àâèàöèîííûé ïóëåì¸ò(AttackRange = 380.0)] ;[Íà îñíîâå: QuadCannonGunUpgradeTwoAir]* ;;BotRocket
    PreferredAgainst  = SECONDARY VEHICLE AIRCRAFT BALLISTIC_MISSILE ;[VEHICLE STRUCTURE]*
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;-------
   ;Weapon            = TERTIARY BotMissileJammer ;õç êàêàÿ-òî ïóñòûøêà...
   ;PreferredAgainst  = TERTIARY NONE
  End
;========================================================================================================
  ArmorSet
    Conditions = None
    Armor      = QuadCannonArmor ;[TankArmor] - ??
    DamageFX   = TankDamageFX
  End
 ;-----------------------------
  BuildCost = 1200 ;;850
  BuildTime = 15.0 ;18.0 ;;6.0
 ;-----------------------------
   Prerequisites
     Object = MilitiaWarFactory
   End
 ;----------------------------------------------------------
  CommandSet = GLAVehicleQuadCannon ;MilitiaBot2CommandSet
 ;----------------------------------------------------------
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level.
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level.
  IsTrainable = Yes   ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles.
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles.


  ; *** AUDIO Parameters ***
  VoiceSelect           = QuadCannonVoiceSelect
  VoiceMove             = QuadCannonVoiceMove
  VoiceAttack           = QuadCannonVoiceAttack
  VoiceAttackAir        = QuadCannonVoiceAttackAir
  VoiceGuard            = QuadCannonVoiceMove
 ;----------------------------------------------------------------------
  SoundMoveStart        = ScorpionTankMoveStart ;[QuadCannonMoveStart]*
  SoundMoveStartDamaged = ScorpionTankMoveStart ;[QuadCannonMoveStart]*
 ;----------------------------------------------------------------------
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
 ;-----------------------------
  UnitSpecificSounds
   ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = QuadCannonVoiceCreate
   TurretMoveStart      = NoSound
   TurretMoveLoop       = TurretMoveLoop
   ; Required for the W3DTruckDraw module
   TruckLandingSound    = NoSound
   TruckPowerslideSound = NoSound
   VoiceSalvage         = QuadCannonVoiceSalvage
   VoiceCrush           = QuadCannonVoiceCrush
   VoiceEnter           = QuadCannonVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE
;-------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0  ;[220.0] - ??
    InitialHealth   = 300.0  ;[220.0] - ??
   ;---------------------------------
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 440
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;===================================================================================
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate  = 230;[160]*  ;turn rate, in degrees per sec
      TurretPitchRate = 230;[160]*
      AllowsPitch = Yes
      FiresWhileTurning = Yes
      NaturalTurretPitch = 20 ; this keeps it aimed half way between land and sky
                              ; since you never know from whence cometh danger
      RecenterTime = 2000
      MinIdleScanInterval = 1000 ; in milliseconds
      MaxIdleScanInterval = 5000 ; in milliseconds
      MinIdleScanAngle = 25 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate = 150
  End
;-----------------------------------------------------------------------
  Locomotor = SET_NORMAL GattlingTankLocomotor ;[QuadCannonLocomotor]*
;-----------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End
;====================================[ÂÈÄ ÊÐÓØÅÍÈß]===========================
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 411
    DestructionDelay = 150
    DestructionDelayVariance = 250
    OCL = FINAL    OCL_ShilkaDeathEffect ;<===================[ÌÎÄÅËÜ ÊÐÓØÅÍÈß â Object DeadShilkaHulk ]¹¹¹¹¹¹¹¹¹¹(3) UVScrShil_d1  ¹¹¹¹¹¹¹¹¹¹¹
    FX  = FINAL    FX_BattleMasterExplosionOneFinal ;<========[Ýòîãî äîáðà ïîëíî è â 9.0-9.1]
  End
;=============================================================================
  Behavior = FlammableUpdate ModuleTag_06
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_07
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_09
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = No
  Scale = 1.02
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object MilitiaVehicleDuneBuggy ;[Ïåðåäåë MilitiaVehicleBot2]

  ; *** ART Parameters ***
  SelectPortrait = SMDunBgy_L ;SMRobot_L
  ButtonImage    = SMDunBgy   ;SMRobot

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ExtraPublicBone = WeaponA01
    ProjectileBoneFeedbackEnabledSlots = SECONDARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model = AVSupDr
;      Animation = AVSupDr.AVSupDr
;      AnimationMode = MANUAL
      WeaponMuzzleFlash = PRIMARY TurretFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = SECONDARY WeaponA
;      ParticleSysBone = Exhaust01 BotExhaust
;      ParticleSysBone = Exhaust02 BotExhaust
    End
    ConditionState = REALLYDAMAGED
      Model = AVSupDr_d
;      Animation = AVSupDr_d.AVSupDr_d
;      AnimationMode = MANUAL
      WeaponMuzzleFlash = PRIMARY TurretFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = SECONDARY WeaponA
;      ParticleSysBone = Exhaust01 BotExhaust
;      ParticleSysBone = Exhaust02 BotExhaust
    End
    ConditionState = RUBBLE
      Model = AVSupDr_d
;      Animation = AVSupDr_d.AVSupDr_d
;      AnimationMode = MANUAL
      WeaponMuzzleFlash = PRIMARY TurretFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = SECONDARY WeaponA
;      ParticleSysBone = Exhaust01 BotExhaust
;      ParticleSysBone = Exhaust02 BotExhaust
     End
    ConditionState = MOVING
      Model = AVSupDr
;      Animation = AVSupDr_d.AVSupDr_d
;      AnimationMode = MANUAL
      WeaponMuzzleFlash = PRIMARY TurretFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = SECONDARY WeaponA
      ParticleSysBone = Exhaust01 BotExhaust
      ParticleSysBone = Exhaust02 BotExhaust
    End
    ConditionState = MOVING REALLYDAMAGED
      Model = AVSupDr_d
;      Animation = AVSupDr_d.AVSupDr_d
;      AnimationMode = MANUAL
      WeaponMuzzleFlash = PRIMARY TurretFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = SECONDARY WeaponA
      ParticleSysBone = Exhaust01 BotExhaust
      ParticleSysBone = Exhaust02 BotExhaust
    End
    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    LeftRearTireBone           = Tire03
    RightRearTireBone          = Tire04
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DuneBuggy ;OBJECT:Bot
  Side                = Militia
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY Bot2Weapon
;    PreferredAgainst = PRIMARY INFANTRY
;    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon = SECONDARY Bot2Rocket
;    PreferredAgainst = SECONDARY VEHICLE STRUCTURE
;    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions = None
    Armor      = TruckArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 450 ;[PR9.0 - PR9.1.1: 400]*
  BuildTime = 7.0 ;[PR9.0 - PR9.1.1: 6.5]* ;in seconds
  VisionRange     = 180.0
  ShroudClearingRange = 300.0
  Prerequisites
    Object = MilitiaWarFactory
  End
  ExperienceValue    = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable    = Yes             ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaBot2CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = DuneBuggyVoiceSelect
  VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = RocketBuggyMoveStart
  SoundMoveStartDamaged = RocketBuggyMoveStart
  VoiceGuard = RocketBuggyVoiceMove
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = DuneBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CLIFF_JUMPER SALVAGER WEAPON_SALVAGER
;--------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 180.0 ;220.0
    InitialHealth = 180.0 ;220.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL DuneBuggyLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
; The pop up AirDeath
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 5
    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_MilitiaVehicleBotDeathEffect
  End
;-----------------------------------------------------------------------------
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2500 ;[PR9.0/PR9.1.1: 2000: 2000]* ;msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End
;-----------------------------------------------------------------------------
  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
  End
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_RocketBuggy_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = TransitionDamageFX ModuleTag_15
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 2.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------------
Object MilitiaInfantryAssassin

  ; *** ART Parameters ***
  SelectPortrait = Assasin ;NOTE: Asset spelling mistake
  ButtonImage    = Assasin

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; --- idle
    DefaultConditionState
      Model             = MIAssassin
      IdleAnimation     = UIHERO_SKL.UIHERO_STA 0 21
      IdleAnimation     = UIHERO_SKL.UIHERO_IDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = UIHERO_SKL.UIHERO_ISTA 0 30
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; --- attack

    ConditionState      = FIRING_A
      Animation         = UIHERO_SKL.UIHERO_ATA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringA
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = UIHERO_SKL.UIHERO_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringAInjured
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = UIHERO_SKL.UIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = UIHERO_SKL.UIHERO_RNA2 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING DOCKING
    AliasConditionState = MOVING DOCKING_BEGINNING
    AliasConditionState = MOVING DOCKING_ACTIVE

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IRNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = UIHERO_SKL.UIHERO_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_ICHA
      AnimationMode     = LOOP
    End

    ; --- dying
    ConditionState      = DYING
      Animation         = UIHERO_SKL.UIHERO_DTA
      Animation         = UIHERO_SKL.UIHERO_DTB
      Animation         = UIHERO_SKL.UIHERO_IDTA
      Animation         = UIHERO_SKL.UIHERO_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = UIHERO_SKL.UIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = UIHERO_SKL.UIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = UIHERO_SKL.UIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; --- falling
    ConditionState      = FREEFALL
      Animation         = UIHERO_SKL.UIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = UIHERO_SKL.UIHERO_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = UIHERO_SKL.UIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Assassin
  Side                  = Militia
  EditorSorting         = INFANTRY
  TransportSlotCount    = 1                 ;how many "slots" we take in a transport (0 == not transportable)
 ;-----------------------------
  MaxSimultaneousOfType = 6
 ;-----------------------------
  WeaponSet
    Conditions = None
    Weapon = PRIMARY AssassinSpringfieldRifle
   ;;;;Weapon = SECONDARY StrikeLaserWeapon2;<=========[Áûâøèé Ñáðîñ Àññàñèíà - ïåðåäåëàí â Ãåí.Ïîâûøåíèå-ñêèëë "Äåñàíò Ãåí.Øòàáà ÎÎÏ"]
   ;;;;AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = HumanArmor
    DamageFX   = InfantryDamageFX
  End
  VisionRange         = 200.0
  ShroudClearingRange = 400.0
 ;-----------------------------
  Prerequisites
    Object = MilitiaBarracks MilitiaVehicleMobileBarrack
    Object = MilitiaResistanceHQ
  End
 ;-----------------------------
  BuildCost = 1400 ;2500
  BuildTime = 15.0 ;20.0 ;in seconds
 ;-----------------------------
  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 ;----------------------------------------------
  CommandSet = MilitiaInfantrySniperCommandSet
 ;----------------------------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect = JarmenKellVoiceSelect
  VoiceMove = JarmenKellVoiceMove
  VoiceGuard = JarmenKellVoiceMove
  VoiceAttack = JarmenKellVoiceAttack
  VoiceFear = JarmenKellVoiceFear
 ;-----------------------------
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
 ;-----------------------------
  UnitSpecificSounds
    VoiceCreate = JarmenKellVoiceCreate
    VoiceSnipePilot = JarmenKellVoiceSnipe
    VoiceGarrison = JarmenKellVoiceGarrison
    VoiceEnter = JarmenKellVoiceMove
    VoiceEnterHostile = JarmenKellVoiceMove
    VoiceGetHealed = JarmenKellVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE CANNOT_RETALIATE
;[Áûëî: KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE HERO CANNOT_RETALIATE SALVAGER WEAPON_SALVAGER]*
;-----------------------------------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0 ;[200.0]*
    InitialHealth   = 120.0 ;[200.0]*
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = AIUpdateInterface ModuleTag_03
;    AutoAcquireEnemiesWhenIdle = Yes
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = AutoFindHealingUpdate   ModuleTag_04 ;[Ýòî îáíîâëåíèå çàñòàâèò þíèò îòïðàâèòüñÿ íà ëå÷åáíóþ ñòàíöèþ â ñëó÷àå ðàíåíèÿ] 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End
;--------------------------------------------
  Locomotor = SET_NORMAL JarmenKellLocomotor
;--------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
;===========================================================================================================
  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
;--------------------------------------------
  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 0           ; msec
    StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
    FriendlyOpacityMin          = 30.0%
    FriendlyOpacityMax          = 80.0%
    PulseFrequency              = 500   ; msec
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;--------------------------------------------
  Behavior = SquishCollide ModuleTag_08
    ;nothing
  End
;===========================================================================================================
  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End
;--------------------------------------------
; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---
;-----------------------------------------------------------
  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object MilitiaJetAirLiner

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    ConditionState = NONE
      Model = MVAirLiner
    End

    ConditionState = REALLYDAMAGED
      Model = MVAirLiner_D
    End

    ConditionState = RUBBLE
      Model = MVAirLiner_D
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Airliner
  EditorSorting       = VEHICLE
  Side                = Militia
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly
  ;from the transport without creating a transport. This is done
  ;via new code support and CreateLocation USE_OWNER_OBJECT --
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_04
    SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponCarpetBomb
    OCL                  = SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B52Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01 WeaponA02
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath

  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-------------------------------------------------------------------------------------
Object MilitiaInfantryGunner  ;[Âðîäå áû êàêîéòî ïóëåì¸ò÷èê - ÍÅ ÇÀÄÅÉÑÒÂÎÂÀÍ Â ÈÃÐÅ]

  SelectPortrait = SNConscript_L
  ButtonImage = SNConscript

;  UpgradeCameo1 = Upgrade_Nationalism
;  UpgradeCameo2 = Upgrade_ChinaNeutronGrenade

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = MIGUNNR_SKN
      IdleAnimation = AISTNG_SKL.AISTNG_STA 0 30
      IdleAnimation = AISTNG_SKL.AISTNG_IDA
      IdleAnimation = AISTNG_SKL.AISTNG_IDB
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY MUZZLE01
    End
    AliasConditionState = REALLYDAMAGED
    ConditionState = FIRING_A
      Animation = AISTNG_SKL.MIGUNNR_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    TransitionState = TRANS_Stand TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Moving TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_Firing
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Firing TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Stand TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    TransitionState = TRANS_Moving TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_Firing
      Animation = AISTNG_SKL.AISTNG_RD2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Firing TRANS_Moving
      Animation = AISTNG_SKL.AISTNG_DR1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 5.0 5.0
    End
    ConditionState = MOVING
      Animation = AISTNG_SKL.AISTNG_RNA
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED
    ConditionState = MOVING DYING
      Animation = AISTNG_SKL.AISTNG_DTC
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    ConditionState = DYING
      Animation = AISTNG_SKL.AISTNG_DTA
      Animation = AISTNG_SKL.AISTNG_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AISTNG_SKL.AISTNG_ADTF1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = AISTNG_SKL.AISTNG_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AISTNG_SKL.AISTNG_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End
    ConditionState = FREEFALL
      Animation = AISTNG_SKL.AISTNG_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = AISTNG_SKL.AISTNG_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AISTNG_SKL.AISTNG_POP
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AISTNG_SKL.AISTNG_PTD
      AnimationMode = ONCE
    End
    ConditionState = SPECIAL_CHEERING
      Animation = AISTNG_SKL.AISTNG_CHA
      AnimationMode = ONCE
    End
  End
  DisplayName = OBJECT:Gunner ;[Âðîäå áû êàêîéòî ïóëåì¸ò÷èê - ÍÅ ÇÀÄÅÉÑÒÂÎÂÀÍ Â ÈÃÐÅ]
  Side = Militia
  EditorSorting = INFANTRY
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY ThirtyCaliber
  End
  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = InfantryDamageFX
  End
  VisionRange = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 450
  BuildTime = 6.0
  ExperienceValue = 20 20 40 60
  ExperienceRequired = 0 100 200 400
  IsTrainable = Yes
  CrushableLevel = 0
  CommandSet = MilitiaInfantryGunnerCommandSet
  VoiceSelect = SiegeSoldierVoiceSelect
  VoiceMove = SiegeSoldierVoiceMove
  VoiceGuard = SiegeSoldierVoiceMove
  VoiceAttack = SiegeSoldierVoiceAttack
  VoiceDefect = SiegeSoldierVoiceCreate
  VoiceFear = NoSound
  UnitSpecificSounds
    VoiceGarrison = SiegeSoldierVoiceMove
    VoiceCreate = SiegeSoldierVoiceCreate
    VoiceEnter = SiegeSoldierVoiceMove
    VoiceGetHealed = SiegeSoldierVoiceMove
  End
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER WEAPON_SALVAGER
  Body = ActiveBody ModuleTag_02
    MaxHealth = 230.0
    InitialHealth = 230.0
  End
  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = AutoFindHealingUpdate ModuleTag_05
    ScanRate = 1000
    ScanRange = 300
    NeverHeal = 0.85
    AlwaysHeal = 0.25
  End
  Locomotor = SET_NORMAL SiegeSoldierLocomotor
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = SquishCollide ModuleTag_10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -EXTRA_2 -EXTRA_3
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 6000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_GIDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_GIDie
    OCL = INITIAL OCL_ToxicInfantryBeta
  End
  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object MilitiaReinforcementpad

 ; *** ART Parameters ***
  SelectPortrait         = LandingPad1
  ButtonImage            = LandingPad1

   Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = MBLndBay
      Animation          = MBLndBay.MBLndBay
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = MBLndBay_E
      Animation          = MBLndBay_E.MBLndBay_E
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End
    
    ConditionState       = NIGHT
      Model              = MBLndBay
      Animation          = MBLndBay.MBLndBay
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = MBLndBay_E
      Animation          = MBLndBay_E.MBLndBay_E
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = MBLndBay_S
      Animation          = MBLndBay_S.MBLndBay_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = MBLndBay_E
      Animation          = MBLndBay_E.MBLndBay_E
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = MBLndBay_S
      Animation          = MBLndBay_S.MBLndBay_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = MBLndBay_E
      Animation          = MBLndBay_E.MBLndBay_E
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBLndBay
      Animation          = MBLndBay.MBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBLndBay
      Animation          = MBLndBay.MBLndBay
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBLndBay_D
      Animation          = MBLndBay_D.MBLndBay_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBLndBay_S
      Animation          = MBLndBay_S.MBLndBay_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBLndBay_S
      Animation          = MBLndBay_S.MBLndBay_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBLndBay_DS
      Animation          = MBLndBay_DS.MBLndBay_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBLndBay_A4
      Animation       = MBLndBay_A4.MBLndBay_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBLndBay_A6
      Animation       = MBLndBay_A6.MBLndBay_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName    = OBJECT:ReinforcementPad ;-[ÏËÎÙÀÄÊÀ ÑÁÐÎÑÀ ÏÎÄÊÐÅÏËÅÍÈß]
  Side           = Militia
  EditorSorting  = STRUCTURE
  VisionRange    = 200.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 200
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  Prerequisites
    Object = MilitiaWarFactory
    Science = SCIENCE_150mmHowitzer
    Science = SCIENCE_MILITIA
  End
  BuildCost = 2000
  BuildTime = 25.0           ; in seconds
  EnergyProduction = 0
 ;---------------------------
  MaxSimultaneousOfType = 2
 ;---------------------------
  ExperienceValue  = 200 200 200 200  ; Experience point value at each level
  CommandSet = TroopReinforcementCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY AUTO_RALLYPOINT CAPTURABLE MP_COUNT_FOR_VICTORY SCORE_CREATE
;-------------------------------------------
  Body = HiveStructureBody ModuleTag_04;
    MaxHealth     = 1400.0
    InitialHealth = 1400.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End
  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior = CreateObjectDie ModuleTag_13
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS--------------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;-------------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End
;--------------------------------------------------------------------------------------------
  Behavior = OCLUpdate ModuleTag_15 ; Context window is a reaction to this, no CommandSet 
    MinDelay     = 140000
    MaxDelay     = 140000
    CreateAtEdge = Yes ; as opposed to just creating on self
    FactionTriggered = Yes ; This requires a controlling player before it works    
    FactionOCL   = Faction:Militia  OCL:OCL_ReinforcementPadMilitiaVehicle1 ;<=======[¹¹¹¹ Ñîñòàâ Ñáðîñà Ïîäêðåïëåíèÿ ¹¹¹¹]
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_16
    NaturalRallyPoint = X: 0.0  Y:-60.0  Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
    UseSpawnRallyPoint = Yes
  End
  Behavior = ProductionUpdate ModuleTag_17
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 52.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object MilitiaAirfield

   ; *** ART Parameters ***
  SelectPortrait         = MilitiaAirfield
  ButtonImage            = MilitiaAirfield

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway1Parking2
    ExtraPublicBone = Runway2Parking1
    ExtraPublicBone = Runway2Parking2
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway2Park2Han
    ExtraPublicBone = Runway1Prep1
    ExtraPublicBone = Runway1Prep2
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Runway2Prep2
    ExtraPublicBone = RunwayStart1
    ExtraPublicBone = RunwayStart2
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayEnd2

    OkToChangeModelColor = Yes

    ; day ********************************************
    DefaultConditionState
      Model              = MBAirComQ;MBAirfield 
      Animation          = MBAirComQ.MBAirComQ
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT

    ConditionState       = SNOW
      Model              = MBAirComQ_S
      Animation          = MBAirComQ_S.MBAirComQ_S
      AnimationMode      = LOOP
    End
    AliasConditionState = NIGHT SNOW

    ConditionState       = DAMAGED
      Model              = MBAirComQ_D
      Animation          = MBAirComQ_D.MBAirComQ_D
      AnimationMode      = LOOP
      ParticleSysBone    = Runway1Parking1 SmolderingSmoke
      ParticleSysBone    = Runway1Park2Han SmolderingSmoke
      ParticleSysBone    = Runway1Prep1 SmolderingSmoke
      ParticleSysBone    = HeliPark01 SmolderingFire
    End
    AliasConditionState = NIGHT DAMAGED

    ConditionState       = SNOW DAMAGED
      Model              = MBAirComQ_DS
      Animation          = MBAirComQ_DS.MBAirComQ_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Runway1Parking1 SmolderingSmoke
      ParticleSysBone    = Runway1Park2Han SmolderingSmoke
      ParticleSysBone    = Runway1Prep1 SmolderingSmoke
      ParticleSysBone    = HeliPark01 SmolderingFire
    End
    AliasConditionState = NIGHT SNOW DAMAGED

    ConditionState       = REALLYDAMAGED
      Model              = MBAirComQ_E
      Animation          = MBAirComQ_E.MBAirComQ_E
      AnimationMode      = LOOP
      ParticleSysBone    = Runway1Parking1 SmolderingSmoke
      ParticleSysBone    = Runway1Park2Han SmolderingSmoke
      ParticleSysBone    = Runway1Prep1 SmolderingSmoke
      ParticleSysBone    = HeliPark01 SmolderingFire
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBAirComQ;MBAirfield 
      Animation          = MBAirComQ.MBAirComQ
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBAirComQ_D
      Animation          = MBAirComQ_D.MBAirComQ_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBAirComQ_E
      Animation          = MBAirComQ_E.MBAirComQ_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ----------------- door #1 ------------------- RUNWAY1PARK1HAN 0 4 0 0
  Draw = W3DModelDraw ModuleTag_02
    IgnoreConditionStates = SNOW NIGHT DAMAGED REALLYDAMAGED RUBBLE

    DefaultConditionState
      Model           = MBAirComQ_A1
      Animation       = MBAirComQ_A1.MBAirComQ_A1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_1_OPENING
      Model           = MBAirComQ_A1
      Animation       = MBAirComQ_A1.MBAirComQ_A1
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = MBAirComQ_A1
      Animation       = MBAirComQ_A1.MBAirComQ_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = MBAirComQ_A1
      Animation       = MBAirComQ_A1.MBAirComQ_A1
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NONE
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = SOLD
    ;**************************************************************************************************************************

  End


  ; ----------------- door #2 ------------------- RUNWAY2PARK1HAN 0 0 0 2
  Draw = W3DModelDraw ModuleTag_03
    IgnoreConditionStates = SNOW NIGHT DAMAGED REALLYDAMAGED RUBBLE

    DefaultConditionState
      Model           = MBAirComQ_A2
      Animation       = MBAirComQ_A2.MBAirComQ_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_2_OPENING
      Model           = MBAirComQ_A2
      Animation       = MBAirComQ_A2.MBAirComQ_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_2_CLOSING
      Model           = MBAirComQ_A2
      Animation       = MBAirComQ_A2.MBAirComQ_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = MBAirComQ_A2
      Animation       = MBAirComQ_A2.MBAirComQ_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NONE
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = SOLD
    ;**************************************************************************************************************************

  End


  ; ----------------- door #3 ------------------- RUNWAY1PARK2HAN 5 0 0 0
  Draw                = W3DModelDraw ModuleTag_04
    IgnoreConditionStates = SNOW NIGHT DAMAGED REALLYDAMAGED RUBBLE

    DefaultConditionState
      Model           = MBAirComQ_A3
      Animation       = MBAirComQ_A3.MBAirComQ_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_3_OPENING
      Model           = MBAirComQ_A3
      Animation       = MBAirComQ_A3.MBAirComQ_A3
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_3_CLOSING
      Model           = MBAirComQ_A3
      Animation       = MBAirComQ_A3.MBAirComQ_A3
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState    = DOOR_3_WAITING_OPEN
      Model           = MBAirComQ_A3
      Animation       = MBAirComQ_A3.MBAirComQ_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NONE
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = SOLD
    ;**************************************************************************************************************************

  End

  ; ----------------- door #4 ------------------- RUNWAY2PARK2HAN 0 0 3 0
  Draw                = W3DModelDraw ModuleTag_05
    IgnoreConditionStates = SNOW NIGHT DAMAGED REALLYDAMAGED RUBBLE

    DefaultConditionState
      Model           = MBAirComQ_A4
      Animation       = MBAirComQ_A4.MBAirComQ_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_4_OPENING
      Model           = MBAirComQ_A4
      Animation       = MBAirComQ_A4.MBAirComQ_A4
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_4_CLOSING
      Model           = MBAirComQ_A4
      Animation       = MBAirComQ_A4.MBAirComQ_A4
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState    = DOOR_4_WAITING_OPEN
      Model           = MBAirComQ_A4
      Animation       = MBAirComQ_A4.MBAirComQ_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = NONE
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = SOLD
    ;**************************************************************************************************************************

  End

 ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0600
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBAirComQ_A6
      Animation       = MBAirComQ_A6.MBAirComQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End


  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBAirComQ_A5
      Animation       = MBAirComQ_A5.MBAirComQ_A5
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:Airfield ;CONTROLBAR:ConstructMilitiaAirfield ;OBJECT:TechAirfield
  Side          = Militia
  EditorSorting = STRUCTURE
  BuildCost = 1500
  BuildTime = 15.0  ; in seconds
  VisionRange         = 200.0  ; Shroud clearing distance
  ShroudClearingRange = 200.0
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  Prerequisites
    Object = MilitiaResistanceHQ ;MilitiaWarFactory
    ;;Science = SCIENCE_Airfield
  End
 ;---------------------------
  MaxSimultaneousOfType = 6
 ;---------------------------
  ExperienceValue = 150 150 150 150  ; Experience point value at each level
  CommandSet = MilitiaAirfieldCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = AirfieldUSASelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

   ; *** ENGINEERING Parameters ***
 RadarPriority = STRUCTURE
 KindOf = PRELOAD AUTO_RALLYPOINT STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY 
;-----------------¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹-------------------------------------------------------------------------------------------
  Body = StructureBody ModuleTag_10
    MaxHealth         = 1500.0
    InitialHealth     = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond   = 10
    NumRows               = 2
    NumCols               = 2
    HasRunways            = Yes
    ApproachHeight        = 50
  End
  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 4
    DoorOpeningTime              = 2200  ;in mSeconds
    DoorWaitOpenTime             = 3200  ;in mSeconds
    DoorCloseTime                = 2200  ;in mSeconds
    ConstructionCompleteDuration = 1000  ;in mSeconds
  End
  Behavior = DestroyDie ModuleTag_14
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = FXListDie ModuleTag_16
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = FlammableUpdate ModuleTag_20
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 90.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 7.5
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;---------------------------------------------------------------------
Object MilitiaVehicleHuey

  SelectPortrait = Huey_L
  ButtonImage    = Huey

 Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04
    ExtraPublicBone = EXITEND01
    ExtraPublicBone = EXITEND02
    ExtraPublicBone = EXITEND03
    ExtraPublicBone = EXITEND04
    ExtraPublicBone = EXITSTART01
    ExtraPublicBone = EXITSTART02
    ExtraPublicBone = EXITSTART03
    ExtraPublicBone = EXITSTART04
    ExtraPublicBone = FIREPOINT01
    ExtraPublicBone = FIREPOINT02
    ExtraPublicBone = FIREPOINT03
    ExtraPublicBone = FIREPOINT04

 DefaultConditionState
  Model = MVHuey
  Animation = MVHuey.MVHuey
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
 End

    ConditionState = REALLYDAMAGED
  Model = MVHuey
  Animation = MVHuey.MVHuey
      AnimationMode                   = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
    End

    ConditionState = RUBBLE
  Model = MVHuey
  Animation = MVHuey.MVHuey
      AnimationMode                   = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
    End

  ConditionState = RUBBLE SPECIAL_DAMAGED
  Model = MVHuey
  Animation = MVHuey.MVHuey
      AnimationMode                   = LOOP
  End

  OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw ModuleTag_02
  ConditionState = NONE
    Model = None
    TransitionKey = TRANS_Empty
    WaitForStateToFinishIfPossible = TRANS_Unloading
  End

  ConditionState = DYING
    Model = None
  End

  AliasConditionState = RUBBLE
  AliasConditionState = CARRYING RUBBLE
  AliasConditionState = DOCKING RUBBLE
  AliasConditionState = DOCKING CARRYING RUBBLE

 ConditionState = CARRYING
  Model = MVHuey
  Animation = MVHuey.MVHuey
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
  TransitionKey = TRANS_Full
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End

 ConditionState = DOCKING
  Model = MVHuey
  Animation = MVHuey.MVHuey
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
  TransitionKey = TRANS_PickingUp
  WaitForStateToFinishIfPossible = TRANS_Unloading
 End

 ConditionState = DOCKING CARRYING
  Model = MVHuey
  Animation = MVHuey.MVHuey
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MG
  WeaponFireFXBone = PRIMARY MG
  WeaponMuzzleFlash = SECONDARY ROCKET01
  WeaponFireFXBone = SECONDARY ROCKET01
  WeaponMuzzleFlash = TERTIARY ROCKET02
  WeaponFireFXBone = TERTIARY ROCKET02
  TransitionKey = TRANS_Unloading
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End
End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Huey
  EditorSorting = VEHICLE
  Side = Militia
  TransportSlotCount = 0
  VisionRange = 200.0
  ShroudClearingRange = 600
  Prerequisites
    Object = MilitiaAirfield
    Object = MilitiaResistanceHQ
    Science = SCIENCE_Airfield
  End
  BuildCost = 2300 ;2500 ;2000 ;1800 ;1600
  BuildTime = 25.0 ;30.0 ;15.0
  ExperienceValue     = 50 100 150 200 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes  
  CommandSet = MilitiaVehicleHueyCommandSet
 WeaponSet
    Conditions = None
    Weapon            = PRIMARY   Huey20mmCannonWeapon
    PreferredAgainst  = PRIMARY   INFANTRY
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY HueyRocketWeapon
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    Weapon            = TERTIARY  HueyRocketWeapon
    PreferredAgainst  = TERTIARY  VEHICLE STRUCTURE
 End
 ArmorSet
  Conditions = None
  Armor      = ComancheArmor
  DamageFX   = None
 End

  ; *** AUDIO Parameters ***
  VoiceSelect = TechnicalVoiceSelect
  VoiceMove = TechnicalVoiceMove
  VoiceGuard = TechnicalVoiceMove
  VoiceAttack = TechnicalVoiceAttack
 ;SoundMoveStart = TechnicalMoveStart
 ;SoundMoveStartDamaged = TechnicalMoveStart
 ;-------------------------------------------
  SoundAmbient = BlackHawkAmbientLoop
 ;-------------------------------------------
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit
 ;-------------------------
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = TechnicalVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceSalvage = TechnicalVoiceSalvage
    VoiceCrush = TechnicalVoiceCrush
    VoiceUnload = TechnicalVoiceUnload
    VoiceEnter = TechnicalVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
;----------------------------------
 Body = ActiveBody ModuleTag_03
  MaxHealth     = 400.0 ;210.0
  InitialHealth = 400.0 ;210.0
 End
 Behavior = FXListDie ModuleTag_05
  DeathFX = FX_HelicopterStartDeath
 End
 Behavior = TransitionDamageFX ModuleTag_06
  ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
  ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
 End
 Behavior = ChinookAIUpdate ModuleTag_070
   AutoAcquireEnemiesWhenIdle = Yes 
   RotorWashParticleSystem = HelixRotorWashRing
 End
;----------------------------------------------------------
  Locomotor = SET_NORMAL  HueyLocomotor ;[ÑÊÎÐÎÑÒÜ: 120]
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;----------------------------------------------------------
 Behavior = PhysicsBehavior ModuleTag_09
   Mass = 50.0
 End
 Behavior = HelicopterSlowDeathBehavior ModuleTag_10
  DestructionDelay = 99999999
  SpiralOrbitTurnRate = 140.0
  SpiralOrbitForwardSpeed = 350.0
  SpiralOrbitForwardSpeedDamping = .9999
  MaxBraking = 190
  SoundDeathLoop = ComancheDamagedLoop
  MinSelfSpin = 100
  MaxSelfSpin = 300
  SelfSpinUpdateDelay = 100
  SelfSpinUpdateAmount = 10
  FallHowFast = 12.0%
  MinBladeFlyOffDelay = 1500
  MaxBladeFlyOffDelay = 1500
  AttachParticle = SootySmokeTrail
  AttachParticleBone = Propeller02
  BladeObjectName = ComancheBlades
  BladeBoneName = Propeller01
  FXBlade = FX_HelicopterBladeExplosion
  OCLBlade = OCL_HelicopterBladeExplosion
  FXHitGround = FX_HelicopterHitGround
  OCLHitGround = OCL_HelicopterHitGround
  FXFinalBlowUp = FX_GroundedHelicopterBlowUp
  OCLFinalBlowUp = OCL_GroundedHelicopterBlowUp
  DelayFromGroundToFinalDeath = 30
  FinalRubbleObject = ComancheRubbleHull
 End
 Behavior = FlammableUpdate ModuleTag_21
  AflameDuration = 5000
  AflameDamageAmount = 3
  AflameDamageDelay = 500
 End
;;;;;;;;;;;;;; Ýòî áûëî âûïåëåíî äî ìåíÿ ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = GarrisonContain ModuleTag_hind
;    EnterSound                    = GarrisonEnter
;    ExitSound                     = GarrisonExit
;    ImmuneToClearBuildingAttacks  = No
;    DamagePercentToUnits          = 100%
;    IsEnclosingContainer          = No
;    AllowInsideKindOf             = INFANTRY
;    ForbidInsideKindOf            = TRANSPORT AIRCRAFT HUGE_VEHICLE VEHICLE
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;-------------------------------------------------------------------------------
  Behavior = TransportContain ModuleTag_HTTCN ;_08
    Slots                = 2
    DamagePercentToUnits = 100%
    InitialPayload       = AirF_AmericaInfantrySpecOps 0
    AllowInsideKindOf    = INFANTRY
    ForbidInsideKindOf   = AIRCRAFT HUGE_VEHICLE VEHICLE
    ExitDelay            = 100
    NumberOfExitPaths    = 1
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 4.0
  GeometryHeight = 28.0     
  GeometryIsSmall = No
  Scale = 1.05
;  Shadow = SHADOW_VOLUME    
;  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

 End

;-------------------------------------------------------------------
Object MilitiaAvangar

  ; *** ART Parameters ***
  SelectPortrait         = GLAAirfield
  ButtonImage            = GLAAirfield

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
  
    ExtraPublicBone = Runway1Parking1 
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1 
    
    ; day
    ConditionState = NONE
      Model         = CBTHanger2_G
      Animation     = CBTHanger2_G.CBTHanger2_G
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = CBTHanger2_DG
      Animation     = CBTHanger2_DG.CBTHanger2_DG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = CBTHanger2_DG
      Animation     = CBTHanger2_DG.CBTHanger2_DG
      AnimationMode = LOOP
    End
    
    ; night
    ConditionState = NIGHT
      Model         = CBTHanger2_NG
      Animation     = CBTHanger2_NG.CBTHanger2_NG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = CBTHanger2_DNG
      Animation     = CBTHanger2_DNG.CBTHanger2_DNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = CBTHanger2_DNG
      Animation     = CBTHanger2_DNG.CBTHanger2_DNG
      AnimationMode = LOOP
    End
    
    ; Snow
    ConditionState = SNOW
      Model         = CBTHanger2_SG
      Animation     = CBTHanger2_SG.CBTHanger2_SG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = CBTHanger2_DSG
      Animation     = CBTHanger2_DSG.CBTHanger2_DSG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = CBTHanger2_DSG
      Animation     = CBTHanger2_DSG.CBTHanger2_DSG
      AnimationMode = LOOP
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model         = CBTHanger2_SNG
      Animation     = CBTHanger2_SNG.CBTHanger2_SNG
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = CBTHanger2_DSNG
      Animation     = CBTHanger2_DSNG.CBTHanger2_DSNG
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = CBTHanger2_DSNG
      Animation     = CBTHanger2_DSNG.CBTHanger2_DSNG
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = CBTHanger2_G
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = CBTHanger2_G
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = CBTHanger2_G
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = CBTHanger2_G
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = CBTHanger2_DG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBBarracks_A4
      Animation       = UBBarracks_A4.UBBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBBarracks_A4N
      Animation       = UBBarracks_A4N.UBBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBBarracks_A4S
      Animation       = UBBarracks_A4S.UBBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBBarracks_A4SN
      Animation       = UBBarracks_A4SN.UBBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03012
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters *** ;========================================[ÍÅ ÇÀÄÅÉÑÒÂÎÂÀÍ/ÑÏÈÑÀÍ...]==========================
  DisplayName      = CONTROLBAR:ConstructMilitiaAirfield ;OBJECT: ...
  Side             = Militia
  EditorSorting    = STRUCTURE
  BuildCost        = 1500
  BuildTime        = 15.0           ; in seconds
  EnergyProduction = 0
  CommandSet       = MilitiaAirfieldCommandSet
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  Prerequisites
    Object = MilitiaWarFactory
    Science = SCIENCE_Airfield
  End


  ; *** AUDIO Parameters ***
  VoiceSelect = AirfieldChinaSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_AIRFIELD
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 800.0
    InitialHealth = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ParkingPlaceBehavior ModuleTag_0600
    HealAmountPerSecond     = 10
    NumRows                 = 1
    NumCols                 = 1
    HasRunways              = Yes
    ApproachHeight          = 50
    ParkInHangars           = No ;Yes* ;<===¹¹¹¹¹¹¹ Ñòîÿíêà ñàìîë¸òà íà Àýðîäðîìå: â ÀÍÃÀÐÅ èëè íåò ¹¹¹¹¹¹¹¹
  End

  Behavior = ProductionUpdate ModuleTag_0900
    NumDoorAnimations            = 1
    DoorOpeningTime              = 1000  ;in mSeconds
    DoorWaitOpenTime             = 2000  ;in mSeconds
    DoorCloseTime                = 1000  ;in mSeconds
    ConstructionCompleteDuration = 1000  ;in mSeconds
  End

  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior        = CreateObjectDie ModuleTag_08
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior        = FXListDie ModuleTag_09
    DeathFX       = FX_StructureSmallDeath
  End
  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 42.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR SMALL MEDIUM FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 36.0
  GeometryHeight      = 23.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End



;------------------------------------------------------------------------------
Object MilitiaRadarPost

  ; *** ART Parameters ***
  SelectPortrait         = RadarPost
  ButtonImage            = RadarPost

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; day
    ConditionState = NONE
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    
    ; night
    ConditionState = NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
      
    ; Snow
    ConditionState = SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    
    ; night snow
    ConditionState = SNOW NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = CBTOutpost_DG
      Animation     = CBTOutpost_DG.CBTOutpost_DG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = CBTOutpost_DNG
      Animation     = CBTOutpost_DNG.CBTOutpost_DNG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = CBTOutpost_DSG
      Animation     = CBTOutpost_DSG.CBTOutpost_DSG
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = MBRadarPost
      Animation     = MBRadarPost.MBRadarPost
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = MBRadarPost_D
      Animation     = MBRadarPost_D.MBRadarPost_D
      AnimationMode = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_0202
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBRadarPost_A4
      Animation       = MBRadarPost_A4.MBRadarPost_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = MBRadarPost_A6
      Animation       = MBRadarPost_A6.MBRadarPost_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MilitiaRadarPost ;CONTROLBAR:ConstructMilitiaRadarPost
  Side                = Militia
  EditorSorting       = STRUCTURE
;---------------------------------------------
  BuildCost           = 5000 ;750 ;800
  BuildTime           = 45.0 ;10.0     ;in seconds
;---------------------------------------------
  EnergyProduction = -10 ;[Áûëî: 0]*
;---------------------------------------------
  VisionRange         = 800.0 ;650.0 ;[400.0]*  ; Shroud clearing distance
  ShroudClearingRange = 800.0 ;650.0 ;[400.0]*
  ArmorSet
    Conditions        = None
    Armor             = StructureArmorTough ;StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
;---------------------------------------------
  MaxSimultaneousOfType = 1 ;3 ;2 ;[1]*
;---------------------------------------------
  Prerequisites
    Object = MilitiaResistanceHQ ;MilitiaCommandCenter
  End
  CommandSet = MilitiaRadarPostCommandSet

 ;---------------------------------------------------
  ; *** AUDIO Parameters ***

  VoiceSelect = MilitiaRadarPostSelect
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End


  ; *** ENGINEERING Parameters ***

  RadarPriority = STRUCTURE
  KindOf        = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY POWERED
 ;--------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 5000.0 ;1500.0
    InitialHealth = 5000.0 ;1500.0
  End
  Behavior = ProductionUpdate ModuleTag_03
    ; nothing
  End
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
;=============================================[ÒÐÈ ÒÅÃÀ ÐÀÄÀÐÀ: Òåïåðü ñïóòíèêîâóþ ìèíè-êàðòó âèäíî ñòðàçó ñî ñòàðòà èãðû]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                                  ;[Ðàäàð íå áóäåò îòêëþ÷¸í íèçêèì ýíåðãîïîòðåáëåíèåì]¹¹¹¹¹¹¹¹¹¹¹¹
  ;;DisableProof  = Yes ; Won't be disabled by power low ;<========[ÒÅÑÒ: Còðîêà êîäà âçÿòàÿ ó GLA-øíîãî Ðàäàðíîãî ôóðãîíà]¹¹¹¹¹¹¹¹¹¹¹¹¹
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[Âðåìÿ çàäåðæêè ðàñïðîñòðàíåíèÿ ðàäàðà â ìñåêóíäàõ]
  End
;==========================================================================================================================
  Behavior = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence ;<===============[Ðàçâåäêà êàê â Ñòðàòåãè÷åñêîì Öåíòðå ÑØÀ]
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior = OCLSpecialPower ModuleTag_11
    SpecialPowerTemplate = SpecialPowerSpySatelliteMilitiaSpy
    OCL                  = SUPERWEAPON_MilitiaSpyAgent
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior = CreateObjectDie ModuleTag_12
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = FXListDie ModuleTag_13
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = FlammableUpdate ModuleTag_14
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED CIVILIAN BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1          = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    ;---------------------------------------------------------------------------------------
    RubbleParticleSystem1              = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    RubbleParticleSystem2              = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    RubbleParticleSystem3              = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
    RubbleParticleSystem4              = Bone:None RandomBone:No PSys:StructureTransitionSmallFlare
  End

  Geometry            = BOX
  GeometryMajorRadius = 36.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 30.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25 
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object MilitiaSpyAgent

  ; *** ART Parameters ***
  SelectPortrait         = Agent
  ButtonImage            = Agent


  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = NIAMBSDR_SKN
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_STA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_IDA
      IdleAnimation = NIAMBSDR_SKL.NIAMBSDR_IDB
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End
        
    ConditionState = MOVING
      Animation = NIAMBSDR_SKL.NIAMBSDR_RNA ;***was using WKA but it doesn't exist so I changed it to kill the assert -- Kris 
      AnimationMode = LOOP
      Flags = RANDOMSTART
    End

    ConditionState = MOVING PANICKING
      Animation = NIAMBSDR_SKL.NIAMBSDR_RNA 
      AnimationMode = LOOP
      Flags = RANDOMSTART
    End

    ConditionState = DYING
      Animation = NIAMBSDR_SKL.NIAMBSDR_DTA
      Animation = NIAMBSDR_SKL.NIAMBSDR_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = NIAMBSDR_SKL.NIAMBSDR_ADTD3
      AnimationMode = ONCE
      TransitionKey = None
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ambassador
  Side                = Militia
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    ; no weapons
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 300
  ShroudClearingRange = 300

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CommandSet          = AmbassadorCommandSet

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE SALVAGER WEAPON_SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 90.0
    InitialHealth   = 90.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    SinkDelay = 3000
    SinkRate = 0.5     ; in Dist/Sec
    DestructionDelay = 8000
  End
 
  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

  Behavior = FXListDie ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_RedGuardDie
  End
  Behavior = FXListDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_GIDieCrushed
  End

  Behavior = PoisonedBehavior ModuleTag_09
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = StealthUpdate ModuleTag_10
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = StealthDetectorUpdate ModuleTag_11
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  Scale = 0.9
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object MilitiaSupplyCrago

  ; *** ART Parameters ***
  
  SelectPortrait = SupplyCrago
  ButtonImage    = SupplyCrago
  
  ;UpgradeCameo1 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model           = MVSupTr
      HideSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = MVSupTr_D
    End
    
    ConditionState    = RUBBLE
      Model           = MVSupTr_D
    End
    
    ConditionState    = CARRYING
      ShowSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = REALLYDAMAGED CARRYING
      Model           = MVSupTr_D
      ShowSubObject   = Cargo01 Cargo02
    End
    
    ConditionState    = RUBBLE CARRYING
      Model           = MVSupTr_D
      ShowSubObject   = Cargo01 Cargo02
    End
    
    TrackMarks              = EXTireTrack.tga

    RightFrontTireBone = Tire01
    LeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire03
    MidLeftFrontTireBone = Tire04
    MidRightMidTireBone = Tire05
    MidLeftMidTireBone = Tire06
    MidRightRearTireBone = Tire07
    MidLeftRearTireBone = Tire08
    RightRearTireBone = Tire09
    LeftRearTireBone = Tire10

    Dust                    = RocketBuggyDust
    DirtSpray               = RocketBuggyDirtSpray

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:GLAAlphaSupplyTruck ;OBJECT:SupplyTruck
  Side                = Militia
  EditorSorting       = VEHICLE
  TransportSlotCount  = 4                           ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 800 ;[â PR 9.1.18 áûëî: 1000]*
  BuildTime           = 10.0      ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300
  ArmorSet
    Conditions = None
    Armor      = TruckArmor
    DamageFX   = TankDamageFX
  End
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaSupplyTruckCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect             = ConvoyTruckSelect
  VoiceMove               = SupplyTruckVoiceMove
  VoiceAttack             = NoSound
  SoundMoveStart          = ConvoyTruckMoveStart
  SoundMoveStartDamaged = SupplyTruckMoveStart
  UnitSpecificSounds
    VoiceCreate           = SupplyTruckVoiceCreate
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceSupply           = SupplyTruckVoiceSupply
    VoiceCrush            = SupplyTruckVoiceCrush
    VoiceEnter            = SupplyTruckVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  ;@todo lorenzen removed the CAN_ATTACK from the supplytruck... ok?
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE HARVESTER
;;[HARVESTER -ïåðåâîä:"Êîìáàéí, óáîðî÷íàÿ ìàøèíà" -Êîä äëÿ îòäåëåíèÿ þíèòà îò áîåâûõ þíèòîâ(åñëè íàæàòü Q -òî âûäåëÿòñÿ âñå áîåâûå þíèòû íà êàðòà êðîìå òåõ ó êîãî èìååòñÿ êîä HARVESTER]
;----------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = SupplyTruckAIUpdate ModuleTag_03
    MaxBoxes = 7 ;[8]* ;[7 ÿùèêîâ õ 100$ = 700$]
    SupplyCenterActionDelay = 600     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1250 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 800 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = SupplyTruckVoiceSuppliesDepleted
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Locomotor = SET_NORMAL WanderCarLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ExperienceValue    = 50 50 50 50 ;Experience point value at each level

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_TankChinaHeavySupplyTruckDeathEffect
  End
    
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_TankChinaHeavySupplyTruck_CrushEffect
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 12.0     
  GeometryIsSmall = No
  Scale = 0.95
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object MilitiaPowerPlant

  ; *** ART Parameters ***
  SelectPortrait         = SMPowerPlan
  ButtonImage            = SMPowerPlan

  ;day
  Draw                = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState    = NONE
      Model           = MBPwrPlant
      Animation       = MBPwrPlant.MBPwrPlant
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState    = DAMAGED
      Model           = MBPwrPlant_D
      Animation       = MBPwrPlant_D.MBPwrPlant_D
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = UBPwrPlant_EN
      Animation       = UBPwrPlant_EN.UBPwrPlant_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
      ParticleSysBone = Fire02  SmolderingFire
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks
      ParticleSysBone = Spark03 LiveWireSparks
      ParticleSysBone = Spark04 LiveWireSparks
    End

      ;night
    ConditionState    = NIGHT
      Model           = UBPwrPlant_N
      Animation       = UBPwrPlant_N.UBPwrPlant_N
      AnimationMode   = LOOP
    End
    ConditionState    = NIGHT DAMAGED
      Model           = UBPwrPlant_DN
      Animation       = UBPwrPlant_DN.UBPwrPlant_DN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      Model           = UBPwrPlant_EN
      Animation       = UBPwrPlant_EN.UBPwrPlant_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
      ParticleSysBone = Fire02  SmolderingFire
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks
      ParticleSysBone = Spark03 LiveWireSparks
      ParticleSysBone = Spark04 LiveWireSparks
    End


    ; Snow
    ConditionState = SNOW
      Model           = MBPwrPlant_S
      Animation       = MBPwrPlant_S.MBPwrPlant_S
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = DAMAGED SNOW
      Model           = MBPwrPlant_DS
      Animation       = MBPwrPlant_DS.MBPwrPlant_DS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
    End
    ConditionState = REALLYDAMAGED SNOW
      Model           = UBPwrPlant_EN
      Animation       = UBPwrPlant_EN.UBPwrPlant_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
      ParticleSysBone = Fire02  SmolderingFire
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks
      ParticleSysBone = Spark03 LiveWireSparks
      ParticleSysBone = Spark04 LiveWireSparks
    End

    ; night snow
    ConditionState = SNOW NIGHT
      Model           = MBPwrPlant_S
      Animation       = MBPwrPlant_S.MBPwrPlant_S
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState = DAMAGED SNOW NIGHT
      Model           = MBPwrPlant_DS
      Animation       = MBPwrPlant_DS.MBPwrPlant_DS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire

    End
    ConditionState = REALLYDAMAGED SNOW NIGHT
      Model           = UBPwrPlant_EN
      Animation       = UBPwrPlant_EN.UBPwrPlant_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01  SmolderingFire
      ParticleSysBone = Fire02  SmolderingFire
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks
      ParticleSysBone = Spark03 LiveWireSparks
      ParticleSysBone = Spark04 LiveWireSparks
    End
;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPwrPlant
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBPwrPlant_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBPwrPlant_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = UBPwrPlant_N
      Animation          = UBPwrPlant_N.UBPwrPlant_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = UBPwrPlant_DN
      Animation          = UBPwrPlant_DN.UBPwrPlant_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = UBPwrPlant_EN
      Animation          = UBPwrPlant_EN.UBPwrPlant_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    ;**************************************************************************************************************************

  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBPwrPlant_A6
      Animation       = MBPwrPlant_A6.MBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBPwrPlant_A4
      Animation       = MBPwrPlant_A4.MBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45
 ;PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:GLAPowerPlant ;¹¹¹¹¹¹¹¹[ÝËÅÊÒÐÎÑÒÀÍÖÈß]¹¹¹¹¹¹¹¹¹
  Side                = Militia
  EditorSorting       = STRUCTURE
  VisionRange         = 200.0          ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  Prerequisites
    Object = MilitiaWarFactory ;;;;MilitiaResistanceHQ
   ;;;;Science = SCIENCE_MilPwP
  End
  BuildCost           = 1200
  BuildTime           = 12.0           ; in seconds
;-------------------------------
  EnergyProduction    = 8 ;10
;-------------------------------
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level
  CommandSet          = GLAPowerPlantCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = NuclearReactorSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY

  Body                = StructureBody ModuleTag_05
    MaxHealth         = 1000.0
    InitialHealth     = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior                 = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_08
    CreationList  = OCL_ABPowerPlantExplode
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing, but is required if we have any Object-level Upgrades!
  End
  Behavior = PowerPlantUpdate ModuleTag_11
    RodsExtendTime = 500
  End

  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior        = FXListDie ModuleTag_16
    DeathFX       = FX_StructureSmallDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 27.0
  GeometryMinorRadius = 42.0
  GeometryHeight      = 42.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object MilitiaBaikRocketPad ;Jhad Centr

  ; *** ART Parameters ***
  SelectPortrait         = MUJhadCentr1 ;Detroyt!!!! Ne tupi xD
  ButtonImage            = MUJhadCentr1 ;Detroyt!!!! Ne tupi xD
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; day
    ConditionState      = NONE
      Model = MBJihadCentr
      Animation     = MBJihadCentr.MBJihadCentr
      AnimationMode = LOOP
    End
    ConditionState      = SOLD
      Model             = NONE
    End  
    ConditionState      = SOLD SNOW
      Model             = NONE

    End   
    ConditionState      = SOLD NIGHT
      Model             = NONE
    End    
    ConditionState      = SOLD NIGHT SNOW
      Model             = NONE
    End     
    
    
    ConditionState      = DAMAGED
      Model = MBJihadCentr_D
      Animation     = MBJihadCentr_D.MBJihadCentr_D
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE
      Model = MBJihadCentr_E
      Animation     = MBJihadCentr_E.MBJihadCentr_E
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model             = MBJihadCentr
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model             = MBJihadCentr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model             = MBJihadCentr_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING
      Model = MBJihad_A2
      Animation     = MBJihad_A2.MBJihad_A2
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN
      Model = MBJihad_A2
      Animation     = MBJihad_A2.MBJihad_A2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY ROCKPOST01
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
      ParticleSysBone   = Steam03 BigMissileSteam
      ParticleSysBone   = Steam04 BigMissileSteam
      ParticleSysBone   = Steam05 BigMissileSteam
      ParticleSysBone   = Steam06 BigMissileSteam
    End  

 
    ConditionState      = DOOR_1_WAITING_TO_CLOSE
      Model = MBJihad_A3
      Animation     = MBJihad_A3.MBJihad_A3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY ROCKPOST01
    End   
    ConditionState      = DOOR_1_CLOSING
      Model = MBJihad_A3
      Animation     = MBJihad_A3.MBJihad_A3
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End 

  
    ConditionState      = DOOR_1_OPENING DAMAGED 
      Model = MBJihad_A2D
      Animation     = MBJihad_A2D.MBJihad_A2D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire

      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED 
      Model = MBJihad_A2D
      Animation     = MBJihad_A2D.MBJihad_A2D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY ROCKPOST01
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End  
 
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED 
      Model = MBJihad_A3D
      Animation     = MBJihad_A3D.MBJihad_A3D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End  
 
    ConditionState      = DOOR_1_CLOSING DAMAGED 
      Model = MBJihad_A3D
      Animation     = MBJihad_A3D.MBJihad_A3D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
  
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE 
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
      ParticleSysBone   = Steam03 BigMissileSteam
      ParticleSysBone   = Steam04 BigMissileSteam
      ParticleSysBone   = Steam05 BigMissileSteam
      ParticleSysBone   = Steam06 BigMissileSteam
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE 
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
      ParticleSysBone   = Steam03 BigMissileSteam
      ParticleSysBone   = Steam04 BigMissileSteam
      ParticleSysBone   = Steam05 BigMissileSteam
      ParticleSysBone   = Steam06 BigMissileSteam
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE 
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE 
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT
      Model = MBJihadCentr
      Animation     = MBJihadCentr.MBJihadCentr
      AnimationMode = LOOP
    End
    ConditionState      = DAMAGED NIGHT
      Model = MBJihadCentr_D
      Animation     = MBJihadCentr_D.MBJihadCentr_D
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model = MBJihadCentr_E
      Animation     = MBJihadCentr_E.MBJihadCentr_E
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model = MBJihadCentr
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model = MBJihadCentr_D
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model = MBJihadCentr_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT
      Model = MBJihad_A2
      Animation     = MBJihad_A2.MBJihad_A2
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT
      Model = MBJihad_A2
      Animation     = MBJihad_A2.MBJihad_A2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT
      Model = MBJihad_A3
      Animation     = MBJihad_A3.MBJihad_A3
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      ;WeaponLaunchBone  = PRIMARY RockPost
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT
      Model = MBJihad_A3
      Animation     = MBJihad_A3.MBJihad_A3
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT
      Model = MBJihad_A2D
      Animation     = MBJihad_A2D.MBJihad_A2D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT
      Model = MBJihad_A2D
      Animation     = MBJihad_A2D.MBJihad_A2D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT
      Model = MBJihad_A3D
      Animation     = MBJihad_A3D.MBJihad_A3D
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT
      Model = MBJihad_A3D
      Animation     = MBJihad_A3D.MBJihad_A3D
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    
    ;-------------- SNOW! --------------------
    
        ConditionState      = SNOW
      Model = MBJihadCentr_S
      Animation     = MBJihadCentr_S.MBJihadCentr_S
      AnimationMode = LOOP
    End
    
    ConditionState      = DAMAGED SNOW
      Model = MBJihadCentr_DS
      Animation     = MBJihadCentr_DS.MBJihadCentr_DS
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model = MBJihadCentr_E
      Animation     = MBJihadCentr_E.MBJihadCentr_E
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 
    ConditionState      = AWAITING_CONSTRUCTION SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model = MBJihadCentr_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model             = MBJihadCentr_DS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model = MBJihadCentr_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END   
    ConditionState      = DOOR_1_OPENING SNOW
      Model = MBJihad_A2S
      Animation     = MBJihad_A2S.MBJihad_A2S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN SNOW
      Model = MBJihad_A2S
      Animation     = MBJihad_A2S.MBJihad_A2S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End  

 
    ConditionState      = DOOR_1_WAITING_TO_CLOSE SNOW
      Model = MBJihad_A3S
      Animation     = MBJihad_A3S.MBJihad_A3S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
    End   
    ConditionState      = DOOR_1_CLOSING SNOW
      Model = MBJihad_A3S
      Animation     = MBJihad_A3S.MBJihad_A3S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End

   
    ConditionState      = DOOR_1_OPENING DAMAGED SNOW
      Model = MBJihad_A2DS
      Animation     = MBJihad_A2DS.MBJihad_A2DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED SNOW
      Model = MBJihad_A2DS
      Animation     = MBJihad_A2DS.MBJihad_A2DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   


    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED SNOW
      Model             = MBJihad_A3DS
      Animation         = MBJihad_A3DS.MBJihad_A3DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED SNOW
      Model             = MBJihad_A3DS
      Animation         = MBJihad_A3DS.MBJihad_A3DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End 

  
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE SNOW
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE SNOW
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE SNOW
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE SNOW
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   

    ; night
    ConditionState      = NIGHT SNOW
      Model = MBJihadCentr_S
      Animation     = MBJihadCentr_S.MBJihadCentr_S
      AnimationMode = LOOP
    End
    ConditionState      = DAMAGED NIGHT SNOW
      Model = MBJihadCentr_DS
      Animation     = MBJihadCentr_DS.MBJihadCentr_DS
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
    End
     ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model = MBJihadCentr_E
      Animation     = MBJihadCentr_E.MBJihadCentr_E
      AnimationMode = LOOP
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End
    ConditionState      = AWAITING_CONSTRUCTION NIGHT SNOW
      Model             = None
    End
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model = MBJihadCentr_S
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model             = MBJihadCentr_DS
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model             = MBJihadCentr_E
      Flags             = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    END       
    ConditionState      = DOOR_1_OPENING NIGHT SNOW
      Model = MBJihad_A2S
      Animation     = MBJihad_A2S.MBJihad_A2S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
    End   
    ConditionState      = DOOR_1_WAITING_OPEN NIGHT SNOW
      Model = MBJihad_A2S
      Animation     = MBJihad_A2S.MBJihad_A2S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE NIGHT SNOW
      Model = MBJihad_A3S
      Animation     = MBJihad_A3S.MBJihad_A3S
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
    End   
    ConditionState      = DOOR_1_CLOSING NIGHT SNOW
      Model = MBJihad_A3S
      Animation     = MBJihad_A3S.MBJihad_A3S
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
    End   
    ConditionState      = DOOR_1_OPENING DAMAGED NIGHT SNOW
      Model = MBJihad_A2DS
      Animation     = MBJihad_A2DS.MBJihad_A2DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN DAMAGED NIGHT SNOW
      Model = MBJihad_A2DS
      Animation     = MBJihad_A2DS.MBJihad_A2DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE DAMAGED NIGHT SNOW
      Model             = MBJihad_A3DS
      Animation         = MBJihad_A3DS.MBJihad_A3DS
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING DAMAGED NIGHT SNOW
      Model             = MBJihad_A3DS
      Animation         = MBJihad_A3DS.MBJihad_A3DS
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_OPENING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE NIGHT SNOW
      Model = MBJihad_A2E
      Animation     = MBJihad_A2E.MBJihad_A2E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
      ParticleSysBone   = Steam01 BigMissileSteam
      ParticleSysBone   = Steam02 BigMissileSteam
    End   
    ConditionState      = DOOR_1_WAITING_TO_CLOSE REALLYDAMAGED RUBBLE NIGHT SNOW
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = MANUAL
      Flags             = START_FRAME_FIRST
      WeaponLaunchBone  = PRIMARY RockPost
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End   
    ConditionState      = DOOR_1_CLOSING REALLYDAMAGED RUBBLE NIGHT SNOW
      Model = MBJihad_A3E
      Animation     = MBJihad_A3E.MBJihad_A3E
      AnimationMode     = ONCE
      Flags             = MAINTAIN_FRAME_ACROSS_STATES2
      ParticleSysBone   = Smoke01 SmolderingSmoke
      ParticleSysBone   = Smoke02 SmolderingSmoke
      ParticleSysBone   = Smoke03 SmolderingSmoke
      ParticleSysBone   = Smoke04 SmolderingSmoke
      ParticleSysBone   = Smoke05 SmolderingSmoke
      ParticleSysBone   = Smoke06 SmolderingSmoke
      ParticleSysBone   = Smoke01 SmolderingFire
      ParticleSysBone   = Smoke02 SmolderingFire
      ParticleSysBone   = Smoke03 SmolderingFire
      ParticleSysBone   = Smoke04 SmolderingFire
      ParticleSysBone   = Smoke05 SmolderingFire
      ParticleSysBone   = Smoke06 SmolderingFire
    End     
  End
   
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBJihad_A4
      Animation       = MBJihad_A4.MBJihad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDust
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
      ParticleSysBone = Smoke04 BuildUpSmoke
    End    
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End   
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End 
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBJihad_A6
      Animation       = MBJihad_A6.MBJihad_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RocketPad
  Side = Militia
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = MilitiaResistanceHQ
  End
  BuildCost = 10000 ;8000 ;[5000]*
  BuildTime = 65.0 ;[60.0]*  ; in seconds
  EnergyProduction = -15
  VisionRange     = 200.0      ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead
  ArmorSet
    Conditions = None
    Armor      = StructureArmorTough
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 400 400 400 400  ; Experience point value at each level
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  CommandSet = MilitiaBaikonurLaunchTowerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BaikonurTruckMoveLoop
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  SoundAmbient    = BuildingNeutronMissileHiss
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON

  Body = StructureBody ModuleTag_07
    MaxHealth       = 4500.0
    InitialHealth   = 4500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 200
  End

  Behavior = AIUpdateInterface ModuleTag_09
  End

  Behavior = OCLSpecialPower ModuleTag_0721
    SpecialPowerTemplate = GLARogue_SuperweaponLaunchBaikonurRocket
    OCL                  = Militia_SUPERWEAPON_CruiseMissile
  End

  Behavior = SpecialPowerCreate ModuleTag_10
    ;nothing
  End

  Behavior = DestroyDie ModuleTag_11
    ;nothing
  End

  ClientUpdate = AnimatedParticleSysBoneClientUpdate ModuleTag_12
  End
  Behavior = CreateObjectDie ModuleTag_1521
    CreationList  = OCL_LargeStructureDebris
  End 
  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = FXListDie ModuleTag_140
    DeathFX      = WeaponFX_BombTruckHighExplosiveBioBombDetonation
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_PoisonFieldMedium
    CreationList = OCL_LargeStructureDebris
    ExemptStatus = UNDER_CONSTRUCTION
  End  

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS--------------------------------
    DamagedParticleSystem1       = Bone:RUNWAYSTART2 RandomBone:No PSys:StructureTransitionMediumSmoke
    DamagedParticleSystem2       = Bone:FIRES01      RandomBone:No PSys:MolotovBurningRag
    DamagedParticleSystem3       = Bone:SMOKES02     RandomBone:No PSys:SmokeFactionSmall
    DamagedParticleSystem4       = Bone:SMOKES03     RandomBone:No PSys:LiveWireSparks
    DamagedParticleSystem5       = Bone:FIREM01      RandomBone:No PSys:FireFactionMedium
    DamagedParticleSystem6       = Bone:SMOKEM01     RandomBone:No PSys:SmokeFactionMedium
    DamagedParticleSystem7       = Bone:HELIPARK01   RandomBone:No PSys:SmokeFactionMedium
    DamagedParticleSystem8       = Bone:FIREM01      RandomBone:No PSys:TankSmoke
   ;----------------------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:RUNWAYSTART2 RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:RUNWAYSTART2 RandomBone:No PSys:MolotovBurningRag
    ReallyDamagedParticleSystem3 = Bone:RUNWAYSTART2 RandomBone:No PSys:SmokeFactionSmall
    ReallyDamagedParticleSystem4 = Bone:FIRES01      RandomBone:No PSys:LiveWireSparks
    ReallyDamagedParticleSystem5 = Bone:SMOKES01     RandomBone:No PSys:FireFactionMedium
    ReallyDamagedParticleSystem6 = Bone:FIRES02      RandomBone:No PSys:SmokeFactionMedium
    ReallyDamagedParticleSystem7 = Bone:SMOKES02     RandomBone:No PSys:SmokeFactionMedium
    ReallyDamagedParticleSystem8 = Bone:FIRES03      RandomBone:No PSys:TankSmoke
    ReallyDamagedFXList1  = Loc:x:-81 y:42 z:37  FXList:FX_TsingMaExplosion
   ;-----------------------------------------------------------------------------------------------------
    RubbleFXList1 = Loc:x:60 y:40 z:2 FXList:FX_FRANTANDetonation
    RubbleFXList2 = Loc:x:-49 y:63 z:25 FXList:FX_TsingMaExplosion
    RubbleOCL2    = Loc:x:-49 y:63 z:25 OCL:OCL_TsingMaExplosion
    RubbleFXList3 = Loc:x:-111 y:-52 z:25 FXList:FX_TsingMaExplosion
    RubbleOCL3    = Loc:x:-111 y:-52 z:25 OCL:OCL_TsingMaExplosion
  End

  Behavior = ProductionUpdate ModuleTag_211
  End

  Behavior = MissileLauncherBuildingUpdate ModuleTag_0921
    SpecialPowerTemplate = GLARogue_SuperweaponLaunchBaikonurRocket
    DoorOpenTime         = 8000
    DoorWaitOpenTime     = 2000
    DoorCloseTime        = 8000

    ; FXLists to play at transitions:
    DoorOpeningFX        = ChinaNuclearMissileLauncherDoorOpen
    ;DoorOpenFX           = FX_ABPowerPlantExplode
    DoorWaitingToCloseFX = ChinaNuclearMissileLauncherLaunch
    ;DoorClosingFX        = FX_ABPowerPlantExplode
    ;DoorClosedFX         = FX_ABPowerPlantExplode

    ; looping sound to play while open:
    DoorOpenIdleAudio = BuildingNeutronMissileHiss
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = RadiusDecalUpdate ModuleTag_19
    ; nothing
  End

  Geometry              = BOX
  GeometryMajorRadius   = 45.0
  GeometryMinorRadius   = 85.0
  GeometryHeight        = 25.0
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------
Object MilitiaBossChinaFireBase ;[BossFireBase]*

  ; *** ART Parameters ***
  SelectPortrait         = SBFirebase
  ButtonImage            = SBFirebase
  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = NIGHT

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04

    DefaultConditionState
      Model              = BBBunker
    End
    ConditionState      = DAMAGED
      Model             = BBBunker_D
    End
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = BBBunker_D
    End
    ConditionState      = SNOW
      Model             = BBBunker_s
    End
    ConditionState      = DAMAGED SNOW
      Model             = BBBunker_sd
    End
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = BBBunker_sd
    End
;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = BBBunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = BBBunker_s
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = BBBunker_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = BBBunker_sd
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = BBBunker_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
      Model              = BBBunker_sd
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45
 ;PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName    = OBJECT:FireBase
  Side           = Militia ;[Boss]*
  EditorSorting  = STRUCTURE
  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  Prerequisites
    Object = MilitiaPowerPlant
    Object = MilitiaResistanceHQ
  End
  BuildCost = 1500 ;[1400]*
  BuildTime = 25.0 ;[20.0]* ;in seconds
  EnergyProduction = -4 ;-1 ;[-2]*
  ArmorSet
    Conditions = None
    Armor      = FireBaseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
  CommandSet = MilitiaBunkerCommandSet ;;[BossFireBaseCommandSet2 ;(ÁÅÇ Ìèí) ;BossFireBaseCommandSet(Ñ Ìèíàìè)]*

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED SALVAGER WEAPON_SALVAGER;;POWERED
;--------------------------------------------
  Body = HiveStructureBody ModuleTag_04
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End
  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%
    IsEnclosingContainer          = no
  End
  Behavior = SpawnPointProductionExitUpdate ModuleTag_05ty
    SpawnPointBoneName = SpawnPoint
  End
;=======================================================================
  Behavior = SpawnBehavior ModuleTag_06to
    SpawnNumber           = 4 ;<==================[Ðàêåòíûå Òóðåëè]
    SpawnReplaceDelay     = 1 ;msec
    SpawnTemplateName     = BossSentryMachineGun
    CanReclaimOrphans     = No
    SpawnedRequireSpawner = Yes
    SlavesHaveFreeWill = No
  End
;=======================================================================
  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = RebuildHoleExposeDie ModuleTag_08976
    HoleName      = GLAHoleStingerSite
    HoleMaxHealth = 500.0
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = ProductionUpdate ModuleTag_16
  End
  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = CreateObjectDie ModuleTag_13809u
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = CommandSetUpgrade ModuleTag_2578
    CommandSet = BossFireBaseCommandSet2
    TriggeredBy = Upgrade_ChinaMines
  End
  Behavior = GenerateMinefieldBehavior     ModuleTag_13
    TriggeredBy           = Upgrade_ChinaMines
    MineName              = ChinaStandardMine
    SmartBorder           = Yes
    AlwaysCircular        = Yes
    Upgradable            = Yes
    UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
    UpgradedMineName      = ChinaEMPMine
  End
  Behavior = BaseRegenerateUpdate ModuleTag_0567
    ;No data
  End 
  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End
  Behavior = StealthDetectorUpdate ModuleTag_1367
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  300 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End
;------------------------------------------------------------------------------
Object BossSentryMachineGun

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot
  
  ;UpgradeCameo1 = NONE

  Draw = W3DTankDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = BBFactGun
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    ConditionState                    = REALLYDAMAGED
      Model = BBFactGun_d
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    ConditionState                    = RUBBLE
      Model = BBFactGun_d
      Turret             = TURRET01
      TurretPitch        = TURRETEL01
      WeaponLaunchBone   = PRIMARY WEAPONA01
      WeaponFireFXBone   = PRIMARY WEAPONA01
      WeaponMuzzleFlash  = PRIMARY WEAPONA01
      WeaponRecoilBone   = PRIMARY WEAPONA01
      WeaponLaunchBone   = TERTIARY WEAPONA01
      WeaponFireFXBone   = TERTIARY WEAPONA01
      WeaponMuzzleFlash  = TERTIARY WEAPONA01
      WeaponRecoilBone   = TERTIARY WEAPONA01
    End
    TreadAnimationRate   = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = Militia ;[Boss]*
  EditorSorting      = VEHICLE
  TransportSlotCount = 1 ;how many "slots" we take in a transport (0 == not transportable)
;================================================================
  WeaponSet
    Conditions = None 
    Weapon            = PRIMARY  BaseBossMissileWeapon ;<=========================[AttackRange = 225.0]
    PreferredAgainst  = PRIMARY  VEHICLE INFANTRY STRUCTURE ;[VEHICLE INFANTRY]*
    AutoChooseSources = PRIMARY  FROM_PLAYER FROM_AI FROM_SCRIPT
   ;------------------------------------------------------------
    Weapon            = TERTIARY BaseBossMissileWeaponAir ;<======================[AttackRange = 400.0]
    PreferredAgainst  = TERTIARY AIRCRAFT ;[BALLISTIC_MISSILE AIRCRAFT]* 
    AutoChooseSources = TERTIARY FROM_PLAYER FROM_AI FROM_SCRIPT  
  End
;================================================================
  ArmorSet
    Conditions = None
    Armor = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 360.0 ;[200.0]*
;-----------------------
; EnergyProduction = -1
;-----------------------
  ExperienceValue = 50 50 50 50 ;Experience point value at each level
  ExperienceRequired = 0 0 0 0  ;Experience points needed to gain each level
  IsTrainable = No              ;Can gain experience
  CrusherLevel   = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS IGNORED_IN_GUI ;;POWERED
;--------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 3000.0
    InitialHealth   = 3000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate  = 900 ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 225 ;Dustin, enable this for independant balancing!
  End
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_06yug
    Turret
      TurretTurnRate        = 200  ;Turn rate, in degrees per sec
      TurretPitchRate       = 210
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-------------------------------------------------------------
Object MilitiaVehicleFundamentalistsVan

  ; *** ART Parameters ***
  SelectPortrait = SUBattleVan_L
  ButtonImage    = SUBattleVan

  ;UpgradeCameo1 = Upgrade_GLACamouflageVehicle ;Upgrade_GLAJunkRepair
  ;UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UVBattleVan
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model = UVBattleVan_D
    End
    ConditionState = RUBBLE
      Model = UVBattleVan_D
    End
   TrackMarks = EXTireTrack.tga
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MilitiaBattleVan
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY BVRPGWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = TruckArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 2800 ;[3000]*
  BuildTime = 25.0 ;[30.0]*  ;in seconds
  Prerequisites
    Object = MilitiaResistanceHQ ;;MilitiaWarFactory
    Science = SCIENCE_Rank2
  End
  VisionRange         = 200.0
  ShroudClearingRange = 500.0
  ExperienceValue     = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ;Experience points needed to gain each level
  IsTrainable    = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
 ;---------------------------
  MaxSimultaneousOfType = 8
 ;---------------------------
  CommandSet = MilitiaFundamentalistBattleVanCommandSet ;GLABattleVanCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = RadarVanVoiceSelect
  VoiceMove             = RadarVanVoiceMove
  VoiceAttack           = RadarVanVoiceMove
  SoundMoveStart        = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart
  SoundEnter            = HumveeEnter
  SoundExit             = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RadarVanVoiceCreate
    TurretMoveStart      = NoSound
    TurretMoveLoop       = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound    = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush           = RadarVanVoiceCrush
    VoiceEnter           = RadarVanVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER WEAPON_SALVAGER SCORE IGNORES_SELECT_ALL

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 600.0 ;500.0 ;[400.0]*
    InitialHealth = 600.0 ;500.0 ;[400.0]*
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = HordeUpdate ModuleTag_04667
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End
  ExperienceValue = 20 20 20 20  ; Experience point value at each level 
;---------------------------------------------------------------
  Behavior = TransportContain  ModuleTag_99
    PassengersAllowedToFire = Yes
    Slots                = 8 ;10
    InitialPayload       = MilitiaInfantryFundamentalist 8 ;10
    DamagePercentToUnits = 100%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 5 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
    DelayExitInAir = Yes
  End
;-------------------------------------------------------------
;  Behavior = StealthUpdate ModuleTag_21
;    StealthDelay                = 2400 ; msec
;    StealthForbiddenConditions  = USING_ABILITY ATTACKING
;    MoveThresholdSpeed          = 3
;    InnateStealth               = No ;Requires upgrade first
;    OrderIdleEnemiesToAttackMeUponReveal  = Yes
;  End
;  Behavior = StealthUpgrade ModuleTag_22
;    TriggeredBy = Upgrade_GLACamouflageVehicle
;  End
;-------------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_09
    Turret
      TurretTurnRate = 100
      TurretPitchRate       = 100
      AllowsPitch           = Yes
      NaturalTurretPitch    = 20
      GroundUnitPitch       = 20
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY
    End
  End
;--------------------------------------------
  Locomotor = SET_NORMAL BattleVanLocomotor
;--------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 50.0
  End
; The default explosion
  Behavior = SlowDeathBehavior  ModuleTag_11
    DeathTypes          = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 5
    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay    = 0
    DestructionDelayVariance = 200
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_RadarVanDeathEffect
  End
  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay  = 500     ; this often.
  End
  Behavior = DestroyDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_15
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_17
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_18
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = TransitionDamageFX ModuleTag_19
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = ProductionUpdate ModuleTag_0800
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 12.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ;minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.08

End

;-----------------------------------------------------------------------------------------------------
Object MilitiaAntiTankCannon ;-[Ïðîòèâîòàíêîâàÿ Ïóøêà] ;;[Object Slth_GLADefenseSiteAntiTankCannon*]

  ; *** ART Parameters ***
  SelectPortrait         = SUDSAntiTank_L
  ButtonImage            = SUDSAntiTank_L

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  ; *** ART Parameters ***
  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ConditionState = RELOADING_A
      Model = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVBS1.UVBS1
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UVBS1
      Turret = TURRET01
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;******************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE02
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteAntiTank ;[ÏÐÎÒÈÂÎÒÀÍÊÎÂÀß ÏÓØÊÀ]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Side                = Militia ;GLA
  EditorSorting       = STRUCTURE
  VisionRange         = 350.0
  ShroudClearingRange = 350.0
;---------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY DefenseSiteTankGun
    PreferredAgainst = PRIMARY VEHICLE
  End
;---------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------
  Prerequisites
    Object = MilitiaBarracks
  End
  BuildCost = 800
  BuildTime = 14.0
  EnergyProduction = 0
;---------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 60 80 106 142
  ;ExperienceRequired = 0  180 240 319
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet ;Slth_UpgradedDefeseSiteCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;--------------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_AI
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate = 90
      AllowsPitch    = No
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ;[Ïåðåâîä: Àâòî íàæèâàòü ñåáå âðàãîâ âî âðåìÿ íåàêòèâíîñòè = äà Íåçàìåòíîñòü]
    MoodAttackCheckRate = 250  ;[Ïåðåâîä: Íàñòðîåíèå àòàêè Ïðîâåðüòå ðàñõîä = 250]
  End
;------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList  = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Behavior = BaseRegenerateUpdate ModuleTag_Regen
  End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = RebuildHoleExposeDie ModuleTag_1238
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_4568
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;-------------------------------------------------------------------------------------------------------------
Object MilitiaArtilleryCannon ;-[Àðòèëëåðèéñêàÿ ïóøêà] ;;[Object Slth_GLADefenseSiteArtilleryCannon*]

  ; *** ART Parameters ***
  SelectPortrait         = SUDSArtillery_L
  ButtonImage            = SUDSArtillery_L

  ;UpgradeCameo1 = Upgrade_GLAToxinShells
  ;UpgradeCameo2 = Upgrade_GLACamoNetting

  Draw                    = W3DModelDraw ModuleTag_Draw04
    OkToChangeModelColor  = Yes

    ConditionState = NONE
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    AliasConditionState = DAMAGED
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState = RELOADING_A
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Animation = UVD30.UVD30
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A NIGHT
    AliasConditionState = RELOADING_A SNOW NIGHT
    AliasConditionState = RELOADING_A DAMAGED
    AliasConditionState = RELOADING_A DAMAGED SNOW
    AliasConditionState = RELOADING_A DAMAGED NIGHT
    AliasConditionState = RELOADING_A DAMAGED SNOW NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = RELOADING_A REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model = UVD30
      Turret = TURRET
      WeaponFireFXBone = PRIMARY FIREFX
      WeaponMuzzleFlash = PRIMARY MUZZLEFX
      WeaponLaunchBone = PRIMARY FIREFX
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ;*****************************************************
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = OILTANK01
    
    ; day ************************************
    ConditionState = NONE
      Model = UBStingerS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = NIGHT 
    ConditionState = DAMAGED
      Model = UBStingerS_D
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = DAMAGED NIGHT 
    ConditionState = REALLYDAMAGED RUBBLE
      Model = UBStingerS_E
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState = REALLYDAMAGED NIGHT RUBBLE

    ; day snow ************************************
    ConditionState = SNOW
      Model = UBStingerS_S
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = NIGHT SNOW
    ConditionState = DAMAGED SNOW
      Model = UBStingerS_DS
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = DAMAGED NIGHT SNOW
    ConditionState = REALLYDAMAGED SNOW RUBBLE
      Model = UBStingerS_ES
      HideSubObject = TURRETUP02 PLANE01
    End
    AliasConditionState       = REALLYDAMAGED NIGHT SNOW RUBBLE

    ;**********************************************
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = UBStingerS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = UBStingerS_D
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = UBStingerS_E
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = UBStingerS_S
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = UBStingerS_DS
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = UBStingerS_ES
      HideSubObject      = TURRETUP02 PLANE01
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A4
      Animation       = UBStingerS_A4.UBStingerS_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4N
      Animation       = UBStingerS_A4N.UBStingerS_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A4S
      Animation       = UBStingerS_A4S.UBStingerS_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A4SN
      Animation       = UBStingerS_A4SN.UBStingerS_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Smoke01 BuildUpSmoke
      ParticleSysBone = Smoke02 BuildUpSmoke
      ParticleSysBone = Smoke03 BuildUpSmoke
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = UBStingerS_A6
      Animation       = UBStingerS_A6.UBStingerS_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6N
      Animation       = UBStingerS_A6N.UBStingerS_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = UBStingerS_A6S
      Animation       = UBStingerS_A6S.UBStingerS_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = UBStingerS_A6SN
      Animation       = UBStingerS_A6SN.UBStingerS_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DefenseSiteArtillery ;-[ÀÐÒÈËËÅÐÈÉÑÊÀß ÏÓØÊÀ]
  Side                = Militia ;GLA
  EditorSorting       = STRUCTURE
  VisionRange         = 350.0
  ShroudClearingRange = 350.0
;---------------------------------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY ALMajArtilCannonGun ;FireBaseHowitzerGunGla
  End
;---------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;---------------------------------------------------------------------
  Prerequisites
    Object = MilitiaResistanceHQ
  End
  BuildCost        = 1000 ;[800]*  ;1700
  BuildTime        = 16.0 ;20.0 ;[10.0]* ;34.0
  EnergyProduction = 0
;---------------------------------------------------------------------
  ExperienceValue = 100 100 100 100  ; Experience point value at each level
  ;ExperienceValue    = 101 134 178 238
  ;ExperienceRequired = 0 302 402 535
  ;IsTrainable        = Yes
  CommandSet = AmericaPatriotBatteryCommandSet ;Slth_UpgradedDefeseSiteCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = StingerSiteSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters *** 
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMUNE_TO_CAPTURE SCORE_CREATE CAN_ATTACK IMMOBILE FS_BASE_DEFENSE SALVAGER WEAPON_SALVAGER
;;[ Êîä îò ñòàðîé Ñòàö-Àðòèëëåðèè Ìèëèòèè, êîòîðóþ çàêèíóë ê Á.Î.Ñ.Ñ.-ó : PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE ]
;--------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Body = StructureBody ModuleTag_04
;    MaxHealth     = 900.0
;    InitialHealth = 900.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Body = StructureBody ModuleTag_05
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;--------------------------------------------?????????????????????????.........
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60
      AllowsPitch           = No
      ControlledWeaponSlots = PRIMARY
      RecenterTime   = 1000000
    End
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ATTACK_BUILDINGS ;[Ïåðåâîä: Àâòî íàæèâàòü ñåáå âðàãîâ âî âðåìÿ íåàêòèâíîñòè = Äà Íåçàìåòíîñòü ÇÄÀÍÈÉ ATTACK]
    MoodAttackCheckRate = 250  ;[Ïåðåâîä: Íàñòðîåíèå àòàêè Ïðîâåðüòå ðàñõîä = 250]
  End
;--------------------------------------------------------------------
  Behavior = DestroyDie ModuleTag_09
  End
  Behavior = CreateObjectDie ModuleTag_10
    CreationList = OCL_ABStingerSiteDebris
  End
  Behavior = FXListDie ModuleTag_11
    DeathFX = FX_StructureSmallDeath
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000   ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5  ; taking this much damage...
    AflameDamageDelay = 500 ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Behavior = BaseRegenerateUpdate ModuleTag_Regen
  End 
  Behavior = ProductionUpdate ModuleTag_Production
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior= RebuildHoleExposeDie ModuleTag_658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;  Behavior = RebuildHoleExposeDie ModuleTag_65658
;    HoleName      = GLAHoleStingerSite
;    HoleMaxHealth = 400.0
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 10.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End


;---------------------------------------------------------------------
Object MilitiaInfantryRangerAOP ;[AirF_AmericaInfantryRangerSTARIK]*

  ; *** ART Parameters ***
  SelectPortrait = SARanger_L
  ButtonImage    = SARanger

  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  UpgradeCameo5 = Upgrade_AmericaInfantryHealth
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX

      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle

      WeaponFireFXBone  = TERTIARY Muzzle     
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_B
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringB TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End
  
    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_C
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringC TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringC TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringCInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringCInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED


    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MilitiaRangerAOP ;[OBJECT:Ranger]*
  Side               = Militia ;[AmericaAirForceGeneral]*
  EditorSorting      = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY None
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
    Weapon = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY None
    ShareWeaponReloadTime = Yes
 End
  ArmorSet
    Conditions = None
    Armor      = HumanArmor
    DamageFX   = InfantryDamageFX
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ChemSuitHumanArmor
    DamageFX   = None
  End
  VisionRange = 100
  ShroudClearingRange = 400
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Prerequisites
;   Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  BuildCost = 200
  BuildTime = 5.0          ;in seconds  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AirF_AmericaInfantryRangerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete
 ;--------------------
  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = RangerVoiceModeFlashBang
  End
 ;--------------------
  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE SALVAGER WEAPON_SALVAGER

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
;-----------------------------------------------------------------------
  Locomotor = SET_NORMAL AOPBasicHumanLocomotor ;[BasicHumanLocomotor]*
;-----------------------------------------------------------------------

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12  ;Ýòîò Òýã îòâå÷àåò çà òî ìîæåò ëè ïåõîòèíåö áûòü ðàçäàâëåí òåõíèêîé
    ;nothing ;¹¹¹¹¹¹ *Åñëè ýòîò Òýã âûïèëèòü òî òîãäà ïåõîòèíöà íåëüçÿ áóäåò ðàçäàâèòü òåõíèêîé ¹¹¹¹¹¹¹
  End
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaChemicalSuits
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End
  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0
  Scale = 0.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object MilitiaTankHurricane

  ; *** ART Parameters ***
  SelectPortrait         = SMHurricane_L
  ButtonImage            = SMHurricane

;  UpgradeCameo1 = Upgrade_AmericaBattleDrone
;  UpgradeCameo2 = Upgrade_AmericaScoutDrone
;  UpgradeCameo3 = Upgrade_AmericaTOWMissile
;  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
;  UpgradeCameo5 = Upgrade_AmericaHellfireDrone

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model               = MVHurricane
      Turret              = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY WeaponA
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
    End

    ConditionState       = REALLYDAMAGED
      Model              = MVHurricane_d
    End

    ConditionState       = RUBBLE
      Model              = MVHurricane_d
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:Hurricane
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY   HurricaneCannon
    Weapon = SECONDARY HurricaneMissileWeapon
  End
  ArmorSet
    Conditions = None
    Armor      = BradleyArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 1200 ;1000
  BuildTime = 18.0 ;10.0 ;in seconds
  VisionRange         = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = MilitiaWarFactory
    ;Science = SCIENCE_MILITIA
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 300 ;Experience points needed to gain each level
  IsTrainable    = Yes               ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaVehicleHurricaneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BradleyVoiceSelect
  VoiceMove = BradleyVoiceMove
  VoiceGuard = BradleyVoiceGuard
  VoiceAttack = BradleyVoiceAttack
  VoiceAttackAir = BradleyVoiceAttackTOW
  SoundMoveStart        = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;HumveeMoveStart]*
  SoundMoveStartDamaged = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;HumveeMoveStart]*
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;-------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = BradleyVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = BradleyVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = BradleyVoiceUnload
    VoiceEnter = BradleyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT SALVAGER WEAPON_SALVAGER
;----------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 320.0
    InitialHealth   = 320.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
;-------------------------------------------------------------------
  Locomotor = SET_NORMAL M113HurricaneLocomotor ;;BradleyLocomotor
;-------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;---------------------------------------------------------------------------------------------
  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = No
    Slots                = 6
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
  Behavior = ObjectCreationUpgrade ModuleTag_GarnisonOOP ;_GarnisonSpawn01
    UpgradeObject = OCL_MilitiaAOPM113Garnison ;[OCL_AirF_BradleyGarnison]*
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade ;[Upgrade_AmericaBradleyGarnison]*
  End
;-----------------------------------------------------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_MicrowaveTankDeath
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End
;  Behavior = EjectPilotDie ModuleTag_16
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    ExemptStatus = HIJACKED
;    ; The following added out per hotlist request 10/9 as above ML
;    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
;    GroundCreationList = OCL_EjectPilotOnGround
;    AirCreationList = OCL_EjectPilotViaParachute
;  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 17.5
  GeometryMinorRadius = 7.5
  GeometryHeight = 3.75
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;========================================================================================================================================
Object MilitiaVehicleArtilleryKentavr ;[Çàèìñòâîâàííàÿ ó Êàññàäà ìàøèíà àðòèëëåðèè "Êåíòàâð-Ýêçåêóòîð"];[Slth_GLAVehicleRocketBuggy]*

  ; *** ART Parameters ***
  SelectPortrait = BIAlMajnoon_L ;BIAlMajnoon
  ButtonImage    = BIAlMajnoon_L ;BIAlMajnoon
  
  ;UpgradeCameo1 = Upgrade_GLAJunkRepair
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model            = IVAlMajnoon
      Turret           = TURRET01
      TurretPitch      = TURRETEL
      AltTurret        = SECTURRET
      HideSubObject    = SECTURRET 
      WeaponFireFXBone = PRIMARY PRIMARYMUZZLE
      WeaponRecoilBone = PRIMARY Barral
      WeaponLaunchBone = PRIMARY PRIMARYMUZZLE
    End    
    ConditionState = RUBBLE REALLYDAMAGED
      Model            = IVAlMajnoon
      Turret           = TURRET01
      TurretPitch      = TURRETEL
      AltTurret        = SECTURRET
      HideSubObject    = SECTURRET 
      WeaponFireFXBone = PRIMARY PRIMARYMUZZLE
      WeaponRecoilBone = PRIMARY Barral
      WeaponLaunchBone = PRIMARY PRIMARYMUZZLE
      ParticleSysBone  = TURRET01 SteamVent
    End
    TrackMarks = EXTireTrack.tga
    Dust = ScudLauncherDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire05
    LeftRearTireBone = Tire04
    RightRearTireBone = Tire08
    MidLeftFrontTireBone = Tire02
    MidRightFrontTireBone = Tire06
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire07
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    ;PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MilitiaArtilleryKentavr ;[OBJECT:Slth_ALMajArtilCannon]*
  Side               = Militia ;[GLAStealthGeneral]*
  EditorSorting      = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY ArtilleryKentavrCannonGun ;[ALMajArtilCannonGun]*
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 2000 ;2500 ;1600 ;1400
  BuildTime = 20.0 ;25.0 ;15.0 ;in seconds    
  VisionRange         = 340.0 ;[200.0]*
  ShroudClearingRange = 350.0 ;[300.0]*
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
    Science = SCIENCE_150mmHowitzer
  End
  ExperienceValue = 50 50 100 150     ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = HowitzerVoiceSelect
  VoiceMove         = HowitzerVoiceMove
  VoiceGuard        = HowitzerVoiceMove
  VoiceAttack       = HowitzerVoiceAttack
  SoundMoveStart        = InfernoCannonMoveStart
  SoundMoveStartDamaged = InfernoCannonMoveStart
  UnitSpecificSounds
    VoiceCreate     = HowitzerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
    VoiceCrush      = HowitzerVoiceMove
    VoiceEnter      = HowitzerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
;------------------------------------------------------------------------------------  
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 280.0 ;[120.0]*
    InitialHealth = 280.0 ;[120.0]*
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;--------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 100
      TurretPitchRate = 100
      AllowsPitch = Yes
      FirePitch = 50
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes NotWhileAttacking
  End
;-----------------------------------------
  Locomotor = SET_NORMAL InfernoLocomotor
;-----------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX    = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire  
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_InfernoCannonDeathEffect
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = CreateCrateDie ModuleTag_1000
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = ProductionUpdate ModuleTag_13
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = DestroyDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = StealthUpdate ModuleTag_10
;;  StealthDelay               = 2500 ; msec
;;  StealthForbiddenConditions = MOVING ATTACKING USING_ABILITY TAKING_DAMAGE
;;  MoveThresholdSpeed         = 3
;;  InnateStealth              = Yes ;doesnt Require upgrade first
;;  OrderIdleEnemiesToAttackMeUponReveal = Yes
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = AutoHealBehavior ModuleTag_0600
;;  HealingAmount = 2
;;  HealingDelay = 1000 ; msec
;;  TriggeredBy = Upgrade_GLAJunkRepair
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = BOX
  GeometryMajorRadius = 25.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   
  Scale = 0.9

End

;------------------------------------------------------------------------------
Object MilitiaResistanceHQ

   ; *** ART Parameters ***
  SelectPortrait         = Swe
  ButtonImage            = Swe

  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = MBPalace ;MBResistanceHQ 
      Animation          = MBPalace.MBPalace
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End

    ConditionState       = NIGHT
      Model              = MBPalace ;MBResistanceHQ 
      Animation          = MBPalace.MBPalace
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End

    ;----------- SNOW

    ConditionState       = SNOW
      Model              = MBPalace_S
      Animation          = MBPalace_S.MBPalace_S
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED SNOW
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End

    ;---------- SNOW NIGHT

    ConditionState       = NIGHT SNOW
      Model              = MBPalace_S
      Animation          = MBPalace_S.MBPalace_S
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT SNOW
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Fire01 GLAPowerPlantFlame
      ParticleSysBone = Fire02 GLAPowerPlantFlame
      ParticleSysBone = Fire03 GLAPowerPlantFlame
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = MBPalace ;MBResistanceHQ 
      Animation          = MBPalace.MBPalace
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = MBPalace ;MBResistanceHQ 
      Animation          = MBPalace.MBPalace
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = MBPalace_D
      Animation          = MBPalace_D.MBPalace_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = MBPalace_S
      Animation          = MBPalace_S.MBPalace_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = MBPalace_S
      Animation          = MBPalace_S.MBPalace_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = MBPalace_DS
      Animation          = MBPalace_DS.MBPalace_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD 
    AliasConditionState  = GARRISONED SOLD DAMAGED
    AliasConditionState  = GARRISONED SOLD REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT
    AliasConditionState  = GARRISONED SOLD NIGHT DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW
    AliasConditionState  = GARRISONED SOLD SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD SNOW REALLYDAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = GARRISONED SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02121
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBPalace_A4
      Animation       = MBPalace_A4.MBPalace_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07s
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
      ParticleSysBone = Smoke05 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
      ParticleSysBone = Smoke05 BuildUpSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = MBPalace_A6
      Animation       = MBPalace_A6.MBPalace_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

 ;PlacementViewAngle = -45
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:CivHQ  ;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹[ Ïîëåâîé Øòàá ÀÎÏ ]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Side          = Militia
  EditorSorting = STRUCTURE
;--------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
;-------------------------------------------
  Prerequisites
    Object = MilitiaWarFactory
    Science = SCIENCE_MILITIA
  End
;-------------------------------------------
  BuildCost = 2600 ;[PR9.1.18: 3000]*
  BuildTime = 40.0 ;[PR9.1.18: 30.0]
;-----------------------
  EnergyProduction = 0
;-------------------------------------------------------
  VisionRange         = 200.0 ;Shroud clearing distance
  ShroudClearingRange = 200.0
;--------------------------------------------------------------------------
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;ShroudRevealToAllRange = 60 ;Reveals shroud to all players at a specific amount which can be different. ;Using same value? ;;Then use KINDOF_REVEAL_TO_ALL instead!
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;-------------------------------------------
  MaxSimultaneousOfType = 4 ;3
;-------------------------------------------
  CommandSet = MilitiaCivHQCommandSet
;-------------------------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect = PalaceSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE IMMUNE_TO_CAPTURE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY ATTACK_NEEDS_LINE_OF_SIGHT
;-----------------------------------------------------------------------------------------------------------------
  Body = StructureBody ModuleTag_03 ;_09
    MaxHealth     = 2500.0
    InitialHealth = 2500.0
   ;Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
   ;The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
;------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_04 ;_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 3000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;=============================================[ÒÐÈ ÒÅÃÀ ÐÀÄÀÐÀ: Òåïåðü ñïóòíèêîâóþ ìèíè-êàðòó âèäíî ñòðàçó ñî ñòàðòà èãðû]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                   ;[Ðàäàð íå áóäåò îòêëþ÷¸í íèçêèì ýíåðãîïîòðåáëåíèåì]¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
    DisableProof  = Yes ; Won't be disabled by power low ;<========[ÒÅÑÒ: Äîáàâèë ñþäà ýòó ñòðîêó êîäà âçÿòóþ ó GLA-øíîãî Ðàäàðíîãî ôóðãîíà]¹¹¹¹¹¹¹
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[Âðåìÿ çàäåðæêè ðàñïðîñòðàíåíèÿ ðàäàðà â ìñåêóíäàõ]
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
;-------------------------------------------------------------
  Behavior = DefaultProductionExitUpdate ModuleTag_05 ;_11
    UnitCreatePoint   = X: 11,736 Y:27,095   Z:0.0
    NaturalRallyPoint = X: 57,489  Y:27,095   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
;-------------------------------------------------------------
  ; Behavior = RepairDockUpdate ModuleTag_06 ;_12
    ; TimeForFullHeal   = 5000   ;(in milliseconds)
    ; NumberApproachPositions = 5
  ; End
;-------------------------------------------------------------
;---- Removed module ----------------------------------------- ???
  Behavior = SlowDeathBehavior ModuleTag_07 ;_16124
    DestructionDelay = 500
    FX             = FINAL   FX_StructureMediumDeath
    OCL            = FINAL   OCL_AmericaWarFactoryDebris ;<======[???]
  End
;-------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_08 ;_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
;--------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_09 ;_18
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;--------------------------------------------------------------
  Behavior = CreateObjectDie ModuleTag_10 ;_20
    CreationList  = OCL_LargeStructureDebris
  End
;--------------------------------------------------------------
  Behavior = FXListDie ModuleTag_11 ;_21
    DeathFX = FX_StructureMediumDeath
  End
;--------------------------------------------------------------
  Behavior = DestroyDie ModuleTag12 ;_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 32.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object Militia150mmFieldGun

  ; *** ART Parameters ***
  SelectPortrait = SMBarrage_L
  ButtonImage    = SPT

  ;UpgradeCameo1 = Upgrade_GLAJunkRepair

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ;Normal Bike
    ;------------------------------
    DefaultConditionState
      Model = MVFieldGun
      Turret = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
    End
    ConditionState = REALLYDAMAGED
      Model = MVFieldGun_d
      Turret = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
    End
    ConditionState = RIDER1
      Model = MVFieldGun
      Turret = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
    End
    ConditionState = RIDER1 REALLYDAMAGED
      Model = MVFieldGun_d
      Turret = Turret01
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
    End
    ConditionState = RIDER2
      Model = MVFieldGunM
    End
    ConditionState = RIDER2 REALLYDAMAGED
      Model = MVFieldGunM_d
    End
   ;-----------------------------
    TrackMarks = EXTireTrack.tga
   ;-----------------------------
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    CabRotationMultiplier = 1.5
    TrailerRotationMultiplier = 0.2
    CabBone = CHASSIS
    TrailerBone = TRAILER
    RotationDamping = 0.7
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire04
    MidLeftMidTireBone = Tire05
    MidRightMidTireBone = Tire06
    MidRightRearTireBone = Tire07
    MidLeftRearTireBone = Tire08
    RightRearTireBone = Tire09
    LeftRearTireBone = Tire10
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FieldGun
  Side                = Militia
  EditorSorting       = VEHICLE
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon = PRIMARY MilitiaFieldArtilleryGun
  End
  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = CombatBikeArmor ;We can't have the game crashing because this vehicle doesn't technically have a pilot.
    DamageFX   = TankDamageFX
  End
  BuildCost = 2500 ;2000
  BuildTime = 25.0 ;20.0 ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = MilitiaWarFactory
    Object = MilitiaResistanceHQ
   ;;Science = SCIENCE_150mmHowitzer
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = MobileBarracksVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
;---------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 180       ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;---------------------------------------------
  Locomotor = SET_NORMAL TroopTruckLocomotor
  Locomotor = SET_SLUGGISH GunLocomotorNone
;---------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_15
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = DestroyDie ModuleTag_100
  End
;============================================================================================================
  Behavior = RiderChangeContain ModuleTag_56
   Rider1 = RidersDummy RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GunCommandSet SET_SLUGGISH
   Rider2 = MilitiaVehicleConvoyTransport RIDER2 WEAPON_RIDER2 STATUS_RIDER2 TransportCommandSet SET_NORMAL
   ScuttleDelay          = 5000
   ScuttleStatus         = TOPPLED
   Slots                 = 1
   InitialPayload        = MilitiaVehicleConvoyTransport 1
   ScatterNearbyOnExit   = No
   HealthRegen%PerSec    = 0
   DamagePercentToUnits  = 100%
   BurnedDeathToUnits    = No
   AllowInsideKindOf     = VEHICLE TRANSPORT
   ExitDelay             = 250
   NumberOfExitPaths     = 1
   GoAggressiveOnExit    = Yes
  End
;-------------------------------------------------------------[?]
  Behavior = OCLSpecialPower ModuleTag_DitchRider01
    SpecialPowerTemplate = SpecialAbilityCombatBikeDitchRider
    OCL                  = OCL_DitchRider
  End
;=============================================================================================================
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 7.5
  GeometryHeight = 5.1
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object MilitiaVehicleConvoyTransport

  ; *** ART Parameters ***
  SelectPortrait = SPT_L
  ButtonImage    = SPT

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = MVTrans
    End
    ConditionState = REALLYDAMAGED
      Model = MVTrans_d
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    MidLeftRearTireBone = Tire03
    MidRightRearTireBone = Tire04
    LeftRearTireBone = Tire05
    RightRearTireBone = Tire06
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:ConvoyTruck1
  Side               = Militia
  EditorSorting      = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = NONE
    Weapon     = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 1200
  BuildTime = 25.0 ;10.0          ;in seconds
  VisionRange = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = MilitiaResistanceHQ ;;Object = MilitiaWarFactory
    ;;Science = SCIENCE_150mmHowitzer
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaVehicleTransportCommandSet ;MilitiaVehicleConvoyTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MobileBarracksVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;----------------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart = NoSound
    VoiceCreate      = HumveeVoiceCreate
    TurretMoveLoop   = TurretMoveLoop
    SoundEject       = PilotSoundEject
    VoiceEject       = PilotVoiceEject
    VoiceCrush       = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT SALVAGER WEAPON_SALVAGER
;----------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;---------------------------------------------
  Locomotor = SET_NORMAL TroopTruckLocomotor
;---------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialSupplyDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
;==============================================================
;  Behavior = TransportContain  ModuleTag_05
;    Slots                = 8
;    EnterSound           = GarrisonEnter
;    ExitSound            = GarrisonExit
;    DamagePercentToUnits = 100% ;10%
;    AllowInsideKindOf    = INFANTRY
;    ExitDelay            = 250
;    NumberOfExitPaths    = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ;ExitStart01-nn/ExitEnd01-nn
;    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
;  End
;---------------------------------------------------------------
  Behavior = TransportContain ModuleTag_MCTG ;_06
    Slots                = 10 ;8
    InitialPayload       = MilitiaInfantryRangerAOP 10 ;;[Boss_InfantryChinaSpecOps 8 ;ChinaInfantryHeavyGunner 8]*
    ScatterNearbyOnExit  = No
    HealthRegen%PerSec   = 10
    DamagePercentToUnits = 10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
;===============================================================

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object MilitiaVehicleMobileBarrack ;[MilitiaVehicleConvoyTransport]*

  ; *** ART Parameters ***
  SelectPortrait = SMSupplyTK_L ;SPT_L
  ButtonImage    = SMSupplyTK   ;SPT

  Draw = W3DTankTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = MVSupply
    End
    ConditionState = REALLYDAMAGED
      Model = MVSupply_d
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ;These parameters are only used if the model has a separate suspension,
    ;And the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MilitiaMobBarrack ;-[Â Ñáðîñå Àññàñèíà]
  Side                = Militia
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0
  ShroudClearingRange = 320.0
  WeaponSet
    Conditions = NONE
    Weapon     = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 1500
  BuildTime = 3.0 ;in seconds
  Prerequisites
    ;Object = MilitiaWarFactory
  End
  ExperienceValue    = 50 50 100 150 ;Experience point value at each level
  ExperienceRequired = 0 100 150 300 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = MilitiaVehicleMobBarrackCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MobileBarracksVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;-----------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart = NoSound
    VoiceCreate      = HumveeVoiceCreate
    TurretMoveLoop   = TurretMoveLoop
    SoundEject       = PilotSoundEject
    VoiceEject       = PilotVoiceEject
    VoiceCrush       = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_FACTORY FS_BARRACKS  SALVAGER WEAPON_SALVAGER;<===[ÊÎÄ îò Ìîáèëüíîãî Áàðàêà Àìåðîâ] ;[ÑÒÀÐÛÉ ÊÎÄ: KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT]*
;---------------------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹ Êèøêè îò AmericaVehicleMobileBarracks : ¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60  ;turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End
;---------------------------------------------------------------------
  Locomotor = SET_NORMAL MilitiaTankLocomotor ;[TroopTruckLocomotor]*
;---------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = OCLSpecialPower ModuleTag_22
    SpecialPowerTemplate = SuperweaponParadropHighAmerica
    OCL                  = SUPERWEAPON_AmericaHighParadrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End
  Behavior = ProductionUpdate ModuleTag_08
  End
  Behavior = HealContain ModuleTag_09
    ContainMax          = 5 ;way bigger than the # of objects we can have
    TimeForFullHeal     = 20000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_60
    UnitCreatePoint    = X: -19.053 Y: -0.044 Z: 3.401
    NaturalRallyPoint  = X: -24.172 Y: -0.044 Z: -0.011
  End
;--------------------------------------------------------
;----- Âèä Êðóøåíèÿ îò Àìåðñêîé Ìîáèëüíîé Êàçàðìû -----
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
;--------------------------------------------------------
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
;;;;;;;;(Ýòî áûëî âûïåëåíî åù¸ äî ìåíÿ): ;;;;;;;;;;;;;
;; This is commented out per hotlist request 10/9 ML
;;  Behavior = CreateObjectDie ModuleTag_15
;;    DeathTypes = ALL -CRUSHED -SPLATTED
;;    CreationList = OCL_AmericanRangerDebris01
;;    ExemptStatus = HIJACKED
;;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹¹

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.05

End

;------------------------------------------------------------------------------
Object MilitiaTankAvenger

  ; *** ART Parameters ***
  SelectPortrait = RocketAvenger ;SAAvnger_L
  ButtonImage    = RocketAvenger ;SAAvnger

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX03
    ExtraPublicBone = LazerSpot01
    ExtraPublicBone = LazerSpot02
    DefaultConditionState
      Model = AVAVNGER
    End
    ConditionState = REALLYDAMAGED
      Model = AVAVNGER_D
    End
    ConditionState = RUBBLE
      Model = AVAVNGER_D1
    End
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:MilitiaAvenger ;-[Â Ñáðîñå Àññàñèíà]
  Side          = Militia
  EditorSorting = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 150.0
  ShroudClearingRange = 300.0
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY   AvengerTargetDesignator
    Weapon = SECONDARY AvengerBuildingAirDummy
  End
  ArmorSet
    Conditions = None
    Armor      = AntiAirVehicle
    DamageFX   = TankDamageFX
  End
  BuildCost = 0   ;;1400 ;1000
  BuildTime = 0.0 ;12.0          ;in seconds    
  Prerequisites
    ;Object = MilitiaWarFactory
    ;Object = MilitiaResistanceHQ
    ;;Science = SCIENCE_Rank2
  End
  ExperienceValue    = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level

  IsTrainable = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet ;;MilitiaTankAvengerCommandSet
    
  ; *** AUDIO Parameters ***
  VoiceSelect = AvengerVoiceSelect
  VoiceMove = AvengerVoiceMove
  VoiceGuard = AvengerVoiceMove
  VoiceAttack = AvengerVoicePaint
  VoiceAttackAir = AvengerVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
 ;----------------------
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = AvengerVoiceCreate
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = AvengerVoiceMove
  End

    ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE SALVAGER WEAPON_SALVAGER
;------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
;    ModifierBonusPerOverkillPercent = 30%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End
;=========================================================
  Locomotor = SET_NORMAL CrusaderLocomotor
;---------------------------------------------------------
  Locomotor = SET_NORMAL_UPGRADED HumveeLocomotorUpgraded
;---------------------------------------------------------
  Behavior = LocomotorSetUpgrade ModuleTag_1339
    TriggeredBy = Upgrade_AmericaOverhaul
  End
;=========================================================
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_AvengerTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion 
  End
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AvengerPointDefenseLaserOne
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End
 ;=======================================================================================================
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = Lazr_AmericaTankAvengerRocketTurret ;<================[¹¹¹¹¹ ÂÅÀÏÎÍ ¹¹¹¹¹]
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
 ;=======================================================================================================
  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_17
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy  = Upgrade_AmericaCompositeArmor
    AddMaxHealth = 100.0
    ChangeType   = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
  Behavior = VeterancyGainCreate ModuleTag_24
    StartingLevel = VETERAN
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;=====================================================================================
Object MilitiaGLAVehicleFighterPlane  ;[2017-PROJECT RAPTOR 9.1];;[2010-TheRampage@]*

  SelectPortrait = T6_L
  ButtonImage = T6

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVFitrPln
      Animation           = UVFitrPln.UVFitrPln
      AnimationMode       = LOOP
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponMuzzleFlash = PRIMARY TurretFX
      ParticleSysBone = SMOKE01 JetBlackTrailThin
      ParticleSysBone = SMOKE02 JetBlackTrailThin
      ParticleSysBone = SMOKE01 JetContrailThin
      ParticleSysBone = SMOKE02 JetContrailThin
    End

    ConditionState = REALLYDAMAGED
      Model = UVFitrPln_D
      Animation           = UVFitrPln_D.UVFitrPln_D
      AnimationMode       = LOOP
      ParticleSysBone = SMOKE01 JetBlackTrailThin
      ParticleSysBone = SMOKE02 JetBlackTrailThin
      ParticleSysBone = SMOKE01 JetContrailThin
      ParticleSysBone = SMOKE02 JetContrailThin
    End

    ConditionState = RUBBLE
      Model = UVFitrPln_D
    End
  End

  DisplayName         = OBJECT:Fighter
  EditorSorting       = VEHICLE
  Side                = Militia
  TransportSlotCount  = 0
  VisionRange         = 200.0
  ShroudClearingRange = 300
  WeaponSet
    Conditions = None
    Weapon = PRIMARY FighterPlaneGun ;(Áú¸ò òîêà ïî âîçäóõó)
  End
  ArmorSet
    Conditions = None
    Armor = AirplaneArmor
    DamageFX = None
  End
  BuildCost = 2000
  BuildTime = 25.0
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 1 ;[2]*  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet


  ; *** AUDIO Parameters *** ;¹¹¹¹¹¹¹[ÎÇÂÓ×ÊÀ ÑÒÀÐÎÃÎ ÑÏÈÑÀÍÎÃÎ ÄåòðîéÒîì ÈÑÒÐÅÁÈÒÅËß Êàññàäà]¹¹¹¹¹¹¹¹¹
  VoiceSelect            = SaboteurVoiceSelect
  VoiceMove              = SaboteurVoiceMove
  VoiceAttack            = SaboteurVoiceAttack
  VoiceGuard             = SaboteurVoiceSelect
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound

  UnitSpecificSounds
    VoiceCreate          = SaboteurVoiceCreate
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 180.0
    InitialHealth = 180.0
  End
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetDeathInitial
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = None
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_A10DeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
  ; note that it's expressed as a percent of max health, not an absolute
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL FighterPlaneLocomotor ;(Speed = 120 ;130)
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = WeaponBonusUpgrade ModuleTag_12
;    TriggeredBy = Upgrade_GLAAPBullets
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000
    AflameDamageAmount = 3
    AflameDamageDelay = 500
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;-----------------------------------------------------------------------------------
Object MilitiaJetAirplaneAC-1 ;[Íà îñíîâå: GLACuclidePlane + AirF_AmericaJetAC-130]

  ; *** ART Parameters ***
  SelectPortrait = SUTerrorRockt
  ButtonImage    = SUTerrorRockt

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes 

    ConditionState = NONE
      Model = UVL29
      HideSubObject = BurnerFX03
    End
    ConditionState = REALLYDAMAGED
      Model = UVL29_D
      HideSubObject = BurnerFX03
    End
    ConditionState        = RUBBLE
      Model               = UVL29_D
      HideSubObject       = None 
      ShowSubObject       = None
    End
    ConditionState = JETEXHAUST
      Model = UVL29
      HideSubObject = BurnerFX03
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = ENGINE01 MissileExhaust
    End
    ConditionState = JETEXHAUST REALLYDAMAGED
      Model = UVL29_D
      HideSubObject = BurnerFX03
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = ENGINE01 MissileExhaust
    End
    ConditionState  = JETEXHAUST JETAFTERBURNER
      Model = UVL29
      ParticleSysBone     = WingTip01 JetContrailThin
      ParticleSysBone     = WingTip02 JetContrailThin
      ParticleSysBone     = Engine01 JetLenzflare
      ShowSubObject       = BurnerFX03
    End
    ConditionState  = JETEXHAUST JETAFTERBURNER REALLYDAMAGED
      Model = UVL29_D
      ParticleSysBone     = WingTip01 JetContrailThin
      ParticleSysBone     = WingTip02 JetContrailThin
      ParticleSysBone     = Engine01 JetLenzflare
      ShowSubObject       = BurnerFX03
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:JetAirplaneAC-1
  EditorSorting = VEHICLE
  Side          = Militia
  TransportSlotCount = 0
  VisionRange = 200.0
  ShroudClearingRange = 300
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY MilitiaJetAC1CannonWeapon ;[Íà îñíîâåí: AirF_AC130CannonWeapon]
  End
  ArmorSet
    Conditions = None
    Armor = AirplaneArmor
    DamageFX = None
  End
  Prerequisites
    Object = MilitiaAirfield
    ;;Object = MilitiaResistanceHQ
  End
  BuildCost = 1600 ;1800 ;2000 ;[Â PR 9.1.7: 1000]*
  BuildTime = 25.0 ;[Â PR 9.1.7: 15.0]* ;10.0
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable  = Yes                  ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericCommandSet


    ; *** AUDIO Parameters ***
  VoiceSelect           = BalloonVoiceSelect
  VoiceMove             = BalloonVoiceMove
  VoiceGuard            = BalloonVoiceMove
  VoiceAttack           = BalloonVoiceAttack
  SoundAmbient          = RaptorAmbientLoop
  SoundEnter            = HumveeEnter
  SoundExit             = HumveeExit
  UnitSpecificSounds ;(These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs)
    VoiceCreate         = BalloonVoiceCreate
    Afterburner         = RaptorAfterburner
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER
;----------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02 ;_03
    MaxHealth       = 300.0 ;[Â PR 9.1.7: 600.0]* ;;180.0
    InitialHealth   = 300.0 ;[Â PR 9.1.7: 600.0]* ;;180.0
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = PhysicsBehavior ModuleTag_03 ;_04
    Mass = 500.0
  End
  Behavior = JetAIUpdate ModuleTag_05 ;_09
    OutOfAmmoDamagePerSecond = 0%
    TakeoffDistForMaxLift    = 0%
    TakeoffPause             = 500
    MinHeight                = 5
    ReturnToBaseIdleTime     = 10000 ;[100]* ;<=============¹¹¹¹¹¹¹[Âðåìÿ ñâîáîäíîãî ïîë¸òà äî âîçâðàùåíèÿ íà Áàçó]¹¹¹¹¹¹¹¹¹¹¹¹¹
    AutoAcquireEnemiesWhenIdle = Yes ;<=====================¹¹¹¹¹¹¹[Àâòîìîáèëü ïðèîáðåòàåò âðàãîâ êîãäà íåðàáîòàþùèé = äà]¹¹¹¹¹¹
    KeepsParkingSpaceWhenAirborne = Yes ;No* ;<=============¹¹¹¹¹¹¹[Ñîõðàíÿåò ìåñòî äëÿ ñòîÿíêè êîãäà â âîçäóõå = Äà ;Íåò]¹¹¹¹¹¹
    MoodAttackCheckRate = 100
  End
;================================================================================================
  Locomotor = SET_NORMAL  MilitiaAirplaneAC-1JetLocomotor ;[Íà îñíîâå: AirF_AC-130JetLocomotor]*
  Locomotor = SET_TAXIING AirF_AC-130BasicJetTaxiLocomotor
;================================================================================================
;---------------[ Âèä êðóøåíèÿ ñàìîë¸òà ]-----------------------------------
  Behavior = JetSlowDeathBehavior ModuleTag_06
    FXOnGroundDeath                = FX_JetOnGroundDeath
    OCLOnGroundDeath               = OCL_RaptorDeathFinalBlowUp
    DestructionDelay               = 99999999; destruction will happen when we
    RollRate                       = 0.2
    RollRateDelta                  = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                      = 0.0
    FallHowFast                    = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                 = FX_RaptorDeathInitial
    OCLInitialDeath                = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath = 500  ; in milliseconds
    FXSecondary                    = FX_JetDeathSecondary
    OCLSecondary                   = OCL_RaptorDeathSecondary
    FXHitGround                    = FX_JetDeathHitGround
    OCLHitGround                   = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround  = 200 ; in milliseconds
    FXFinalBlowUp                  = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                 = OCL_WingedMissileDeathEffectSimple ;<==========[ÇÀÌÅÍÀ]
;   DeathLoopSound                 = MICAL NEEDS TO MAKE ME
  End
  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
;===============================================================================
  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 6.0
  Scale = 1.2
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object MilitiaVehicleSpyDrone ;GLAVehicleSpyDrone

  ; *** ART Parameters ***
  SelectPortrait         = GLAScout
  ButtonImage            = GLAScout
    
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVSDron
      Animation                       = UVSDron.UVSDron
      AnimationMode                   = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = UVSDron_d
      Animation                       = UVSDron_d.UVSDron_d
      AnimationMode                   = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:GLAVehicleSpyDrone
  EditorSorting       = VEHICLE
  Side                = Militia ;GLA
  TransportSlotCount  = 0      ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0 
  ShroudClearingRange = 600 ;[500]*
  ArmorSet
    Conditions = None
    Armor      = AttackDroneArmor
    DamageFX   = None
  End
  Prerequisites
    Object = MilitiaAirfield
    Object = MilitiaResistanceHQ
  End
  BuildCost = 2000 ;[300]*
  BuildTime = 25.0 ;[5.0]*  ;in seconds
 ;---------------------------
  MaxSimultaneousOfType = 2
 ;---------------------------
  EnergyProduction = -2
 ;---------------------------
  ExperienceValue    = 35 35 35 35     ; Experience point value at each level
  ExperienceRequired = 500 500 500 500 ; Experience points needed to gain each level
  IsTrainable        = Yes             ; Can gain experience
  CommandSet = DroneGLACommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = HellfireDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED HARVESTER
;[HARVESTER - ïåðåâîä:"Êîìáàéí,óáîðî÷íàÿ ìàøèíà"-êîä äëÿ îòäåëåíèÿ þíèòà îò áîåâûõ þíèòîâ.
;Åñëè íàæàòü Q è W - òî âûäåëÿòñÿ âñå áîåâûå þíèòû íà êàðòà êðîìå òåõ ó êîãî èìååòñÿ êîä HARVESTER]

  Body = ActiveBody ModuleTag_04
    MaxHealth     = 150.0
    InitialHealth = 150.0
  End
  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY 
    End
  End

  Locomotor = SET_PANIC SpectreSpyDroneLocomotor
  Locomotor = SET_NORMAL SpectreSpyDroneOrbitLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList = OCL_AmericaBattleDroneExplode
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  Behavior = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 80.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End
  Behavior = AutoHealBehavior ModuleTag_1200
    HealingAmount = 2
    HealingDelay  = 1000 ; msec
    TriggeredBy   = Upgrade_GLAJunkRepair
  End
;-----------------------------------------------------------------------
;  Behavior = StealthDetectorUpdate ModuleTag_0400
;    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
;    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;  End
;-----------------------------------------------------------------------
;  Behavior = GrantUpgradeCreate ModuleTag_1000
;    UpgradeToGrant = Upgrade_GLACamouflage
;  End
;-----------------------------------------------------------------------
  Behavior = StealthUpdate ModuleTag_0700
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = USING_ABILITY TAKING_DAMAGE
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes ;doesnt Require upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
;-----------------------------------------------------------------------

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Scale = 1.05
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

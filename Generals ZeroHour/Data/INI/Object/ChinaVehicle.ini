;------------------------------------------------------------------------------
Object ChinaVehicleHackTruck

  ; *** ART Parameters ***
  SelectPortrait = HackTrck_L
  ButtonImage    = HackTrck

  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVHackrTrck
      Animation = NVHackrTrck.NVHackrTrck
      AnimationMode = LOOP
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState  = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
  ; @todo find out why a non-animating model like this has such trouble matching
  ; reallydamaged against moving against rubble, etc.
      Model = NVHackrTrck_D
      Animation     = NVHackrTrck_D.NVHackrTrck_D
      AnimationMode = LOOP
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    LeftRearTireBone      = TIRE07
    RightRearTireBone     = TIRE08
    MidLeftFrontTireBone  = TIRE03
    MidRightFrontTireBone = TIRE04
    MidLeftRearTireBone   = TIRE05
    MidRightRearTireBone  = TIRE06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:HackerTruck
  Side            = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 0 ;Запрещена перевозка в транспорте и запрещён въезд в Туннели. ;[Было: 10]
  ArmorSet
    Conditions = None
    Armor      = HackerTruckArmor ;AssaultCrawlerArmor
    DamageFX   = TankDamageFX
  End
 ;-------------------------------------------
  BuildCost = 4500 ;[в PR9.1.18 было: 5000]*
  BuildTime = 35.0 ;in seconds
 ;-------------------------------------------
  VisionRange = 175.0 ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 300
  Prerequisites
    Object = ChinaPropagandaCenter
  End
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaHackCommandSet
 ;---------------------------
  MaxSimultaneousOfType = 2
 ;---------------------------

 ; *** AUDIO Parameters ***
  VoiceSelect = HackerVanVoiceSelect
  VoiceMove = HackerVanVoiceMove
  VoiceGuard = HackerVanVoiceMove
  SoundMoveStart = ChinaHackVanMoveStart
  SoundMoveStartDamaged = ChinaHackVanMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
 ;---------------------------------
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
 ;---------------------------------
 UnitSpecificSounds
  VoiceCreate = HackerVanVoiceCreate
  VoiceEnter= HackerVanVoiceMove
 End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE HARVESTER
;;;[HARVESTER - перевод:"Комбайн, уборочная машина" - Код для отделения юнита от боевых юнитов(если нажать Q - то выделятся все боевые юниты на карта кроме тех у кого имеется код HARVESTER)]
 ;-----------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 800.0
    InitialHealth   = 800.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 70
  End
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End
  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End
  Behavior = StealthUpdate ModuleTag_04
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = MOVING RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Locomotor = SET_NORMAL TroopCrawlerLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
;======================================================================================================================================
  Behavior = AutoDepositUpdate ModuleTag_06 ;[ЗАМЕНА]
    DepositTiming       = 2500 ;[Скорость выкачивания денег хакерами сидящими на земле(ВРЕМЯ КАЧИ: 1000 = 1 секунда)] ;2000 ;in milliseconds
    DepositAmount       = 180  ;[СУММА ДЕНЕГ КАЧИ] ;250 ;cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0                             ;no initial bonus
    ActualMoney = Yes
  End
;---------------------------------------------------------------------------------------------------------------
;  Behavior = InternetHackContain ModuleTag_06 ;[БЫЛО] ; Contain module that gives aiHackInternet command to passengers
;    PassengersAllowedToFire = No
;    Slots                 = 6
;    InitialPayload        = ChinaInfantryHacker2 6
;    ScatterNearbyOnExit   = No
;    HealthRegen%PerSec    = 10
;    DamagePercentToUnits  = 100%
;    AllowInsideKindOf     = MONEY_HACKER
;    ExitDelay         = 500
;    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
;    GoAggressiveOnExit = No ; AI Will tell people to set their mood to Aggressive on exiting
;  End
;======================================================================================================================================
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalHackrTrckDebris
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End
  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 8.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------------------------------------
Object ChinaVehicleMobileBarracks

  ; *** ART Parameters ***
  SelectPortrait         = SNMBarracks_L
  ButtonImage            = SNMBarracks

  Draw                   = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = NVBAR
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeLight
      ParticleSysBone   = EXHAUST02 DozerSmokeLight
    End

    ConditionState       = MOVING
      Model              = NVBAR
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = NVBAR_D
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    CabRotationMultiplier = 1.5

    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileBarracks
  Side               = China
  EditorSorting      = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0
  ShroudClearingRange = 320.0
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
 ;--------------------------------------
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
  End
 ;--------------------------------------
  BuildCost = 1500 ;[1000]*
  BuildTime = 20.0 ;[10.0]* ;in seconds
 ;--------------------------------------
  MaxSimultaneousOfType = 1
  IsTrainable = No
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaMobileBarracksCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = POWTruckChinaVoiceSelect
  VoiceMove = POWTruckChinaVoiceMove
  VoiceGuard = POWTruckChinaVoiceMove
  SoundEnter = POWTruckEnter
  SoundExit = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = POWTruckChinaVoiceCreate
    TurretMoveLoop       = TurretMoveLoop
    SoundMoveStart       = POWTruckChinaMoveStart
    SoundMoveStartDamaged = POWTruckChinaMoveStart
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    VoiceCrush           = POWTruckChinaVoiceCrush
    ; Required for the W3DTruckDraw module
    TruckLandingSound    = RocketBuggyLand
    TruckPowerslideSound = POWTruckChinaMoveStart
    VoiceEnter           = POWTruckChinaVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_FACTORY FS_BARRACKS
 ;-----------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  ExperienceValue = 20 20 20 20  ; Experience point value at each level
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 100
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL POWTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_22
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy = Upgrade_ChinaOmegaBattleDrone
  End
  Behavior = ProductionUpdate ModuleTag_24
  End
  Behavior = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL = OCL_AmericaBattleMines
  End
  Behavior = ProductionUpdate ModuleTag_08
  End
  Behavior = HealContain ModuleTag_09
    ContainMax          = 5 ;way bigger than the # of objects we can have
    TimeForFullHeal     = 20000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End
;=========================================================== ????????
  Behavior = ProductionUpdate ModuleTag_10
    QuantityModifier = ChinaInfantryRedguard   2
  End
;===========================================================
  Behavior = DefaultProductionExitUpdate ModuleTag_60
    UnitCreatePoint    = X: -24.79 Y: 0.109 Z: -0.03
    NaturalRallyPoint  = X: -35.306 Y: 0.109 Z: -0.03
  End
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialMBDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 8.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object ChinaVehicleTroopCrawler

  ; *** ART Parameters ***
  SelectPortrait = SNTransport_L
  ButtonImage    = SNTransport_L
  
  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
  ;UpgradeCameo2 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVTCrawler
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE' 
  ; @todo find out why a non-animating model like this has such trouble matching
  ; reallydamaged against moving against rubble, etc.
      Model = NVTCrawler_D
    End
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06
    TireRotationMultiplier     = 0.2 ; this * speed = rotation.
    PowerslideRotationAddition = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TroopCrawler
  Side = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TroopCrawlerAssault
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
 ;----------------------------------------------------------------------
  BuildCost = 1400 ;[PR9.1.6: 1500]* ;[PR9.1.1: 1600]* ;[PR9.0: 1400]**
  BuildTime = 15.0 ;[в 9.1.19+Fix2 было: 14.0] ;[PR9.1.1: 16.0]* ;[PR9.0: 12.0]**  ;in seconds
 ;----------------------------------------------------------------------
  VisionRange = 175.0 ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400.0
  Prerequisites
    Object = ChinaWarFactory
  End
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Tank_ChinaTroopCrawlerCommandSet ;ChinaTroopCrawlerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE
;-----------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;-------------------------------------------[Впил-тэст]№№№№№№№№№№№№№№№№№№№№№№№№№№№№№
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;-------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_03
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange           = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    PingSound                 = IRPing
    LoudPingSound             = IRPingLoud
    IRParticleSysName         = IRDetectSonar
    IRBrightParticleSysName   = IRDetectSonarBright
    IRGridParticleSysName     = IRDetectGrid
    IRBeaconParticleSysName   = IRLenzflare
    IRParticleSysBone         = IRFX
  End
  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
    MembersGetHealedAtLifeRatio = 0.5
  End
;----------------------------------------------------------------------
  Locomotor = SET_NORMAL TroopCrawlerLocomotor ;По воде значт не ходит
;----------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
;=================================================================================
  Behavior = TransportContain ModuleTag_06
    Slots                = 8 ;10
    InitialPayload       = ChinaInfantryRedguard 8 ;10 ;;ChinaInfantryHeavyGunner 8
    ScatterNearbyOnExit  = No
    HealthRegen%PerSec   = 10
    DamagePercentToUnits = 10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
;=================================================================================
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End
  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = OCLSpecialPower ModuleTag_Laymines021
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
;--------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End
;--------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End
;  Behavior = ObjectCreationUpgrade ModuleTag_124
;    UpgradeObject = OCL_ChinaOmegaBattleDrone
;    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
;  End

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object ChinaVehicleBTR ;Boss_VehicleBTR ;Tank_ChinaVehicleTroopCrawler

  ; *** ART Parameters ***
  SelectPortrait = trooptank ;SNTCrwlrTG_L
  ButtonImage    = trooptank ;SNTCrwlrTG

  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVTCrawlerTG
      ParticleSysBone    = EXHAUST01 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = NVTCrawlerTG_D
      ParticleSysBone    = EXHAUST01 DozerSmokeLight
    End

    ConditionState = MOVING
      Model = NVTCrawlerTG
      ParticleSysBone    = EXHAUST01 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED RUBBLE
      Model              = NVTCrawlerTG_D
      ParticleSysBone    = EXHAUST01 DozerSmokeHeavy
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  Draw = W3DModelDraw ModuleMod_OverWater
    DefaultConditionState
      Model = NVTCrawler_W
    End
    AliasConditionState  = MOVING
    ConditionState       = OVER_WATER
      ParticleSysBone    = TreadFX05 AmphibWaveRest
      ParticleSysBone    = TreadFX06 AmphibWaveRest
    End
    ConditionState       = OVER_WATER MOVING
      ParticleSysBone    = TreadFX05 AmphibWave
      ParticleSysBone    = TreadFX06 AmphibWave
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ChinaSpecOpsTroopCrawler ;OBJECT:AssaultTroopTransport
  Side             = China ;Boss ;ChinaTankGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TroopCrawlerAssault
  End
  ArmorSet
    Conditions = None
    Armor      = troopsTankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 2200 ;[в 9.1.19+Fix2 было: 2000] ;[PR9.1.1: 2800]*
  BuildTime = 20.0 ;[в 9.1.19+Fix2 было: 18.0] ;[PR9.1.1: 25.0]* ;in seconds
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
    Science = SCIENCE_Rank3
  End
  VisionRange = 175.0
  ShroudClearingRange = 400.0
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = Tank_ChinaTroopCrawlerCommandSet ;ChinaTroopCrawlerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TG_TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart        = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;TroopCrawlerMoveStart]* ;<=== Озвучка движка
  SoundMoveStartDamaged = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;TroopCrawlerMoveStart]* ;<=== Озвучка движка
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE
;-----------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End
  Behavior = StealthDetectorUpdate ModuleTag_03
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange           = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    PingSound                 = IRPing
    LoudPingSound             = IRPingLoud
    IRParticleSysName         = IRDetectSonar
    IRBrightParticleSysName   = IRDetectSonarBright
    IRGridParticleSysName     = IRDetectGrid
    IRBeaconParticleSysName   = IRLenzflare
    IRParticleSysBone         = IRFX
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = TransportAIUpdate ModuleTag_CorrectAI
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;=====================================================
  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
    MembersGetHealedAtLifeRatio = 0.5
  End
;=====================================================
;-----------------------------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL TroopCrawlerLocomotorTG TroopCrawlerWaterLocomotorTG ;А вот эти ребятки уже терь ходят по воде
;-----------------------------------------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerTGDebris
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End
  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
;--------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End
;--------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;========================================================================================================
  Behavior = TransportContain ModuleTag_CCSO ;_06
    Slots                = 8
    InitialPayload       = ChinaInfantryHeavyGunner 8
    ScatterNearbyOnExit  = No
    HealthRegen%PerSec   = 10
    DamagePercentToUnits = 10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End
;=========================================================================================================

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleTeroctCrawGattlingCannon

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = NVTeroctCraw_G
      Turret              = TURRET01
 ;     TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState        = USING_WEAPON_B
      Model               = NVTeroctCraw_G
      Turret              = TURRET01
;      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = NVTeroctCraw_G
      Animation           = NVTeroctCraw_G.NVTeroctCraw_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = NVTeroctCraw_G
      Animation           = NVTeroctCraw_G.NVTeroctCraw_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = NVTeroctCraw_G
      Animation           = NVTeroctCraw_G.NVTeroctCraw_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
    End

    ConditionState        = REALLYDAMAGED 
      Model               = NVTeroctCraw_GD
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = USING_WEAPON_B REALLYDAMAGED
      Model               = NVTeroctCraw_GD
      Turret              = TURRET01
      TurretPitch         = TURRETEL
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
      Model               = NVTeroctCraw_GD
      Animation           = NVTeroctCraw_GD.NVTeroctCraw_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.1 0.1 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED 
      Model               = NVTeroctCraw_GD
      Animation           = NVTeroctCraw_GD.NVTeroctCraw_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.2 0.2 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED 
      Model               = NVTeroctCraw_GD
      Animation           = NVTeroctCraw_GD.NVTeroctCraw_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 0.3 0.3 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY AFGattlingBuildingGunAir
    PreferredAgainst    = PRIMARY BALLISTIC_MISSILE AIRCRAFT
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 60   ;Turn rate, in degrees per sec
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = WeaponBonusUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaChainGuns
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object ChinaVehicleLandRaider

  SelectPortrait         = SNRaider_L
  ButtonImage            = SNRaider

  UpgradeCameo1 = Upgrade_ChinaRaiderCannon
  UpgradeCameo2 = Upgrade_ChinaRaiderArt
  UpgradeCameo3 = Upgrade_ChinaOmegaBattleDrone

  ; *** ART Parameters ***
  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState = NONE
      Model = NVRaiderVar1
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End
    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching                                                ; reallydamaged against moving against rubble, etc.
      Model               = NVRaiderVar1_D
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End
    ConditionState = MOVING
      Model = NVRaiderVar1
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End
    ConditionState       = MOVING REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
                                                ; @todo find out why a non-animating model like this has such trouble matching                                                ; reallydamaged against moving against rubble, etc.
      Model               = NVRaiderVar1_D
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 MUZZLEFX01
    End

    ConditionState = USER_1
      Model = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_SLOW
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
     End
     ConditionState       = USER_1 CONTINUOUS_FIRE_MEAN
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 4.0 4.0 ;set this state to animate  medium-fast
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_FAST
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1.NVRaiderVar1
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_SLOW REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
     ConditionState       = USER_1 CONTINUOUS_FIRE_MEAN REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      AnimationMode       = LOOP
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState        = USER_1 CONTINUOUS_FIRE_FAST REALLYDAMAGED
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      Animation           = NVRaiderVar1_D.NVRaiderVar1_D
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
    End
    ConditionState = USER_1 MOVING
      Model               = NVRaiderVar1
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      HideSubObject       = TURRET01 Barrel01 BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    ConditionState = USER_1 REALLYDAMAGED RUBBLE MOVING
      Model               = NVRaiderVar1_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      HideSubObject       = BarrelAlt01 TURRETUP01 BarrelUP01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRET01 Barrel01 MUZZLEFX01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = NVRaiderVar1
      Turret              = TURRETUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE
      Model = NVRaiderVar1_D
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      ParticleSysBone     = EXHAUST01 DozerSmokeLight
      ParticleSysBone     = EXHAUST02 DozerSmokeLight
      ParticleSysBone     = EXHAUST03 DozerSmokeLight
      ParticleSysBone     = EXHAUST04 DozerSmokeLight
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
      HideSubObject       = TURRET01 Barrel01 MUZZLEFX01 BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
      Model               = NVRaiderVar1
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED RUBBLE MOVING
      Model               = NVRaiderVar1_D
      Turret              = TurretUP01
      WeaponFireFXBone    = SECONDARY MUZZLEUP01
      WeaponLaunchBone    = SECONDARY MuzzleUP01
      HideSubObject       = BarrelAltUP01 TURRETUP02 BarrelUP02 TURRETEL01 TURRET01 Barrel01 MUZZLEFX01
      ShowSubObject       = TURRETUP01 BarrelUP01 BarrelAlt01
      ParticleSysBone     = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST02 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST03 DozerSmokeHeavy
      ParticleSysBone     = EXHAUST04 DozerSmokeHeavy
    End
    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel02
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel04

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:LandRaider
  Side = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions        = NONE
    Weapon            = PRIMARY None
    Weapon            = SECONDARY RaiderGattlingGun
    PreferredAgainst  = SECONDARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY None
    Weapon            = SECONDARY RaiderArtGun
    PreferredAgainst  = SECONDARY INFANTRY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800 ;600 ;450
  BuildTime       = 10.0 ;5.0          ;in seconds
  VisionRange     = 175.0           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = ChinaWarFactory
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleRaiderDefaultCommandSet4

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 250.0
    InitialHealth   = 250.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL RaiderLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_22
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade01
    TriggeredBy = Upgrade_ChinaRaiderArt
  End

  Behavior = ModelConditionUpgrade ModuleTag_18
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ChinaRaiderCannon
  End

  Behavior = ProductionUpdate ModuleTag_96
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = CommandSetUpgrade ModuleTag_97
    CommandSet = ChinaVehicleRaiderCannonCommandSet
    TriggeredBy   = Upgrade_ChinaRaiderCannon
    ConflictsWith = Upgrade_ChinaRaiderArt
  End
  Behavior = CommandSetUpgrade ModuleTag_99
    CommandSet = ChinaVehicleRaiderArtyCommandSet
    TriggeredBy   = Upgrade_ChinaRaiderArt
    ConflictsWith = Upgrade_ChinaRaiderCannon Upgrade_ChinaRaiderMissiles
  End
  Behavior = TransportContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 4
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = INFANTRY
;    ArmedRidersUpgradeMyWeaponSet = Yes
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 12.5
  GeometryMinorRadius = 10.0
  GeometryHeight = 5.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleRaiderCannon

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  ;UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo1 = Upgrade_ChinaUraniumShells
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  UpgradeCameo5 = Upgrade_ChinaOverlordGattlingCannon


  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = NVRaider_G
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = NVRaider_G
      Animation           = NVRaider_G.NVRaider_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = NVRaider_G
      Animation           = NVRaider_G.NVRaider_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 4.0 4.0 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = NVRaider_G
      Animation           = NVRaider_G.NVRaider_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
    End

    ConditionState        = REALLYDAMAGED
      Model               = NVRaider_GD
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      ParticleSysBone     = Smoke01 SmokeFactionMedium
      ParticleSysBone     = Smoke02 SmokeFactionMedium
      ParticleSysBone     = Smoke03 SmokeFactionMedium
      ParticleSysBone     = SparkM01 SparksMedium
      ParticleSysBone     = SparkM02 SparksMedium
    End
    ConditionState        = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
      Model               = NVRaider_GD
      Animation           = NVRaider_GD.NVRaider_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0 ;set this state to animate  s l o w l y
    End
     ConditionState       = CONTINUOUS_FIRE_MEAN REALLYDAMAGED
      Model               = NVRaider_GD
      Animation           = NVRaider_GD.NVRaider_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 4.0 4.0 ;set this state to animate  medium-fast
    End
    ConditionState        = CONTINUOUS_FIRE_FAST REALLYDAMAGED
      Model               = NVRaider_GD
      Animation           = NVRaider_GD.NVRaider_GD
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 8.0 8.0 ;set this state to animate  vryfst
      ParticleSysBone    = Muzzle01 GattlingMuzzleSmoke
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY   GattlingTankGun
  End
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180  ; turn rate, in degrees per sec
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = WeaponBonusUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaChainGuns
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleRaiderMissile

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  ;UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo1 = Upgrade_ChinaUraniumShells
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  UpgradeCameo5 = Upgrade_ChinaOverlordGattlingCannon


  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = NVRaider_M
      Turret              = Turret01
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
    End

    ConditionState        = REALLYDAMAGED
      Model               = NVRaider_MD
      Turret              = Turret01
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY   RaiderMissile
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 120   ; turn rate, in degrees per sec
      TurretPitchRate     = 120
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

;  Behavior = WeaponBonusUpgrade ModuleTag_05
;    TriggeredBy = Upgrade_ChinaChainGuns
;  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleRaiderArt

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  ;UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo1 = Upgrade_ChinaUraniumShells
  UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  UpgradeCameo5 = Upgrade_ChinaOverlordGattlingCannon


  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = NVRaider_A
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
    End

    ConditionState        = REALLYDAMAGED
      Model               = NVRaider_AD
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
    End

  End

  ; ***DESIGN parameters ***
  Side             = China
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY   RaiderArtGun
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 60   ; turn rate, in degrees per sec
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

;  Behavior = WeaponBonusUpgrade ModuleTag_05
;    TriggeredBy = Upgrade_ChinaChainGuns
;  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleMT-LB

  ; *** ART Parameters ***
  SelectPortrait         = MT-LB
  ButtonImage            = MT-LB

;  UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

;    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    ConditionState = NONE
      Model               = NVMT-LB
      Turret              = TURRET01
      TurretPitch         = TURRETEL
;      HideSubObject       = TURRETELUP
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponA
      WeaponMuzzleFlash   = SECONDARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponA
      ;note, the IRSonar particle system is added in StealthDetectorUpdate.cpp, not here
    End

    ConditionState       = REALLYDAMAGED RUBBLE ; THIS IS VERY IMPORTANT... DO NOT REMOVE 'RUBBLE'
   ; @todo find out why a non-animating model like this has such trouble matching ; reallydamaged against moving against rubble, etc.
      Model               = NVMT-LB_D
      Turret              = TURRET01
      TurretPitch         = TURRETEL
;      HideSubObject       = TURRETELUP
      WeaponFireFXBone    = PRIMARY WeaponA
      WeaponMuzzleFlash   = PRIMARY WeaponA
      WeaponLaunchBone    = PRIMARY WeaponA
      WeaponFireFXBone    = SECONDARY WeaponA
      WeaponMuzzleFlash   = SECONDARY WeaponA
      WeaponLaunchBone    = SECONDARY WeaponA
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:MT-LB
  Side = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  WeaponSet
    Conditions = None
    Weapon = PRIMARY MT-LBMissile
  End
;  WeaponSet
;    Conditions = PLAYER_UPGRADE
;    Weapon = PRIMARY MT-LBMissile2
;  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1400
  BuildTime       = 15.0          ;in seconds
  VisionRange     = 175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 400
  Prerequisites
    Object = ChinaWarFactory
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicelMT-LBCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = StealthDetectorUpdate ModuleTag_03
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange           = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_50
    Turret
      TurretTurnRate        = 180   ; turn rate, in degrees per sec
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      GroundUnitPitch       = 0
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL MT-LBLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

;  Behavior = AssistedTargetingUpdate ModuleTag_99
;    AssistingClipSize = 4                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
;    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
;    LaserFromAssisted = PatriotBinaryDataStream ; Stream to draw from the requestor to me
;    LaserToTarget = PatriotBinaryDataStream     ; Stream to draw from me to the target
;  End

  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 16.0
  GeometryHeight = 5.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object ChinaVehicleInfernoCannon

  ; *** ART Parameters ***
  SelectPortrait = SNInferno_L
  ButtonImage    = SNInferno
  
  UpgradeCameo1 = Upgrade_ChinaBlackNapalm
  UpgradeCameo2 = Upgrade_ChinaOmegaBattleDrone
  
  Draw = W3DTankDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = NVInferno
      Turret            = Turret
      TurretPitch       = TurretEL
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponRecoilBone  = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone  = PRIMARY Muzzle
    End
    ConditionState = RUBBLE REALLYDAMAGED
      Model = NVInferno_D
      Turret            = Turret
      TurretPitch       = TurretEL
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponRecoilBone  = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone  = PRIMARY Muzzle
    End
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:InfernoCannon
  Side               = China
  EditorSorting      = VEHICLE
  TransportSlotCount = 3 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 180.0
  ShroudClearingRange = 300.0
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY InfernoCannonGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon     = PRIMARY InfernoCannonGunUpgraded
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
  End
  BuildCost = 1300 ;1000 ;900
  BuildTime = 15.0 ;in seconds    
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleInfernoCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect       = InfernoCannonVoiceSelect
  VoiceMove         = InfernoCannonVoiceMove
  VoiceGuard        = InfernoCannonVoiceMove
  VoiceAttack       = InfernoCannonVoiceAttack
  SoundMoveStart    = InfernoCannonMoveStart
  SoundMoveStartDamaged = InfernoCannonMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = InfernoCannonVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
    VoiceCrush      = InfernoCannonVoiceCrush
    VoiceEnter      = InfernoCannonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
;----------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 180.0 ;220.0 ;[120.0]*
    InitialHealth = 180.0 ;220.0 ;[120.0]*
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 240
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = VeterancyGainCreate ModuleTag_03
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_ArtilleryTraining
  End
  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate = 180 ;[100]*  ;<===============[СКОРОСТЬ ПОВОРОТА БАШНИ и ОРУДИЯ]  ;turn rate, in degrees per sec
      TurretPitchRate = 100
      AllowsPitch = Yes
      FirePitch = 45
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End
;------------------------------------------
  Locomotor = SET_NORMAL InfernoLocomotor
;------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX    = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire  
    FX  = FINAL    FX_GenericTankDeathExplosion 
    OCL = FINAL    OCL_InfernoCannonDeathEffect
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:-7 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End
  Behavior = CreateCrateDie ModuleTag_10
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = WeaponSetUpgrade ModuleTag_11
    TriggeredBy = Upgrade_ChinaBlackNapalm
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = DestroyDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   

End

;------------------------------------------------------------------------------
;Also called NukeCannon
Object ChinaVehicleNukeLauncher

  ; *** ART Parameters ***

  SelectPortrait = SNNukeCannon_L
  ButtonImage    = SNNukeCannon

  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
 ;UpgradeCameo2 = Upgrade_ChinaNeutronShells


  Draw = W3DTankDraw ModuleTag_01
    
    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6

    OkToChangeModelColor = Yes

    ExtraPublicBone = Turret01

    DefaultConditionState
      Model                           = NVNukeCn
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      WeaponLaunchBone                = SECONDARY Muzzle
      WeaponMuzzleFlash               = SECONDARY MuzzleFX
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponRecoilBone                = SECONDARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState    = REALLYDAMAGED
      Model           = NVNukeCn_D
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState                    = RUBBLE
      Model                           = NVNukeCn_D1
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState                    = USING_WEAPON_B
      Model                           = NVNukeCn
      WeaponLaunchBone                = SECONDARY Muzzle
      WeaponMuzzleFlash               = SECONDARY MuzzleFX
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponRecoilBone                = SECONDARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState                    = REALLYDAMAGED USING_WEAPON_B
      Model                           = NVNukeCn_D
      WeaponLaunchBone                = SECONDARY Muzzle
      WeaponMuzzleFlash               = SECONDARY MuzzleFX
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponRecoilBone                = SECONDARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ConditionState                    = USING_WEAPON_B RUBBLE
      Model                           = NVNukeCn_D1
      WeaponLaunchBone                = SECONDARY Muzzle
      WeaponMuzzleFlash               = SECONDARY MuzzleFX
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponRecoilBone                = SECONDARY Barrel
      HideSubObject                   = TURRET01      ;Hide controlled turret
      ShowSubObject                   = TURRETFRONT TURRETBACK  ;Show pack/unpack animated turret
      Turret                          = Turret01
      TurretPitch                     = TurretEL
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B ;Very long shot delay -- possibly moving
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    ;***
    ConditionState    = REALLYDAMAGED MOVING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_A ;Very long shot delay -- possibly moving
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B ;Very long shot delay -- possibly moving


    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = MANUAL
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = MANUAL
    End

    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay
    ;***
    ConditionState    = REALLYDAMAGED PACKING
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = MANUAL
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_A ;Very long shot delay
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B ;Very long shot delay

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = NVNukeCn.NVNukeCn
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject   = TURRETFRONT TURRETBACK   ;Hide pack/unpack animated turret
      ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED FIRING_A
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED RELOADING_A
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED RELOADING_B

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = NVNukeCn_D
      Animation       = NVNukeCn_D.NVNukeCn_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      TransitionKey   = TRANS_FIRING_A
      HideSubObject   = TURRETFRONT TURRETBACK  ;Hide pack/unpack animated turret
      ShowSubObject   = TURRET01      ;Show controlled turret
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_A
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:NukeLauncher
  Side          = China
  EditorSorting = VEHICLE
  TransportSlotCount = 10 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY NukeCannonGun
    Weapon = SECONDARY NukeCannonNeutronWeapon
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 1500 ;2000 ;[в PR 9.0 было: 1500]*
  BuildTime = 18.0 ;20.0 ;[в PR 9.0 было: 18.0]* ;in seconds    
  VisionRange     = 180.0
  ShroudClearingRange = 350.0
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
    Science = SCIENCE_NukeLauncher
  End
  ExperienceValue = 50 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 400 600 1000  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaVehicleNukeCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = NukeCannonVoiceSelect
  VoiceMove             = NukeCannonVoiceMove
  VoiceGuard            = NukeCannonVoiceMove
  VoiceAttack           = NukeCannonVoiceAttack
  SoundMoveStart        = NukeCannonMoveStart
  SoundMoveStartDamaged = NukeCannonMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NukeCannonVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NukeCannonTurretMoveLoop
    VoiceEnter          = NukeCannonVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = VeterancyGainCreate ModuleTag_03
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_ArtilleryTraining
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 80
      TurretPitchRate       = 80
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = Yes
      RecenterTime          = 5000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = Yes
    End
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_BattleMasterExplosionOneFinal
    OCL = INITIAL  OCL_RadiationFieldSmall
    OCL = MIDPOINT OCL_ChinaVehicleNukeCannonDie
    OCL = FINAL    OCL_RadiationFieldSmall
    FX  = FINAL    FX_ChinaVehicleNukeCannonDeathExplosion
  End
    
  ; A crushing defeat
  Behavior = FXListDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_09
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = ProductionUpdate ModuleTag_240013
    ;MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№
  Behavior = CommandSetUpgrade ModuleTag_UKCNS
    TriggeredBy = Upgrade_ChinaNeutronShells
    CommandSet = KomChinaVehicleNukeCannonCommandSet
  End
;№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№№
  Behavior = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 32.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 17.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
;China Supply Truck
Object ChinaVehicleSupplyTruck

  ; *** ART Parameters ***

  SelectPortrait         = SNSupplyTruck_L
  ButtonImage            = SNSupplyTruck

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model           = NVSSUPPLYTK
      HideSubObject   = Cargo01
    End

    ConditionState    = REALLYDAMAGED
      Model           = NVSSUPPLYTK_D
    End

    ConditionState    = RUBBLE
      Model           = NVSSUPPLYTK_D
    End

    ConditionState    = CARRYING
      ShowSubObject   = Cargo01
    End

    ConditionState    = REALLYDAMAGED CARRYING
      Model           = NVSSUPPLYTK_D
      ShowSubObject   = Cargo01
    End

    ConditionState    = RUBBLE CARRYING
      Model           = NVSSUPPLYTK_D
      ShowSubObject   = Cargo01
    End

    TrackMarks              = EXTireTrack.tga

    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    MidLeftRearTireBone         = Tire03
    MidRightRearTireBone        = Tire04
    LeftRearTireBone            = Tire05
    RightRearTireBone           = Tire06
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

    Dust                    = RocketBuggyDust
    DirtSpray               = RocketBuggyDirtSpray
    PowerslideSpray         = RocketBuggyDirtPowerSlide

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyTruck
  Side                = China
  EditorSorting       = VEHICLE
  TransportSlotCount  = 2                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 600
  BuildTime           = 10.0      ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = ChinaSupplyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = ChinaSupplyTruckCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect             = SupplyTruckVoiceSelect
  VoiceMove               = SupplyTruckVoiceMove
  VoiceAttack             = NoSound
  SoundMoveStart          = SupplyTruckMoveStart
  SoundMoveStartDamaged = SupplyTruckMoveStart
  UnitSpecificSounds
    VoiceCreate           = SupplyTruckVoiceCreate
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceSupply           = SupplyTruckVoiceSupply
    VoiceCrush            = SupplyTruckVoiceCrush
    VoiceEnter            = SupplyTruckVoiceMove

  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  ;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = SupplyTruckAIUpdate ModuleTag_03
    MaxBoxes = 4 ;[4 ящика х 100$ = 400$]
    SupplyCenterActionDelay = 400     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1000 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = SupplyTruckVoiceSuppliesDepleted
  End
  Locomotor = SET_NORMAL SupplyTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ExperienceValue    = 50 50 50 50 ;Experience point value at each level

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_ChinaSupplyTruckDeathEffect
  End

  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_ChinaSupplyTruck_CrushEffect
  End

  Behavior                       = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior        = CreateCrateDie ModuleTag_12
    CrateData     = SalvageCrateData
  End

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;China Heavy Supply Truck
Object ChinaVehicleHeavySupplyTruck

  ; *** ART Parameters ***

  SelectPortrait         = SNLargeSupplyTruck_L
  ButtonImage            = SNLargeSupplyTruck

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = NVSUPPLYTK
      HideSubObject = Cargo01
    End
    ConditionState = REALLYDAMAGED
      Model = NVSUPPLYTK_D
    End
    ConditionState = RUBBLE
      Model = NVSUPPLYTK_D1
    End
    ConditionState = CARRYING
      ShowSubObject = Cargo01
    End
    ConditionState = REALLYDAMAGED CARRYING
      Model = NVSUPPLYTK_D
      ShowSubObject = Cargo01
    End
    ConditionState = RUBBLE CARRYING
      Model = NVSUPPLYTK_D1
      ShowSubObject = Cargo01
    End
    TrackMarks = EXTireTrack.tga
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    MidLeftFrontTireBone = Tire03
    MidRightFrontTireBone = Tire04
    MidLeftRearTireBone = Tire05
    MidRightRearTireBone = Tire06
    LeftRearTireBone = Tire07
    RightRearTireBone = Tire08
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

    Dust                    = RocketBuggyDust
    DirtSpray               = RocketBuggyDirtSpray
    PowerslideSpray         = RocketBuggyDirtPowerSlide

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HeavySupplyTruck
  Side                = China
  EditorSorting       = VEHICLE
  TransportSlotCount  = 6                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 800
  BuildTime           = 5.0      ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = ChinaSupplyCenter
    Object = ChinaPropagandaCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = ChinaSupplyTruckCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect             = SupplyTruckVoiceSelect
  VoiceMove               = SupplyTruckVoiceMove
  VoiceAttack             = NoSound
  SoundMoveStart          = SupplyTruckMoveStart
  SoundMoveStartDamaged = SupplyTruckMoveStart
  UnitSpecificSounds
    VoiceCreate           = SupplyTruckVoiceCreate
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceSupply           = SupplyTruckVoiceSupply
    VoiceCrush            = SupplyTruckVoiceCrush
    VoiceEnter            = SupplyTruckVoiceMove

  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  ;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = SupplyTruckAIUpdate ModuleTag_03
    MaxBoxes = 8 ;[8 ящиков х 100$ = 800$]
    SupplyCenterActionDelay = 600     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1250 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = SupplyTruckVoiceSuppliesDepleted
  End
  Locomotor = SET_NORMAL SupplyTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ExperienceValue    = 50 50 50 50 ;Experience point value at each level

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_ChinaHeavySupplyTruckDeathEffect
  End

  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_ChinaHeavySupplyTruck_CrushEffect
  End

  Behavior                       = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior        = CreateCrateDie ModuleTag_12
    CrateData     = SalvageCrateData
  End

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;China Construction Dozer
Object ChinaVehicleDozer

  ; *** ART Parameters ***

  SelectPortrait = CHIWorker
  ButtonImage    = CHIWorker


   Draw = W3DTankDraw ModuleTag_01

    OkToChangeModelColor    = Yes

    DefaultConditionState
      Model                 = NVCONSTDOZ_A
      ParticleSysBone       = EXHAUST01 DozerSmokeLight
    End
    ConditionState          = MOVING
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
    End
    ConditionState = FIRING_A MOVING PREATTACK_A 
      Model = NVCONSTDOZ_A
      Animation = NVCONSTDOZ_A.NVCONSTDOZ_A
      AnimationMode = ONCE
      ParticleSysBone = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone = DIRTFX01 DozerDirtFall
    End
    AliasConditionState = ATTACKING FIRING_A MOVING

    ConditionState          = REALLYDAMAGED RUBBLE
      Model                 = NVCONSTDOZ_AD
    End
    ConditionState          = MOVING REALLYDAMAGED RUBBLE
      Model                 = NVCONSTDOZ_AD
      ParticleSysBone       = EXHAUST01 DozerSmokeHeavy
    End
    ConditionState = FIRING_A MOVING PREATTACK_A REALLYDAMAGED RUBBLE
      Model = NVCONSTDOZ_AD
      Animation = NVCONSTDOZ_AD.NVCONSTDOZ_AD
      AnimationMode = ONCE
      ParticleSysBone = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone = DIRTFX01 DozerDirtFall
    End
    AliasConditionState = ATTACKING FIRING_A MOVING REALLYDAMAGED RUBBLE
    
    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Dozer
  Side                = China
  EditorSorting       = VEHICLE
  TransportSlotCount  = 5                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 1000
  BuildTime           = 5.0 ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions        = None
    Armor             = DozerArmor ;Special Explosion-Proof Armor
    DamageFX          = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = ChinaDozerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerChinaVoiceSelect
  VoiceMove           = DozerChinaVoiceMove
  VoiceEnter          = DozerChinaVoiceMove
  VoiceTaskComplete   = DozerChinaVoiceBuildComplete
  SoundMoveStart      = DozerChinaMoveStart
  SoundMoveStartDamaged = DozerChinaMoveStart

  UnitSpecificSounds
    VoiceCreate       = DozerChinaVoiceCreate
    VoiceCrush        = DozerChinaVoiceCrush
    VoiceNoBuild      = DozerChinaVoiceBuildNot
    VoiceRepair       = DozerChinaVoiceRepair
    VoiceDisarm       = DozerChinaVoiceClearMine
    VoiceEnter        = DozerChinaVoiceMove
    VoiceBuildResponse = DozerChinaVoiceBuild
  End
 


  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER 
  
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 250.0
    InitialHealth     = 250.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End
  Locomotor                    = SET_NORMAL ChinaVehicleDozerLocomotor
  Behavior            = PhysicsBehavior ModuleTag_04
    Mass              = 75.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_ChinaDozerExplode  
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End 

  Behavior = CreateCrateDie ModuleTag_09
    CrateData = SalvageCrateData
  End
    
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = FXListDie ModuleTag_22
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = CommandSetUpgrade ModuleTag_1400
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = ChinaCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_1700
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = ChinaDozerCommandSet
  End

  Behavior = ProductionUpdate ModuleTag_1800
  End

  Geometry            = BOX
  GeometryMajorRadius = 17.0;new radius to align mine sweeping position
  ;GeometryMajorRadius = 21.0;old radius
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = NO
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
Object ChinaVehicleListeningOutpost

  ; *** ART Parameters ***
  SelectPortrait         = NVLOutpost_L
  ButtonImage            = NVLOutpost

  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = IRFX
    
    ConditionState = NONE
      Model = NVLOUTPOST
    End

    ConditionState       = REALLYDAMAGED  
      Model              = NVLOUTPOST_D
    End
    

    ConditionState       = RUBBLE   
      Model              = NVLOUTPOST_D1
      HideSubObject      = TURRET01      ;Hide the dish, since an ocl makes an airborne one is slow death behavior
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    LeftRearTireBone      = TIRE03
    RightRearTireBone     = TIRE04
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  Draw = W3DModelDraw ModuleTag_33
    OkToChangeModelColor = Yes
    
    ConditionState = NONE
      Model = NVLOUTPOST_B
      Animation = NVLOUTPOST_B.NVLOUTPOST_B
      AnimationMode     = LOOP
      TransitionKey = Trans_Deployed
    End
    ConditionState = REALLYDAMAGED
      Model = NVLOUTPOST_BD
      Animation = NVLOUTPOST_BD.NVLOUTPOST_BD
      AnimationMode     = LOOP
      TransitionKey = Trans_Deployed_ReallyDamaged
    End
    
    ConditionState = MOVING
      Model = NVLOUTPOST_A
      Animation = NVLOUTPOST_A.NVLOUTPOST_A
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = NVLOUTPOST_AD
      Animation = NVLOUTPOST_AD.NVLOUTPOST_AD
      AnimationMode     = LOOP
      TransitionKey = Trans_Moving_ReallyDamaged
    End

    ConditionState = RUBBLE
      Model = NONE
    End
    AliasConditionState = RUBBLE MOVING

    ;**** PACKING AND UNPACKING MODES ***
    TransitionState     = Trans_Moving Trans_Deployed
      Model = NVLOUTPOST_C
      Animation = NVLOUTPOST_C.NVLOUTPOST_C
      AnimationMode     = ONCE
    End
    TransitionState     = Trans_Moving_ReallyDamaged Trans_Deployed_ReallyDamaged
      Model = NVLOUTPOST_CD
      Animation = NVLOUTPOST_CD.NVLOUTPOST_CD
      AnimationMode     = ONCE
    End

    TransitionState     = Trans_Deployed Trans_Moving 
      Model = NVLOUTPOST_C
      Animation = NVLOUTPOST_C.NVLOUTPOST_C
      AnimationMode     = ONCE_BACKWARDS
    End
    TransitionState     = Trans_Deployed_ReallyDamaged Trans_Moving_ReallyDamaged 
      Model = NVLOUTPOST_CD
      Animation = NVLOUTPOST_CD.NVLOUTPOST_CD
      AnimationMode     = ONCE_BACKWARDS
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ListeningOutpost
  Side = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.

  ;**********************************************************************
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    Weapon              = PRIMARY     ListeningOutpostUpgradedDummyWeapon
  End
  ;**********************************************************************

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 250
  ShroudClearingRange = 500
  Prerequisites
    Object = ChinaWarFactory
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = ChinaListeningOutpostCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = ListeningOutpostVoiceSelect
  VoiceMove = ListeningOutpostVoiceMove
  VoiceGuard = ListeningOutpostVoiceMove
  VoiceAttack = ListeningOutpostVoiceAttack
  SoundMoveStart = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = ListeningOutpostVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = NoSound
    VoiceUnload   = NoSound ; nothing recorded
    VoiceEnter = ListeningOutpostVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS TRANSPORT VEHICLE SCORE REVEALS_ENEMY_PATHS CANNOT_RETALIATE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = StealthDetectorUpdate ModuleTag_03
    DetectionRate             = 900   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 300 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    PingSound                 = IRPing
    LoudPingSound             = IRPingLoud
    IRParticleSysName         = IRDetectSonar
    IRBrightParticleSysName   = IRDetectSonarBright
    IRGridParticleSysName     = IRDetectGrid
    IRBeaconParticleSysName   = IRLenzflare
    IRParticleSysBone         = IRFX
  End

  Behavior = TransportAIUpdate ModuleTag_99
    AutoAcquireEnemiesWhenIdle = No ; let the contained do it for themselves
  End

  Behavior = StealthUpdate ModuleTag_04
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = MOVING RIDERS_ATTACKING
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Locomotor = SET_NORMAL ListeningOutpostLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 90.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_13
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior    = OCLSpecialPower ModuleTag_Laymines01
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End

  Behavior = TransportContain ModuleTag_06
    PassengersAllowedToFire = Yes
    Slots                 = 2
    InitialPayload        = ChinaInfantryTankHunter 2 
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 10%
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ArmedRidersUpgradeMyWeaponSet = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1789
    FX  = INITIAL    FX_SupplyTruckExplosionOneFinal
    OCL = INITIAL    OCL_InitialListeningOutpostDebris
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalListeningOutpostDebris
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 22.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;===============================================================================================================
Object ChinaVehicleUberHardArty ;[Boss_VehicleHardArty]* ;[Убер-Артиллерия "Крушитель" (OBJECT:ICNukeLauncher)]

  ; *** ART Parameters ***
  SelectPortrait = HardArty_L
  ButtonImage    = HardArty

  UpgradeCameo1 = Upgrade_ChinaOmegaBattleDrone

  Draw = W3DTruckDraw ModuleTag_Draw01
    
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model                           = NVICNC
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFx
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponRecoilBone                = PRIMARY Barrel
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    ConditionState                    = RUBBLE
      Model                           = NVICNC_D1
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED MOVING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED UNPACKING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B

    ConditionState    = REALLYDAMAGED PACKING
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED 
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
    End
    AliasConditionState = DEPLOYED MOVING
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED FIRING_B
    AliasConditionState = DEPLOYED RELOADING_B

    ConditionState  = DEPLOYED REALLYDAMAGED
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B

    ConditionState                    = AFLAME
      Model                           = NVICNC
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    ConditionState                    = RUBBLE AFLAME
      Model                           = NVICNC_D1
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End

    ;*** PACKED STATE -- ready to move ***
    ConditionState    = MOVING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED MOVING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeHeavy
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeHeavy
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED MOVING BETWEEN_FIRING_SHOTS_B AFLAME
     
    ;*** UNPACKING STATE  -- preparing to fire ***
    ConditionState    = UNPACKING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = UNPACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED UNPACKING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED UNPACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ;*** PACKING STATE -- preparing to move ***
    ConditionState    = PACKING AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = PACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ConditionState    = REALLYDAMAGED PACKING AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      ParticleSysBone       = HOUSECOLOR03 DozerSmokeLight
      ParticleSysBone       = HOUSECOLOR07 DozerSmokeLight
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = REALLYDAMAGED PACKING BETWEEN_FIRING_SHOTS_B AFLAME

    ;*** DEPLOYED STATE -- ready to fire ***
    ConditionState  = DEPLOYED AFLAME
      Animation       = NVICNC.NVICNC
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = DEPLOYED MOVING AFLAME
    AliasConditionState = DEPLOYED BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = DEPLOYED FIRING_B AFLAME
    AliasConditionState = DEPLOYED RELOADING_B AFLAME

    ConditionState  = DEPLOYED REALLYDAMAGED AFLAME
      Model           = NVICNC_D
      Animation       = NVICNC_D.NVICNC_D
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
      HideSubObject = Wheel05 Wheel06 Wheel07 Wheel08
      WeaponRecoilBone = PRIMARY Barrel
      ParticleSysBone = HOUSECOLOR01 TankFireContinious
      ParticleSysBone = CHASSIS TankFireContinious
      ParticleSysBone = HOUSECOLOR07 TankFireContinious
    End
    AliasConditionState = DEPLOYED REALLYDAMAGED MOVING AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED BETWEEN_FIRING_SHOTS_B AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED FIRING_B AFLAME
    AliasConditionState = DEPLOYED REALLYDAMAGED RELOADING_B AFLAME

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray

    LeftFrontTireBone     = Wheel02
    RightFrontTireBone    = Wheel01
    LeftRearTireBone      = Wheel12
    RightRearTireBone     = Wheel11
    MidLeftFrontTireBone  = Wheel04
    MidRightFrontTireBone = Wheel03
    MidLeftRearTireBone   = Wheel10
    MidRightRearTireBone  = Wheel09

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  Draw = W3DTruckDraw ModuleTag_Draw02
    DefaultConditionState
      Model                           = NVICNC_W
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model                           = NVICNC_WD
    End

    LeftFrontTireBone     = Wheel06
    RightFrontTireBone    = Wheel05
    LeftRearTireBone      = Wheel08
    RightRearTireBone     = Wheel07

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ICNukeLauncher ;№№№№№№№№№№№№№[Убер-артиллерия "Крушитель"]№№№№№№№№№№№№№
  Side                = China ;[Boss]*
  EditorSorting       = VEHICLE
;---------------------------------
  TransportSlotCount = 0 ;10
;--------------------------------------------
  VisionRange         = 550.0 ;600.0 ;175.0
  ShroudClearingRange = 550   ;600   ;175
;--------------------------------------------
  Prerequisites
    Object = ChinaWarFactory
    Object = ChinaPropagandaCenter
    Science = SCIENCE_Rank4
    Science = SCIENCE_NukeLauncher
  End
;-------------------------------
  BuildCost = 10000 ;8000 ;7000
  BuildTime = 60.0  ;50.0 ;45.0
;-------------------------------
  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable         = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 ;--------------------------------
  MaxSimultaneousOfType = 1
 ;--------------------------------
  CommandSet = Boss_HardArtyCommandSet
;-------------------------------------------------------------------------------------------------------
  WeaponSet
    Conditions = None
    Weapon = PRIMARY HardArtyCannonGun ;[AttackRange = 700.0 ;[2000]* ;ClipReloadTime = 28000 ;14000]
  End
  ArmorSet
    Conditions = None
    Armor      = SuperTruckArmor
    DamageFX   = TankDamageFX
  End

  ; *** AUDIO Parameters ***
  VoiceSelect           = StrategicArtilleryVoiceSelect
  VoiceMove             = StrategicArtilleryVoiceMove
  VoiceGuard            = StrategicArtilleryVoiceMove
  VoiceAttack           = StrategicArtilleryVoiceAttack
  SoundMoveStart        = NukeCannonMoveStart
  SoundMoveStartDamaged = NukeCannonMoveStart
  UnitSpecificSounds
    VoiceCreate         = StrategicArtilleryVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NukeCannonTurretMoveLoop
    VoiceEnter          = StrategicArtilleryVoiceMove
    Deploy              = NukeCannonDeploy
    Undeploy            = NukeCannonUnDeploy
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE  HUGE_VEHICLE FS_SUPERWEAPON SALVAGER
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 700.0
    InitialHealth   = 700.0
    SubdualDamageCap = 1500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = HordeUpdate ModuleTag_0468
    RubOffRadius = 100    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 900      ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status?
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 10            ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = DeployStyleAIUpdate ModuleTag_04
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 3333
    UnpackTime = 3333
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ManualDeployAnimations = Yes
  End

  Locomotor = SET_NORMAL ScudLauncherLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 300.0
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaVehicleICNukeCannonDie
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_07
    DeathTypes = ALL -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DeathWeapon   = Nuke_NuclearTankDeathWeapon
    StartsActive  = Yes
    ConflictsWith = Upgrade_ChinaIsotopeStability
  End

  Behavior = SlowDeathBehavior ModuleTag_Poisoned
    DeathTypes = NONE +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    DestructionDelay = 0
    OCL = FINAL   OCL_ChinaVehicleICNukeCannonDeathEffectSimple
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
;--------------------------------------------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_23 ;<==========№№№№ Ремонтно-боевой дрон №№№№
    UpgradeObject = OCL_ChinaOmegaBattleDrone
    TriggeredBy   = Upgrade_ChinaOmegaBattleDrone
  End
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OCLSpecialPower ModuleTag_Laymines25 ;<=======№№№№ МИНЫ №№№№
    SpecialPowerTemplate = SpecialAbilityLaymines
    OCL                  = OCL_AmericaBattleMines
  End
;--------------------------------------------------------------------------------------------
  Behavior = CommandButtonHuntUpdate  ModuleTag_04B
  End

  Geometry = BOX
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 12.0
  GeometryHeight = 12.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45

End


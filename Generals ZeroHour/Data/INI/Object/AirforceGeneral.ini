;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;=============================================================================================
Object AirF_AmericaVehicleGFX-7KingPredator  ;–¿¡Œ◊¿ﬂ “≈—“Œ¬¿ﬂ "¡ŒÀ¬¿Õ ¿" ‰Îˇ Â„ÛÎ∏Ê‡ ÌÓ‚˚ı ‡ÒÍÎ‡‰Ó‚ ÔÓ ArmorSet-‡Ï ‰Îˇ ‚ÒÂı ‚ÂÚÓÎ∏ÚÓ‚ ÏÓ‰‡.

  ; *** ART Parameters ***                                       ;[   OBJECT:   ]
  
  SelectPortrait = SARavager_L ;[SAGFX_Predator_L ;(PR10.0)]
  ButtonImage    = SARavager   ;[SAGFX_Predator   ;(PR10.0)]

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaBunkerBusters ;Upgrade_AmericaImpulseBombs*
  UpgradeCameo4 = Upgrade_MilitiaSpearTank ;AirF_Upgrade_StealthComanche
  UpgradeCameo5 = SupW_Upgrade_AmericaPointDefenseDrone ;Upgrade_AmericaBattleDrone


  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01 WeaponA02 WeaponA03 WeaponA04
    ProjectileBoneFeedbackEnabledSlots = PRIMARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = AVRavager
      WeaponLaunchBone    = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Animation = F-18E.F-18E   
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AnimationMode = LOOP
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRavager_D ;;;;;;;;;;;;;;;;;;;;;;F-18E_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRavager_D ;;;;;;;;;;;;;;;;;;;;;;F-18E_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRavager_D ;;;;;;;;;;;;;;;;;;;;;;F-18E_D
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Animation           = F-18E.F-18E
      ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AnimationMode       = LOOP
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = RUBBLE
      Model               = AVRavager_D
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:SPLA_GFX-7_KingPredator
  EditorSorting         = VEHICLE
  Side                  = AmericaAirForceGeneral
  TransportSlotCount    = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange           = 240.0
  ShroudClearingRange   = 600
  Prerequisites
    Object = AirF_AmericaVehicleMobileDronecar ;;;AirF_AmericaVehicleAACruiser
    Object = AirF_AmericaStrategyCenter ;;;Object = AirF_GPSSatelite
    Science = SCIENCE_Rank4 ;[SCIENCE_Rank3]*
    ;;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
 ;--------------------------------------------------------------
  BuildCost             = 8000 ;6000 ;4000 ;3700 ;3500
  BuildTime             = 50.0 ;45.0 ;35.0
 ;--------------------------------------------------------------
  MaxSimultaneousOfType = 1 ;2 ;4
 ;--------------------------------------------------------------
  ExperienceValue       = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired    = 0 300 600 1200   ;Experience points needed to gain each level
  IsTrainable           = Yes             ;Can gain experience
  CrusherLevel          = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel        = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AirF_AmericaVehicleGFX-PredatorCommandSet ;;GenericCommandSet

;================================================================================================================================================
;------------------------ GFX-7_KingPredator WeaponSet ------------------------------------------------------------------------------------
  WeaponSet
    Conditions = None
    ; -----
    Weapon            = PRIMARY AirF_GFXPredatorMachineGun ;<====================[œ”À≈Ã®“] ;[ApacheMachineGun (Apache)]
    PreferredAgainst  = PRIMARY INFANTRY ;[Apache]
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI ;[Apache]
   ;-----
    Weapon            = SECONDARY GFX7KingPredatorAntiTankRailGunWeapon ;<=======[œÀ¿«ÃŒ-œ”ÿ »]πππππππππ (6 Á‡ˇ‰Ó‚)
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE ;[Apache]
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI ;[Apache]
    ; -----
    Weapon            = TERTIARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
   ;-----
    Weapon            = PRIMARY AirF_GFXPredatorMachineGun ;<====================[œ”À≈Ã®“] ;[ApacheMachineGun (Apache)]
    PreferredAgainst  = PRIMARY INFANTRY ;[Apache]
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI ;[Apache]
   ;-----
    Weapon            = SECONDARY GFX7KingPredatorAntiTankRailGunWeaponUpg ;<====[œÀ¿«ÃŒ-œ”ÿ »]πππππππππ (8 Á‡ˇ‰Ó‚)
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE ;[Apache]
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI ;[Apache] ;PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON ;[F-23]
   ;-----
    Weapon            = TERTIARY SupW_SFX7PredatorSuperBombWeapon ;<=============[»Ãœ”À‹—Õ¿ﬂ ¡ŒÃ¡¿] ;AirF_GFX7PredatorJDAMBombWeapon ;[PrototypeBombs (Proto(Britva))]
    AutoChooseSources = TERTIARY NONE
  End
;====================================================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = AFG_CountermeasuresComancheArmor ;ComancheArmor*
    DamageFX   = None
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  ArmorSet
;    Conditions = PLAYER_UPGRADE
;    Armor      = CountermeasuresApacheArmor
;    DamageFX   = None
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = FX-PredatorAmbientLoop ;<==========[«‡ÏÂÌ‡ ÓÁ‚Û˜ÍË ‰‚ËÊÍ‡] ;[MigAmbientLoop]*
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  SoundStealthOn  = StealthOn  ;<==================πππ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ÓÚ F-117 πππ
  SoundStealthOff = StealthOff ;<==================πππ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ÓÚ F-117 πππ
  UnitSpecificSounds
    VoiceCreate          = RaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD
;-------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;-----------------------------------
  Body = ActiveBody ModuleTag_04
    MaxHealth     = 420.0 ;[400.0]*
    InitialHealth = 420.0 ;[400.0]*
  End
;-----------------------------------
  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End
;================= »Õ“≈ÀÀ≈ “ ======================================================
  Behavior = JetAIUpdate ModuleTag_AFXP ;;JetAIUpdate ModuleTag_06*
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle

    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY ;<===============[ ¡˚ÎÓ: PRIMARY SECONDARY ]
    End
  End
;==============================================================================
;----------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL  GFX7KingPredatorLocomotor ;(Speed = 220 ;180*) ;[Õ‡ ÓÒÌÓ‚Â: ApacheLocomotor]
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;----------------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = ProductionUpdate ModuleTag_0690 ;_07*
    ;;MaxQueueEntries = 2 ;1* ; So you can't build multiple upgrades in the same frame
  End
;=================================================================================================================================
  Behavior = ObjectCreationUpgrade ModuleTag_GPBD ;_06*       ;πππππ[–≈ÃŒÕ“ÕŒ-¡Œ≈¬€≈ À¿«≈–Õ€≈ ›Ã»-ƒ–ŒÕ€]πππππ
    UpgradeObject = AirF_OCL_AmericanGFX7PredatorsBattleDrone ;πππππ[ƒ¬¿ ƒ–ŒÕ¿]πππππππππππππππππ ;;SupW_OCL_AmericanBattleDrone*
    TriggeredBy   = SupW_Upgrade_AmericaPointDefenseDrone ;Upgrade_AmericaBattleDrone
    ;;;ConflictsWith = Upgrade_AmericaScoutDrone
  End
;=================================================================================================================================
  Behavior = WeaponSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaBunkerBusters ;Upgrade_AmericaImpulseBombs*
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;==============πππππ «¿Ÿ»“ÕŒ≈ —»ÀŒ¬Œ≈ œŒÀ≈ πππππ============================
  Behavior = FireWeaponUpdate ModuleTag_23
    Weapon = ECMTankMissileJammer ;<=======πππππ[Œ“–¿∆¿“≈À‹ –¿ ≈“]ππππππ
    ExclusiveWeaponDelay = 1000 ;[1000 = 1 ÒÂÍÛÌ‰‡] ;If we fire a real weapon, we turn this module off for this long
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;============== ›Ã»-ÃŒƒ”À‹ - ŒÚÍÎ˛˜ÂÌËÂ ‚‡ÊÂÒÍÓÈ ÚÂıÌËÍË =============================
  Behavior = FireWeaponUpdate ModuleTag_28
    Weapon = ECMTankVehicleRadiusDisabler ;<====[¬€–”¡¿À ¿ ‚‡ÊÂÒÍÓÈ “≈’Õ» » ‚ ÓÔÂ‰ÂÎÂÌÌÓÏ ‡‰ËÛÒÂ ‚ÓÍÛ„ ˝ÚÓ„Ó ˛ÌËÚ‡]
    ExclusiveWeaponDelay = 600 ;1000 = 1 ÒÂÍÛÌ‰‡ ;If we fire a real weapon, we turn this module off for this long
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;===========================================================================
;-----------------¬»ƒ  –”ÿ≈Õ»ﬂ ÓÚ Ravager-----------------------
  Behavior = JetSlowDeathBehavior ModuleTag_0501
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = ArmorUpgrade ModuleTag_Armor01
;    TriggeredBy = AirF_Upgrade_AmericaJetArmor ;Upgrade_AmericaCountermeasures
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;πππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
   ;-------------------------------------------------------------------------------------------------------------
    FlareTemplateName     = CountermeasureFlare ;;;["œÀ¿«ÃŒ-ÿ¿–» Œ¬€≈" ÀŒ¬”ÿ » –¿ ≈“: FX7PlazmaCountermeasure];;;
   ;-------------------------------------------------------------------------------------------------------------
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;---------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
;==================================================[ —“≈À—-“≈’ÕŒÀŒ√»ﬂ ]============================
  Behavior = StealthUpdate ModuleTag_BSTLP1 ;_2200
    StealthDelay               = 2000 ;1500 ; msec
    StealthForbiddenConditions = FIRING_PRIMARY ATTACKING USING_ABILITY
    FriendlyOpacityMin         = 50.0%
    FriendlyOpacityMax         = 100.0%
    InnateStealth              = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End
  Behavior = StealthUpgrade ModuleTag_BSTLP2 ;_2300
    TriggeredBy = Upgrade_MilitiaSpearTank ;AirF_Upgrade_StealthComanche
  End
;==================================================[ À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“ ]===================
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate     = AirF_PointDefenseLaser
    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate           = 0
    ScanRange          = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;================================================================================================================================================================
  Behavior = OverlordContain ModuleTag_OverlordContain ;[¬≈¿œŒÕ π4: –¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’]
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AirF_GFX7KingPredatorAntiAirRocketTurret ;<================[¬≈¿œŒÕ π4: –¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’] ;Lazr_AmericaTankAvengerRocketTurret
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End
;================================================================================================================================================================

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;================================================================================
Object AirF_AmericaVehicleComanche

  ; *** ART Parameters ***

  SelectPortrait = AirF_Commanche ;SACommanche_L
  ButtonImage    = AirF_Commanche ;SACommanche

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_ComancheRocketPods
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = AirF_Upgrade_StealthComanche
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVComancheAG
      HideSubObject                   = MissileUpgrade
      Animation                       = AVComancheAG.AVComancheAG
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComancheAG_d
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComancheAG.AVComancheAG
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVComancheAG_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVComancheAG_d
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComancheAG_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 600
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  BuildCost = 1200 ;1100 ;[900]*
  BuildTime = 15.0 ;[10.0]* ;in seconds  
  ExperienceValue    = 50 50 100 200  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes  ;Can gain experience
  CommandSet = AirF_AmericaVehicleComancheCommandSet
  WeaponSet
    Conditions          = None 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    ComancheRocketPodWeapon
    AutoChooseSources   = TERTIARY    NONE
  End
  ArmorSet
    Conditions = None
    Armor      = AFG_CountermeasuresComancheArmor
    DamageFX   = None
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ArmorSet 
;   Conditions = PLAYER_UPGRADE
;   Armor      = AFG_CountermeasuresComancheArmor
;   DamageFX   = None
; End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


  ; *** AUDIO Parameters ***
  VoiceSelect           = StealthComancheVoiceSelect
  VoiceMove             = StealthComancheVoiceMove
  VoiceGuard            = StealthComancheVoiceMove
  VoiceAttack           = ComancheVoiceAttack
  SoundAmbient          = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = StealthComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = StealthComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle
    
    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End

  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End

  Behavior = StealthUpdate ModuleTag_22
    StealthDelay               = 1500 ; msec ;-[1500 = 1,5ÒÂÍ. ;πππππππ[¬–≈Ãﬂ œ≈–≈’Œƒ¿ ¬ —“≈À—-–≈∆»Ã]πππππππ]
    StealthForbiddenConditions = FIRING_PRIMARY ATTACKING USING_ABILITY
    FriendlyOpacityMin         = 50.0%
    FriendlyOpacityMax         = 100.0%
    InnateStealth              = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Behavior = StealthUpgrade ModuleTag_23
    TriggeredBy = AirF_Upgrade_StealthComanche
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleApache

  ; *** ART Parameters ***
  SelectPortrait         = SACApache_L
  ButtonImage            = SACApache

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ComancheRocketPods
  ;UpgradeCameo5 = AirF_Upgrade_StealthComanche

  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVApache
      HideSubObject                   = MissileUpgrade
      Animation                       = AVApache.AVApache
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY WeaponB
      WeaponLaunchBone                = SECONDARY WeaponB
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVApache_d
      Animation                       = AVApache_d.AVApache_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVApache.AVApache
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVApache_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVApache_d.AVApache_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVApache_d
      Animation                       = AVApache_d.AVApache_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVApache_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Apache
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 230.0
  ShroudClearingRange = 600
  Prerequisites
    Object = AirF_AmericaAirfield
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  BuildCost = 1700 ;[” √Î‡‚ÍÓÏ‡ —ÿ¿: BuildCost = 2300]
  BuildTime = 22.0 ;[” √Î‡‚ÍÓÏ‡ —ÿ¿: BuildTime = 30.0] ;in seconds
  ExperienceValue    = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable        = Yes             ; Can gain experience
  CommandSet = AmericaVehicleComancheCommandSet
  WeaponSet
    Conditions = None 
    ; -----
    Weapon            = PRIMARY   ApacheMachineGun
    PreferredAgainst  = PRIMARY   INFANTRY
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = SECONDARY ApacheMulti-roleMissileWeapon
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = TERTIARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    ; -----
    Weapon            = PRIMARY   ApacheMachineGun
    PreferredAgainst  = PRIMARY   INFANTRY
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = SECONDARY ApacheMulti-roleMissileWeapon
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = TERTIARY  ApacheHellFirePodWeapon
    AutoChooseSources = TERTIARY  NONE
  End

  ArmorSet
    Conditions = None
    Armor      = ApacheArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresApacheArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect           = ApacheVoiceSelect   ;[ŒÁ‚Û˜Í‡ ÔË ‚˚‰ÂÎÂÌËË ‚ÂÚÓÎ∏Ú‡]ππππππππππππππππππππππ (1)
  VoiceMove             = ApacheVoiceMove     ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‰‚Ë„‡Ú¸Òˇ]ππππππππππππππππππππππππ (2)
  VoiceGuard            = ApacheVoiceGuard    ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â Óı‡ÌˇÚ¸ Á‡‰‡ÌÌ˚È Í‚‡‰‡Ú]ππππππππ (3)
  VoiceAttack           = ApacheVoiceAttack   ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‡Ú‡ÍÓ‚‡Ú¸ ˆÂÎ¸]πππππππππππππππππππ (4)
  SoundAmbient          = ComancheAmbientLoop ;[ŒÁ‚Û˜Í‡ ‰‚ËÊÍ‡ ‚ËÌÚÓ‚]ππππππππππππππππππππππππππππππππ
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = ApacheVoiceCreate   ;[ŒÁ‚Û˜Í‡ ÓÊ‰ÂÌËˇ/ÒÓÁ‰‡ÌËˇ ˛ÌËÚ‡]ππππππππππππππππππππππ (5)
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ApacheVoiceMove     ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‚ÂÌÛÚ¸Òˇ Ì‡ ¿˝Ó‰ÓÏ]πππππππππππ (2‡)
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 380.0
    InitialHealth   = 380.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle

    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
  End

  Locomotor = SET_NORMAL  ApacheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected.
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ApacheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End

  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor ;Upgrade_AmericaCountermeasures
  End

  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 12.5
  GeometryHeight = 2.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------------------
Object AirF_AmericaVehicleAFX-6Predator

  ; *** ART Parameters ***
  SelectPortrait = SARavager_L ;SAAFX_Predator_L ;(PR10.0)
  ButtonImage    = SARavager   ;SAAFX_Predator   ;(PR10.0)

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ComancheRocketPods


  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01 WeaponA02 WeaponA03 WeaponA04
    ProjectileBoneFeedbackEnabledSlots = SECONDARY;[PRIMARY]* ;[WeaponLaunchBone will be shown/hidden, not just used for firing offset]
                                                             ;[ ÓÒÚ¸ Á‡ÔÛÒÍ‡ ÓÛÊËˇ ·Û‰ÂÚ ÔÓÍ‡Á‡Ì‡/ÒÔˇÚ‡Ì‡, ‡ ÌÂ ÔÓÒÚÓ ËÒÔÓÎ¸ÁÓ‚‡Ì‡ ‰Îˇ ‚˚ÒÚÂÎ‡]
    DefaultConditionState
      Model            = AVRavager;<--------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
      WeaponLaunchBone = SECONDARY WeaponA;[PRIMARY WeaponA]*
    End

  ;=================================================================================================================================
    ConditionState = MOVING
      Model = AVRavager;<-------------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
     ;----------------------------------------
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
      ParticleSysBone = Wingtip05 JetContrail
      ParticleSysBone = Wingtip06 JetContrail
      ParticleSysBone = Wingtip07 JetContrail
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
    End
  ;=================================================================================================================================

    ConditionState = JETEXHAUST
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
    End

    ConditionState = JETEXHAUST JETAFTERBURNER
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
    End

    ConditionState = REALLYDAMAGED
      Model = AVRavager_D;<---------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Smoke01  JetSmoke ;<=========================[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
      ParticleSysBone = Engine01 JetEngineDamagedSmoke ;<============[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
     ;------------------------------------------------------------------------------------------------------
    End

  ;============================================================================================================
    ConditionState = REALLYDAMAGED MOVING
      Model = AVRavager_D;<---------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
     ;----------------------------------------
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone = Wingtip03 JetContrail
      ParticleSysBone = Wingtip04 JetContrail
      ParticleSysBone = Wingtip05 JetContrail
      ParticleSysBone = Wingtip06 JetContrail
      ParticleSysBone = Wingtip07 JetContrail
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Smoke01  JetSmoke ;<=========================[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
      ParticleSysBone = Engine01 JetEngineDamagedSmoke ;<============[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
     ;-----------------------------------------------------------------------------------------------------
     ;ParticleSysBone = Engine01 JetLenzflare ;<=========[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ)]
     ;ParticleSysBone = Engine02 JetLenzflare ;<=========[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ)]
     ;------------------------------------------------------------------------------------------------------
    End
  ;============================================================================================================

    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = AVRavager_D;<----------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Smoke01  JetSmoke ;<=========================[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
      ParticleSysBone = Engine01 JetEngineDamagedSmoke ;<============[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
     ;------------------------------------------------------------------------------------------------------
    End

    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model = AVRavager_D;<----------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;<================[›ÙÙÂÍÚ ‚˚ıÎÓÔ‡ ‰‚Ë„‡ÚÂÎˇ(ﬂÍËÈ ·ÂÎ˚È ¯‡)]
      ParticleSysBone = Engine01 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
      ParticleSysBone = Engine02 AAOWJetAfterburner ;[œ–»Ã≈◊¿Õ»≈: Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;---------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Smoke01  JetSmoke ;<=========================[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
      ParticleSysBone = Engine01 JetEngineDamagedSmoke ;<============[›ÙÙÂÍÚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡(◊∏Ì˚È ‰˚Ï)]
     ;------------------------------------------------------------------------------------------------------
    End

    ConditionState = RUBBLE
      Model = AVRavager_D;<----------------------------------[ ÃŒƒ≈À‹ ]ππππππππππ
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SPLA_AFX-6_Predator
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 230.0 ;[200.0]*
  ShroudClearingRange = 600
  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaVehicleMobileDronecar
    Object = AirF_AmericaStrategyCenter
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
;-------------------------
  BuildCost = 2300 ;1800
  BuildTime = 30.0 ;22.0
;-------------------------
  ExperienceValue    = 50 50 100 200 ;75 75 125 175 ;Experience point value at each level
  ExperienceRequired = 0 100 200 400                ;Experience points needed to gain each level
  IsTrainable    = Yes                ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;---------------------------------------------------------------------
  CommandSet = AmericaVehicleComancheCommandSet ;GenericJetCommandSet
;==========================================================================================================================
;-------------------- AFX-6 Predator WeaponSet ---------------------------
  WeaponSet
    Conditions = None 
    ; -----
    Weapon            = PRIMARY   AirF_AFX-6_PredatorMachineGun            ;[”ÌË‚ÂÒ‡Î¸Ì˚È ÔÛÎÂÏ∏Ú - —‡‚ÌË Ò ApacheMachineGun (Apache)]
    PreferredAgainst  = PRIMARY   INFANTRY
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = SECONDARY AirF_AFX-6_PredatorAntiTankMissileWeapon ;[6 –‡ÍÂÚ ¬ÓÁ‰Ûı-ÁÂÏÎˇ - —‡‚ÌË Ò ApacheMulti-roleMissileWeapon]
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = TERTIARY NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    ; -----
    Weapon            = PRIMARY   AirF_AFX-6_PredatorMachineGun            ;[”ÌË‚ÂÒ‡Î¸Ì˚È ÔÛÎÂÏ∏Ú - —‡‚ÌË Ò ApacheMachineGun (Apache)]
    PreferredAgainst  = PRIMARY   INFANTRY
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = SECONDARY AirF_AFX-6_PredatorAntiTankMissileWeapon ;[6 –‡ÍÂÚ ¬ÓÁ‰Ûı-ÁÂÏÎˇ - —‡‚ÌË Ò ApacheMulti-roleMissileWeapon]
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon            = TERTIARY  ApacheHellFirePodWeapon
    AutoChooseSources = TERTIARY  NONE
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  WeaponSet
;    Conditions        = None
;    Weapon            = PRIMARY   AirF_AFX-6_PredatorMachineGun            ;[”ÌË‚ÂÒ‡Î¸Ì˚È ÔÛÎÂÏ∏Ú - —‡‚ÌË Ò ApacheMachineGun (Apache)]
;    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon            = SECONDARY AirF_AFX-6_PredatorAntiTankMissileWeapon ;[6 –‡ÍÂÚ ¬ÓÁ‰Ûı-ÁÂÏÎˇ - —‡‚ÌË Ò ApacheMulti-roleMissileWeapon]
;    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
;    Weapon            = TERTIARY  AirF_AFX-6_PredatorAntiAirMissileWeapon  ;[8 –‡ÍÂÚ ¬ÓÁ‰Ûı-‚ÓÁ‰Ûı - —‡‚ÌË Ò ApacheMulti-roleMissileWeapon]
;    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;=============================================================================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = ComancheArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresApacheArmor ;AFG_CountermeasuresComancheArmor
    DamageFX   = None
  End


  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = FX-PredatorAmbientLoop ;<==========[«‡ÏÂÌ‡ ÓÁ‚Û˜ÍË ‰‚ËÊÍ‡] ;[MigAmbientLoop]*
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End



  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD ;<===[ Ó‰ ÓÚ ◊∏ÌÓ„Ó ﬂÒÚÂ·‡(OBJECT:Blackhawk)]
;;KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD ;<=============[ Ó‰ ÓÚ ¿Ô‡˜‡(OBJECT:Apache)]
;-----------------------------------------------------------------------------------------------------------------------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Body = ActiveBody ModuleTag_04
    MaxHealth     = 380.0
    InitialHealth = 380.0
  End
  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End
;==============================================================================================================
  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate  = 0  ; this "turret" does not turn
      TurretPitchRate = 0  ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY;[ ¡˚ÎÓ: PRIMARY SECONDARY ;ƒÓ·‡‚ËÎ TERTIARY ]
    End
  End
;==============================================================================================================
  Locomotor = SET_NORMAL  AFX6PredatorLocomotor ;[—ÍÓÓÒÚ¸: 180 - Õ‡ ÓÒÌÓ‚Â: ApacheLocomotor]
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;---------------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
;-----------------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_0690 ;_07*
    ;;MaxQueueEntries = 2 ;1* ; So you can't build multiple upgrades in the same frame
  End
;----------------------------------------------------------------------------------------------------------------------
;-----------------¬»ƒ  –”ÿ≈Õ»ﬂ ÓÚ Ravager-----------------------
  Behavior = JetSlowDeathBehavior ModuleTag_0501
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;---------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor ;Upgrade_AmericaCountermeasures
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000       ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3      ; taking this much damage...
    AflameDamageDelay = 500     ; this often.
  End
  Behavior = ProductionUpdate ModuleTag_22 ;ModuleTag_10
    ;MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;============================================================================================================================================================
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AirF_AFX6PredatorAntiAirRocketTurret ;<================[¬≈¿œŒÕ π4: –¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’] ;Lazr_AmericaTankAvengerRocketTurret
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End
;=============================================================================================================================================================================
;  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One    ;AttackRange = 40.0 (ƒÎËÌ‡ ÎÛ˜‡-ÓÚ‡Ê‡ÚÂÎˇ) / DelayBetweenShots = 350 ;[250]* (¬ÂÏˇ ÔÂÂÁ‡ˇ‰ÍË ÎÛ˜‡-ÓÚ‡Ê‡ÚÂÎˇ)
;    WeaponTemplate     = AirF_AFX6PredatorPointDefenseLaser ;<==================[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
;    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
;    ScanRate           = 0
;    ScanRange          = 200.0
;    PredictTargetVelocityFactor = 1.0
;  End
;=============================================================================================================================================================================
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------------------------------------------------------------------
Object AirF_AFX6PredatorAntiAirRocketTurret  ;Lazr_AmericaTankAvengerRocketTurret ; Seperate turret object so it can attack independantly

  ; *** ART Parameters ***
  SelectPortrait         = SNPropSpeaker_L
  ButtonImage            = SNPropSpeaker
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = Upgrade_AmericaLaserBatteries
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  Draw = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TURRET01
    ExtraPublicBone = TURRETEL
    ExtraPublicBone = TURRETEL01

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model         = None ;avavnger_r ;<================[¬€–≈«¿À ÃŒƒ≈À‹ –¿ ≈“ÕŒ… “”–≈À» Œ“ ¿¬≈Õ√≈–¿]
      WeaponFireFXBone    = PRIMARY TURRETFX
      WeaponLaunchBone    = PRIMARY TURRETFX
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End

    ConditionState = REALLYDAMAGED
      Model         = None ;avavnger_rd ;<================[¬€–≈«¿À ÃŒƒ≈À‹ –¿ ≈“ÕŒ… “”–≈À» Œ“ ¿¬≈Õ√≈–¿]
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters *** ;ππππππππππ[OBJECT:AntiAirRocketTurret]πππππππππππππππ Ã≈“ ¿ ππππππππππππππππ
  Side             = AmericaAirForceGeneral ;AmericaLaserGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None                               ;[¬≈¿œŒÕ π4: –¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’]
    Weapon = PRIMARY AirF_AFX-6_PredatorAntiAirMissileWeapon  ;[8 –‡ÍÂÚ ¬ÓÁ‰Ûı-‚ÓÁ‰Ûı] ;;[AvengerRockets]*
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY ;SECONDARY
      TurretTurnRate      = 180  ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500 ; default is 2000
  End

  Behavior             = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleBlackhawk

  SelectPortrait = Blackhawk_L
  ButtonImage    = Blackhawk

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures


 Draw = W3DModelDraw ModuleTag_01

  ExtraPublicBone = RopeStart
  ExtraPublicBone = RopeEnd

 DefaultConditionState
  Model = AVBlackhawk
  HideSubObject = PODS MuzzleFX01
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  WeaponMuzzleFlash = PRIMARY MuzzleFX01
  WeaponFireFXBone  = PRIMARY Muzzle
  WeaponFireFXBone  = SECONDARY Muzzle
  WeaponMuzzleFlash = SECONDARY MuzzleFX01
 End

 ConditionState = REALLYDAMAGED
  Model = AVBlackhawk_d
  Animation = AVBlackhawk_d.AVBlackhawk_d
  AnimationMode = LOOP
 End

 ConditionState = RUBBLE
  Model = AVBlackhawk_d
  Animation = AVBlackhawk_d.AVBlackhawk_d
  AnimationMode = LOOP
 End

 ConditionState = RUBBLE SPECIAL_DAMAGED
  Model = AVBlackhawk_d
  HideSubObject = AVComanche_Prop
 End
;========================================================
 OkToChangeModelColor = Yes
 End
;========================================================
 Draw = W3DModelDraw ModuleTag_02

 ConditionState = NONE
  Model = None
  TransitionKey = TRANS_Empty
  WaitForStateToFinishIfPossible = TRANS_Unloading
 End

 ConditionState = DYING
  Model = None
 End
  AliasConditionState = RUBBLE
  AliasConditionState = CARRYING RUBBLE
  AliasConditionState = DOCKING RUBBLE
  AliasConditionState = DOCKING CARRYING RUBBLE

 ConditionState = CARRYING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_Full
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End

 ConditionState = DOCKING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_PickingUp
  WaitForStateToFinishIfPossible = TRANS_Unloading
 End

 ConditionState = DOCKING CARRYING
  Model = AVBlackhawk
  Animation = AVBlackhawk.AVBlackhawk
  AnimationMode = LOOP
  TransitionKey = TRANS_Unloading
  WaitForStateToFinishIfPossible = TRANS_PickingUp
 End
End

 ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Blackhawk
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0
  ShroudClearingRange = 600
 ;------------------
  BuildCost = 2400
  BuildTime = 30.0
 ;------------------
  Prerequisites
    Object = AirF_AmericaAirfield
    ;;;;Object = AirF_AmericaStrategyCenter
  End
 ;--------------------------------------
  ExperienceValue     = 50 50 100 200  ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ; Experience points needed to gain each level
  IsTrainable         = Yes            ; Can gain experience
;------------------------------------------------
  CommandSet = AmericaVehicleChinook2CommandSet
;------------------------------------------------
  WeaponSet
  Conditions = None
  Weapon = PRIMARY BlackhawkCannonWeapon
  PreferredAgainst = PRIMARY INFANTRY PROJECTILE AIRCRAFT
  AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  Weapon = SECONDARY BlackhawkCannonWeapon
  PreferredAgainst = SECONDARY VEHICLE STRUCTURE AIRCRAFT
  AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;----------------------
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresBlackhawkArmor ; BlackhawkArmor
    DamageFX   = None
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;ArmorSet
;  Conditions = PLAYER_UPGRADE
;  Armor      = CountermeasuresBlackhawkArmor
;  DamageFX   = None
;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  ; *** AUDIO Parameters ***
  VoiceSelect     = BlackhawkVoiceSelect
  VoiceMove       = BlackhawkVoiceMove
  VoiceAttack     = BlackhawkVoiceAttack
  SoundAmbient    = BlackHawkAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = BlackhawkVoiceCreate
    VoiceSupply         = BlackhawkVoiceSupply
    VoiceUnload         = BlackhawkVoiceUnload
    VoiceCombatDrop     = BlackhawkVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = BlackhawkVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
;----------------------------------------
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0 ;[700.0]*
    InitialHealth   = 500.0 ;[700.0]*
  End
;--------------------------------------
  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End
  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_0367
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;========================================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
  Behavior = CountermeasuresBehavior ModuleTag_99
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 4     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 90%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;========================================================================
  Behavior = ChinookAIUpdate ModuleTag_07
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    AutoAcquireEnemiesWhenIdle = Yes
  End
;========================================================================
  Locomotor = SET_NORMAL   BlackhawkLocomotor ;[— Œ–Œ—“‹: 120]
  Locomotor = SET_TAXIING  BasicHelicopterTaxiLocomotor
;========================================================================
  Behavior = TransportContain ModuleTag_08
    Slots                = 8
    DamagePercentToUnits = 100%
    InitialPayload       = AirF_AmericaInfantryRanger 8 ;[ 8-Ï¸ ÏÓÔÂıÓ‚ ]
    AllowInsideKindOf    = INFANTRY
    ForbidInsideKindOf   = AIRCRAFT HUGE_VEHICLE VEHICLE
    ExitDelay            = 100
    NumberOfExitPaths    = 1
  End
;========================================================================
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
;========================================================================
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = BlackhawkTankHulk
  End
;========================================================================
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 25.0
  GeometryMinorRadius   = 12.5
  GeometryHeight        = 2.5
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;=================================[ –‡ÍÂÚÌ˚È ¯ÚÛÏÓ‚ÓÈ "ŒÒÔÂÈ" ]========================================
Object AirF_AmericaVehicleOsprey ;[ «¿Ã≈Õ¿ ‚ÏÂÒÚÓ ÒÚ‡Ó„Ó ıÎ‡Ï‡: AirF_AmericaVehicleAdv.Comanche ]

  ; *** ART Parameters ***

  SelectPortrait = SAEvOspr_L ;Adv.Comanche_L
  ButtonImage    = SAEvOspr   ;AdvComanche
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
;;UpgradeCameo3 = AirF_Upgrade_AmericaJetArmor


  Draw = W3DOverlordAircraftDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model                           = AVREvOsprey
      Animation                       = AVREvOsprey.AVREvOsprey
      AnimationMode                   = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVREvOsprey_D
      Animation                       = AVREvOsprey_D.AVREvOsprey_D
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE
      Model                           = AVREvOsprey_E
      Animation                       = AVREvOsprey_E.AVREvOsprey_E
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVREvOsprey_E
      HideSubObject = ROTORBLADE05
    End

    OkToChangeModelColor = Yes
  End


  Draw = W3DModelDraw ModuleTag_MissilesBaraban
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY 
    AttachToBoneInAnotherModule = Chassis

     DefaultConditionState
      Model         = AVREvOsprey_A5
      Animation     = AVREvOsprey_A5.AVREvOsprey_A5
      AnimationMode = MANUAL
      HideSubObject = Brusts Looks
      WeaponLaunchBone = TERTIARY  MISSILE
      WeaponLaunchBone = SECONDARY MISSILE
    End

    ConditionState = ATTACKING 
      Model         = AVREvOsprey_A5
      Animation     = AVREvOsprey_A5.AVREvOsprey_A5
      AnimationMode = LOOP
      ShowSubObject = Brusts Looks
      WeaponLaunchBone = TERTIARY  MISSILE
      WeaponLaunchBone = SECONDARY MISSILE
    End

  End


  Draw = W3DModelDraw ModuleTag_Engines01
  
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes

    ConditionState        = NONE
      Model               = AVREvOsprey_A4
      Animation           = AVREvOsprey_A4.AVREvOsprey_A4
      AnimationMode       = LOOP
      TransitionKey       = TRANS_IDLE
    End

    TransitionState       = TRANS_IDLE TRANS_MOVING
      Model               = AVREvOsprey_A2
      Animation           = AVREvOsprey_A2.AVREvOsprey_A2
      AnimationMode       = ONCE
    End

    ConditionState        = MOVING
      Model               = AVREvOsprey_A1
      Animation           = AVREvOsprey_A1.AVREvOsprey_A1
      AnimationMode       = LOOP
      TransitionKey       = TRANS_MOVING
    End

    TransitionState       = TRANS_MOVING TRANS_IDLE
      Model               = AVREvOsprey_A3
      Animation           = AVREvOsprey_A3.AVREvOsprey_A3
      AnimationMode       = ONCE
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = AVREvOsprey_A4D
      Animation           = AVREvOsprey_A4D.AVREvOsprey_A4D
      AnimationMode       = LOOP
      TransitionKey       = TRANS_IDLE_DAMAGED
    End
    
    TransitionState       = TRANS_IDLE_DAMAGED TRANS_MOVING_DAMAGED
      Model               = AVREvOsprey_A2D
      Animation           = AVREvOsprey_A2D.AVREvOsprey_A2D
      AnimationMode       = ONCE
    End

    ConditionState        = REALLYDAMAGED MOVING
      Model               = AVREvOsprey_A1D
      Animation           = AVREvOsprey_A1D.AVREvOsprey_A1D
      AnimationMode       = LOOP
      TransitionKey       = TRANS_MOVING_DAMAGED
    End

    TransitionState       = TRANS_MOVING_DAMAGED TRANS_IDLE_DAMAGED
      Model               = AVREvOsprey_A3D
      Animation           = AVREvOsprey_A3D.AVREvOsprey_A3D
      AnimationMode       = ONCE
    End

    ConditionState        = RUBBLE
      Model               = NONE
    End
    AliasConditionState   = MOVING RUBBLE
    
  End

  Draw = W3DModelDraw ModuleTag_Gun
    AttachToBoneInAnotherModule = Chassis

     DefaultConditionState
      Model             = AVREvOsprey_A6
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponFireFXBone  = PRIMARY MUZZLE01
      WeaponMuzzleFlash = PRIMARY MUZZLE01
    End

    ConditionState        = RUBBLE
      Model               = NONE
    End

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpecOpsOsprey
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 600
;---------------------------------------------
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    ;;;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
;--------------------------------------------
  BuildCost = 3800
  BuildTime = 35.0 ; in seconds
;-------------------------------------
  ExperienceValue    = 50 50 100 200  ; Experience point value at each level
  ExperienceRequired = 0 100 200 400  ; Experience points needed to gain each level
  IsTrainable = Yes                   ; Can gain experience
;====================================================
  CommandSet = AirF_AmericaVehicleOspreyCommandSet
;====================================================
;;;[ —Ú‡˚È ¬Â‡ÔÓÌ Adv.Comanche (¬€–≈«¿“‹  Œ√ƒ¿ ¡”ƒ≈“ √ÀŒ¡¿À‹Õ¿ﬂ ◊»—“ ¿  Œƒ¿ Œ“ Ã”—Œ–¿ ];;;;;;;
  ; WeaponSet
    ; Conditions          = None
    ; ; -----
    ; Weapon              = PRIMARY     LaserCannonWeapon
    ; PreferredAgainst    = PRIMARY     INFANTRY VEHICLE STRUCTURE
    ; ; -----
    ; Weapon              = SECONDARY   Adv.ComancheAntiTankMissileWeapon
    ; PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    ; ; -----
    ; Weapon              = TERTIARY    Adv.ComancheAntiTankMissileWeapon
    ; PreferredAgainst    = TERTIARY    VEHICLE STRUCTURE
  ; End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;===========================================================================================================================
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   Mi24HindMachineGunWeapon        ;[œ”À≈Ã®“: Damage = 12.0 /AttackRange = 250.0 /WeaponSpeed = 999999.0 /DelayBetweenShots = 100]
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = SECONDARY OspreyAntiGroundMissileWeapon   ;[–¿ ≈“€ ¬Œ«ƒ”’-«≈ÃÀﬂ: Damage = 50.0 /12 ‡ÍÂÚ /DelayBetweenShots = 1200 /ClipReloadTime = 15000]
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
    Weapon            = TERTIARY  Mi24HindMissileWeaponAir        ;[–¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’: Damage = 40.0 /12 ‡ÍÂÚ /DelayBetweenShots = 500 /ClipReloadTime = 10000]
    AutoChooseSources = TERTIARY  FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;===========================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresBlackhawkArmor ;BlackhawkArmor
    DamageFX   = None
  End


  ; *** AUDIO Parameters ***
  VoiceSelect  = OspreyVoiceSelect ;[ŒÁ‚Û˜Í‡ ÔË ‚˚‰ÂÎÂÌËË ‚ÂÚÓÎ∏Ú‡]                (1)
  VoiceMove    = OspreyVoiceMove   ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‰‚Ë„‡Ú¸Òˇ]                  (2)
  VoiceGuard   = OspreyVoiceGuard  ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â Óı‡ÌˇÚ¸ Á‡‰‡ÌÌ˚È Í‚‡‰‡Ú]  (3)
  VoiceAttack  = OspreyVoiceAttack ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‡Ú‡ÍÓ‚‡Ú¸ ˆÂÎ¸]             (4)
 ;-----------------------------------------------------------------------------------------
  SoundAmbient = OspreyAmbientLoop ;[ŒÁ‚Û˜Í‡ ‚ËÌÚÓ‚ ŒÒÔÂˇ ËÁ Revolution 0.30.1]πππππππππππ
 ;-----------------------------------------------------------------------------------------
  SoundAmbientRubble = NoSound
  SoundEnter = HumveeEnter
  SoundExit  = HumveeExit
 ;-----------------------------
  UnitSpecificSounds
   ;----------------------------------------------------------------------------------------
    VoiceCreate   = OspreyVoiceCreate   ;[ŒÁ‚Û˜Í‡ ÓÊ‰ÂÌËˇ/ÒÓÁ‰‡ÌËˇ ˛ÌËÚ‡]            (5)
   ;----------------------------------------------------------------------------------------
    VoiceUnload   = OspreyVoiceUnload   ;[ŒÁ‚Û˜Í‡ ‚˚Ò‡‰ÍË ‰ÂÒ‡ÌÚÛ˚]                  (6)
    VoiceGarrison = OspreyVoiceMove     ;[ŒÁ‚Û˜Í‡ ÔË ÍÓÏ‡Ì‰Â ‚ÂÌÛÚ¸Òˇ Ì‡ ¿˝Ó‰ÓÏ]  (2‡)
   ;----------------------------------------------------------------------------------------
    VoiceCrush = OspreyVoiceCrush ;<=========================================[Crush]  (7)
    VoiceEnter = OspreyVoiceMove ;<==========================================[Enter]  (2¡)
   ;-----------------------------------------------
    VoiceCombatDrop    = ChinookVoiceCombatDrop
    VoiceClearBuilding = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
   ;-----------------------------------------------
   ;;;VoiceSupply = ChinookVoiceSupply
  End


  ; *** ENGINEERING Parameters ***

  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_ATTACK CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT SCORE PRODUCED_AT_HELIPAD
;;KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT TRANSPORT HARVESTER PRODUCED_AT_HELIPAD
;-------------------------------------
  Body = ActiveBody ModuleTag_03
    MaxHealth     = 1000.0
    InitialHealth = 1000.0
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;-----------------------------------------------------------------------------
  Behavior = FXListDie ModuleTag_04
    DeathFX = FX_ComancheStartDeath ;FX_HelicopterStartDeath ;<=============[ «¿Ã≈Õ¿ , ¡˚ÎÓ: FX_DevilOspreyStartDeath ]πππππππππππ
  End
;-----------------------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_05
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
;============================[ »Õ“≈ÀÀ≈ “  ŒÕ¬≈–“ŒœÀ¿Õ¿]=======================================
  Behavior = ChinookAIUpdate ModuleTag_OspreyAI
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180   ; turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45    ; this keeps it aimed half way between land and sky
      MinIdleScanInterval = 250   ; in milliseconds
      MaxIdleScanInterval = 250   ; in milliseconds
      MinIdleScanAngle    = 0     ; in degrees off the natural turret angle
      MaxIdleScanAngle    = 360   ; in degrees off the natural turret angle
    End
     AutoAcquireEnemiesWhenIdle = Yes
;;;;;RotorWashParticleSystem = HelixRotorWashRing ;[???]
  End
;------------------------------------------------------------------------------
  Locomotor = SET_NORMAL  AirF_OsperyLocomotor ;<=============[— Œ–Œ—“‹: 150]
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
;===================================================================================================
  Behavior = TransportContain ModuleTag_08
    PassengersAllowedToFire = No ;Yes
    Slots                   = 12
    InitialPayload          = AirF_AmericaInfantrySpecOps 8 ;[ 8-Ï¸ ÒÔÂˆÌ‡ÁÓ‚ˆÂ‚-ÂÈÌ‰ÊÂÓ‚ ]
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = INFANTRY VEHICLE DOZER
    ForbidInsideKindOf      = AIRCRAFT HUGE_VEHICLE
    ExitDelay               = 100
    NumberOfExitPaths       = 1
    GoAggressiveOnExit      = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    ArmedRidersUpgradeMyWeaponSet = Yes
  End
;=============================[ ¬»ƒ  –”ÿ≈Õ»ﬂ  ŒÕ¬≈–“ŒœÀ¿Õ¿]========================================
  Behavior = HelicopterSlowDeathBehavior ModuleTag_09
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = RevOspreyRubbleHull ;======> ππππππππππππππππππ[ Hulk: RevOspreyRubbleHull ]πππππππππππππππππ
  End
;==================================================================================================
  Behavior = ProductionUpdate ModuleTag_AFGOPU
   ;MaxQueueEntries = 1 ;So you can't build multiple upgrades in the same frame
  End
;-------------------------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;===================================================================
  Behavior = GrantUpgradeCreate ModuleTag_OspKontr
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;------------------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;--------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3        ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;***Hologram Science***
;  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_Hologram
;    StartsActive = Yes
;    ReactionWeaponPristine      = EvilOspreyCreationWeapon
;    ReactionWeaponDamaged       = EvilOspreyCreationWeapon
;    ReactionWeaponReallyDamaged = EvilOspreyCreationWeapon
;    DamageTypes = NONE +PENALTY
;    DamageAmount = 1
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;[ÕÂÁ‡‰ÂÈÒÚ‚Ó‚‡ÌÌ‡ˇ ÓÁ‚Û˜Í‡];;;;;;;;;;;;;;;;;
;“ÛÚ ·˚Î‡ ÓÁ‚Û˜Í‡ ‚ÌÛÚË (ÊÂÌÒÍËÈ „ÓÎÓÒ ·‡Á‡ËÎ: " ‡˛Í ŒÒÔÂ˛ Ì‡ÒÚ‡Î")
;  Behavior = FXListDie ModuleTag_VoiceLost
;    DeathTypes = ALL 
;    DeathFX    = FX_LostEUDevOsprey
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight      = 25.0     
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME    
  ShadowSizeX         = 89  ; minimum elevation angle above horizon. Used to limit shadow length
;;ShadowTexture       = “ÛÚ ÌË˜ÂÚ‡ ÌÂÚÛ,ÌÓ ÚÂÌ¸ ‚Ò∏‡‚ÌÓ ÂÒÚ¸ =| ,Í‡Í ˝ÚÓ ÔÓÌËÏ‡Ú¸ ? “ÂÌ¸ ‚ÔËıÌÛÎË ‚ ‰Û„ÓÏ ÏÂÒÚÂ,˜Û‚‡Í :D
;;;;;;;;;;√ÂÓÏÂÚËˇ ÓÚ Object AirF_AmericaVehicleEvilOspreyHologram : ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Geometry = BOX
; GeometryMajorRadius = 25.0
; GeometryMinorRadius = 10.0
; GeometryHeight      = 25.0
; GeometryIsSmall     = No
; Shadow              = SHADOW_VOLUME
; ShadowSizeX         = 89
; ShadowTexture       = fake_evilosprey ;<====ππππ “≈ —“”–¿ “≈Õ» ÓÚ ‚ÂÚ‡ Ì‡ ÁÂÏÎÂ ?? ππππ
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

End

;=======================================================================
Object AirF_AmericaVehicleMobileBarracks 

  ; *** ART Parameters ***
  
  SelectPortrait         = SAPOWTruck_L
  ButtonImage            = SAPOWTruck

  UpgradeCameo1 = Upgrade_AmericaBattleDrone

  Draw                   = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVBAR
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVBAR_D
    End
    ConditionState       = RUBBLE
      Model              = AVBAR_D
    End
    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:MobileBarracks
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  Prerequisites
    Object  = AirF_AmericaWarFactory
    Object  = AirF_AmericaStrategyCenter
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  BuildCost       = 1500 ;[700]*
  BuildTime       = 20.0 ;[10.0]* ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 320
;---------------------------
  MaxSimultaneousOfType = 1
;---------------------------
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AirF_AmericaMobileBarracksCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = POWTruckUSAVoiceSelect
  VoiceMove = POWTruckUSAVoiceMove
  VoiceGuard = POWTruckUSAVoiceMove
  SoundEnter = POWTruckEnter
  SoundExit = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = POWTruckUSAVoiceCreate
    TurretMoveLoop       = TurretMoveLoop
    SoundMoveStart       = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    VoiceCrush           = POWTruckUSAVoiceCrush
    ; Required for the W3DTruckDraw module
    TruckLandingSound    = RocketBuggyLand
    TruckPowerslideSound = POWTruckUSAMoveStart
    VoiceEnter           = POWTruckUSAVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_FACTORY FS_BARRACKS

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60 ;turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor = SET_NORMAL POWTruckLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
;=========== —·ÓÒ ˜ÂÚ˚∏ı  ÓÏÏ‡Ì‰ÓÒ SEAL(ÃÓÒÍËÂ ÍÓÚËÍË) : ===============
  Behavior = OCLSpecialPower ModuleTag_22
    SpecialPowerTemplate = SuperweaponParadropHighAmerica
    OCL                  = SUPERWEAPON_AmericaHighParadrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End
;==============================================================
  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = HealContain ModuleTag_09
    ContainMax          = 5 ;way bigger than the # of objects we can have
    TimeForFullHeal     = 20000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_60
    UnitCreatePoint    = X: -19.053 Y: -0.044 Z: 3.401
    NaturalRallyPoint  = X: -24.172 Y: -0.044 Z: -0.011
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_AmericanPOWTruckDeathEffect
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 5.0
  GeometryHeight = 6.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------
Object AirF_AmericaVehicleMobileAirfbase

  ; *** ART Parameters ***
  SelectPortrait         = AuroraB ;SAAirfbase*
  ButtonImage            = AuroraB ;SAAirfbase*

  Draw = W3DOverlordTankDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
    End

    ConditionState       = MOVING
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbase  ;-[ ¡¿«¿ ƒŒ –¿«¬®–“€¬¿Õ»ﬂ ]
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 10  ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 7900 ;3500
  BuildTime = 40.0 ;30.0 ;in seconds
  VisionRange         = 300.0
  ShroudClearingRange = 320
 ;---------------------------------
  MaxSimultaneousOfType = 1 ;8 ;20
 ;---------------------------------
  Prerequisites
    Object  = AirF_AmericaWarFactory ;AirF_AmericaAirfield
    Object  = AirF_AmericaStrategyCenter
    Science = SCIENCE_AmericaMarine
    Science = SCIENCE_Rank4
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 80.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
  End

Behavior = TransportAIUpdate ModuleTag_CorrectAI
End

  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = ReplaceObjectUpgrade ModuleTag_80
    ReplaceObject = AirF_AmericaVehicleMobileAirfbaseActive
    TriggeredBy = UpgradeMobileTunnelNetwork
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------
Object AirF_AmericaVehicleMobileAirfbaseActive

  ; *** ART Parameters ***
  SelectPortrait = AuroraB ;SAAirfbase*
  ButtonImage    = AuroraB ;SAAirfbase*

  UpgradeCameo1 = Upgrade_AmericaImpulseBombs

  Draw = W3DTruckDraw ModuleTag_01
    ReceivesDynamicLights = No

    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayLDEnd1 
    ExtraPublicBone = RunwayLDStart1 
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Taxi1 
    ExtraPublicBone = Hanger1
    ExtraPublicBone = CIPOW

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBaseP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBaseP_d
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
   End

  Draw = W3DModelDraw ModuleTag_0208

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = CIPOW

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = CIPOW_SKN
      IdleAnimation = CIPOW_SKL.CIPOW_STA 0 6
      IdleAnimation = CIPOW_SKL.CIPOW_IDA
      IdleAnimation = CIPOW_SKL.CIPOW_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
    End

    ConditionState = MOVING
      Animation = CIPOW_SKL.CIPOW_STA
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbase ;-[MobileAirfbaseActive]  ;-[ ¡¿«¿ œŒ—À≈ –¿«¬®–“€¬¿Õ»ﬂ ]
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 10  ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AircraftCarrierOrderLaunch
  End
  ArmorSet
    Conditions = None
    Armor      = AirfbaseArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 0
  BuildTime = 0.0 ;in seconds
 ;--------------------------------------
  EnergyProduction = -2 ;-1
 ;--------------------------------------
  VisionRange         = 300.0 ;[150.0]*
  ShroudClearingRange = 320
  Prerequisites
    ;Object = AirF_AmericaAirfield
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet2

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD POWERED CAN_ATTACK AIRCRAFT_CARRIER FS_FACTORY STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE MP_COUNT_FOR_VICTORY

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 1000.0 ;[80.0*] ;<============[«¿Ã≈Õ¿-“›—“]ππππππππππ
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_2478 ; allows use of command button hunt script with this unit.
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_120
    NumDoorAnimations            = 1
    DoorOpeningTime              = 1000 ;matches the dock animation timing.
    DoorWaitOpenTime             = 33  ;add a single frame to hold the plane because there is a one frame delay before we see the new plane
    DoorCloseTime                = 0  ;in mSeconds
    ConstructionCompleteDuration = 0  ;in mSeconds
  End

  Behavior = FlightDeckBehavior ModuleTag_110
    NumRunways              = 1
    NumSpacesPerRunway      = 1
    Runway1Spaces           = RUNWAY1PREP1 Runway1Prep1
    Runway1Takeoff          = RUNWAY1PREP1 RunwayEnd1
    Runway1Landing          = RunwayLDStart1 RunwayLDEnd1
    Runway1Creation         = Taxi1
    Runway1Taxi             = Hanger1
;    Runway1CatapultSystem   = AircraftCarrierCatapultSteamParent

    HealAmountPerSecond     = 80
    ApproachHeight          = 20
    LandingDeckHeightOffset = 10.0
    ParkingCleanupPeriod    = 533  ;How often the carrier checks to move planes forward in the queue to fill empty spaces
    HumanFollowPeriod       = 333  ;Human factor for delay like a traffic jam.. takes time to react when the guy in front moves.

    ;Template of payload, and how quickly destroyed ones get replaced.
    PayloadTemplate         = Airf_AmericaJetMobileCarrierFulArAurora ;<====πππππππππ [–Œ¡Œ-—¿ÃŒÀ®“] πππππππππ
    ReplacementDelay        = 3500
    DockAnimationDelay      = 4500

    ;How quickly a wave of fighters can be launched.
    LaunchWaveDelay         = 2000
    LaunchRampDelay         = 400
    LowerRampDelay          = 500
    CatapultFireDelay       = 700
 End

  Behavior = SlowDeathBehavior ModuleTag_11
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ReplaceObjectUpgrade ModuleTag_80
    ReplaceObject = AirF_AmericaVehicleMobileAirfbase
    TriggeredBy = Upgrade_GLAWorkerFakeCommandSet
  End
;-----------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_UAIBMAB
    TriggeredBy = Upgrade_AmericaImpulseBombs
  End
;-----------------------------------------------

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object Airf_AmericaJetMobileCarrierFulArAurora

  ; *** ART Parameters ***
  SelectPortrait         = AuroraB_L
  ButtonImage            = AuroraB

;  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
;  UpgradeCameo2 = Upgrade_AmericaImpulseBombs
;  UpgradeCameo3 = AirF_Upgrade_AmericaJetArmor
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = AVAuroraSW
      HideSubObject       = BurnerFX03 BurnerFX04
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVAuroraSW_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVAuroraSW_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVAuroraSW_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVAurora_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVAurora_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
   End

  Draw = W3DModelDraw ModuleTag_Draw02
    DefaultConditionState  
      Model = NONE
    End   
    ConditionState = JETEXHAUST JETAFTERBURNER 
      Model = NONE 
    End 
    ConditionState = JETEXHAUST JETAFTERBURNER ATTACKING 
      Model = NONE
    End 
    ConditionState = JETEXHAUST 
      Model = NONE  
    End   
    ConditionState = JETEXHAUST ATTACKING  
      Model = AVAurora_V
      ParticleSysBone  = ENGINE WarheadTrail02
    End  
  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AuroraBeta
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 270.0 ;200.0 ;180.0 
  ShroudClearingRange = 600.0
;----------------------------------------
  Prerequisites
    Object = AirF_AmericaStrategyCenter
  End
;----------------------------------------
  BuildCost = 0 ;The rank UBER
  BuildTime = 25.0          ;in seconds
;=========================================================================
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY MobileAuroraBombWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY MobileAuroraImpulseBombWeapon
  End
;-------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End
;--------------------------------------------------
  ExperienceValue = 200 200 400 400   ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetAuroraCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SonicAuroraBomberVoiceSelect
  VoiceMove = AuroraBomberVoiceSuperSonic
  VoiceGuard = AuroraBomberVoiceModeSuperSonic
  VoiceAttack = AuroraBomberVoiceAttack
  SoundAmbient = AuroraBomberAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    VoiceCreate          = AuroraBomberVoiceCreate2;SonicAuroraBomberVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = Cin_SonicBoom
    VoiceLowFuel         = AuroraBomberVoiceLowFuel
    VoiceGarrison        = AuroraBomberVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 100.0
    InitialHealth        = 100.0
  End

  Behavior = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_AuroraDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_AuroraDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    ;OCLHitGround                   = None
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond    = 10%    ; amount of damage to take per SEC (not per frame) when out of ammo
                                         ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift       = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause                = 500
    MinHeight                   = 5
    SneakyOffsetWhenAttacking   = -20.0  ; this is how far behind us people aim when we are in attack mode
    AttackLocomotorType         = SET_SUPERSONIC
    AttackLocomotorPersistTime  = 100    ; we start slowing down almost immediately
    AttackersMissPersistTime    = 2000   ; but remain untargetable fer a bit longer
    ReturnForAmmoLocomotorType  = SET_SLUGGISH
    ReturnToBaseIdleTime        = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL      AuroraJetLocomotor
  Locomotor = SET_SUPERSONIC  AuroraJetSupersonicLocomotor
  Locomotor = SET_SLUGGISH    AuroraJetSluggishLocomotor
  Locomotor = SET_TAXIING     BasicJetTaxiLocomotor
;===============================================
  Behavior = WeaponSetUpgrade ModuleTag_0867
    TriggeredBy = Upgrade_AmericaImpulseBombs
  End
;===============================================
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;===========================================================================================
;-------------- À‡ÁÂÌ˚Â ÓÚ‡Ê‡ÚÂÎË ‡ÍÂÚ -------------------------------------------------
;-----------------------------------------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate     = AirF_PointDefenseLaser ;<============[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate           = 0
    ScanRange          = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;===========================================================================================
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Scale = 1.04 ;0.90*
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object Airf_AmericaJetMobileCarrierRaptorVar4

  ; *** ART Parameters ***
  SelectPortrait         = SuperStriker_L
  ButtonImage            = SuperStriker

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    DefaultConditionState
      Model               = avraptor_alt
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = avraptor_alt
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = avraptor_alt
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:F-23
  EditorSorting           = VEHICLE
  Side                    = AmericaAirForceGeneral
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0
  ShroudClearingRange     = 400
  WeaponSet
    Conditions = None
    Weapon = PRIMARY F-23Missile
    Weapon = SECONDARY F-23Bomb
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End

  BuildCost               = 0
  BuildTime               = 20.0
  ExperienceValue         = 75 75 125 175   ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = AmericaJetF-23CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = KingRaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = KingRaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 420.0
    InitialHealth        = 420.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior                    = EjectPilotDie ModuleTag_06
    ExemptStatus         = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 1400
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 900000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL F-23JetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = PointDefenseLaserUpdate ModuleTag_22
    WeaponTemplate        = AirF_RaptorPointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 10
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 2.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_24
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End



  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Scale = 0.9
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object Airf_AirbaseUpdeploy
  EditorSorting       = SYSTEM
  TransportSlotCount  = 1
  IsTrainable = No
  KindOf = PORTABLE_STRUCTURE INERT
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Behavior = AIUpdateInterface ModuleTag_06
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = ALL
  End
  Behavior = HeightDieUpdate ModuleTag_13
    TargetHeight = 500
  End
  Behavior = PhysicsBehavior ModuleTag_15
    Mass = 5.0
    AllowBouncing = No
  End
  Behavior = UpgradeDie ModuleTag_14
    DeathTypes = ALL
    UpgradeToRemove = Upgrade_GLAWorkerRealCommandSet
  End
End

Object Airf_AirbaseDeploy
  EditorSorting       = SYSTEM
  TransportSlotCount  = 1
  IsTrainable = No
  KindOf = PORTABLE_STRUCTURE INERT FS_AIRFIELD HEAL_PAD
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Behavior = AIUpdateInterface ModuleTag_06
  End
  Behavior = DestroyDie ModuleTag_12
    DeathTypes = ALL
  End
  Behavior = HeightDieUpdate ModuleTag_13
    TargetHeight = 500.0
  End
  Behavior = PhysicsBehavior ModuleTag_15
    Mass = 5.0
    AllowBouncing = No
  End
  Behavior = FlightDeckBehavior ModuleTag_11
    NumRunways              = 1
    NumSpacesPerRunway      = 1
    Runway1Spaces           = RUNWAY1PARKING1
    Runway1Takeoff          = RUNWAY1PARKING1
    Runway1Landing          = RUNWAY1PARKING1
    Runway1Taxi             = RUNWAY1PARKING1
    Runway1Creation         = RUNWAY1PARKING1
    Runway1CatapultSystem   = AircraftCarrierCatapultSteamParent
End
  Behavior = UpgradeDie ModuleTag_14
    DeathTypes = ALL
    UpgradeToRemove = Upgrade_GLAWorkerFakeCommandSet
  End
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleMobilePCannon

  ; *** ART Parameters ***
  SelectPortrait         = APC_L
  ButtonImage            = APC

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone

  Draw = W3DTruckDraw ModuleTag_01
    ExtraPublicBone        = FXConnector
    ExtraPublicBone        = FXMain
    ExtraPublicBone        = FX01
    ExtraPublicBone        = FX02
    ExtraPublicBone        = FX03
    ExtraPublicBone        = FX04
    ExtraPublicBone        = FX05
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = MPC1
      Animation = MPC1.MPC1
      AnimationMode = MANUAL
      HideSubObject = Door01 Door02 Door03
      Flags              = START_FRAME_FIRST
;      Turret                          = TURRET
;      HideSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
    End

    ConditionState = REALLYDAMAGED
      Model = MPC1
      Animation = MPC1.MPC1
      AnimationMode = MANUAL
      HideSubObject = Door01 Door02 Door03
      Flags              = START_FRAME_FIRST
;      Turret                          = TURRET
;      HideSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
    End

    ConditionState       = UNPACKING
      Model = MPC1
      Animation = MPC1.MPC1
      AnimationMode      = ONCE
      HideSubObject = Door01 Door02 Door03
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    ConditionState       = DEPLOYED
      Model = MPC1
      Animation = MPC1.MPC1
      AnimationMode      = ONCE
      HideSubObject = Door01 Door02 Door03
      Flags              = START_FRAME_LAST
    End
    ConditionState       = PACKING
      Model              = MPC1
      Animation          = MPC1.MPC1
      AnimationMode      = ONCE_BACKWARDS
      HideSubObject = Door01 Door02 Door03
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:MPC
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = APCArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 900
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaSmallParticleUplinkCannonCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceUnload
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 440.0
    InitialHealth   = 440.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 180
;      RecenterTime = 5000   ; how long to wait during idle before recentering
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL APCLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = SpecialPowerCreate ModuleTag_97
    ;nothing
  End
  Behavior = SpecialAbility ModuleTag_98
    SpecialPowerTemplate = SuperweaponSmallParticleUplinkCannon
    UpdateModuleStartsAttack = Yes
  End
  Behavior = ParticleUplinkCannonUpdate ModuleTag_99
    SpecialPowerTemplate            = SuperweaponSmallParticleUplinkCannon

    ;The values trigger the various pre-stages before being ready to actually fire.
    ;The total combined value of these determines the first sign of activity in the
    ;cannon.
    BeginChargeTime                 = 5000 ;The outer nodes begin to charge.
    RaiseAntennaTime                = 4667 ;The hatch opens and raises antenna (matches animation speed)
    ReadyDelayTime                  = 2000 ;The time after antenna is raised prior to being ready to fire.

    ;***NOTE -- these values effect gameplay*****
    TotalFiringTime                 = 10000     ;The total ground contact time of the beam

    DamagePerSecond                 = 100       ;Amount of damage inflicted per second
    TotalDamagePulses               = 40        ;The total number of damage pulses -- less means more damage per pulse, but less accurate
    WidthGrowTime                   = 2000      ;The amount of time it takes for the beam to reach full diameter (same value used for shrinking)
    BeamTravelTime                  = 2500      ;How long it takes for the beam to hit the ground after leaving the firing dish.
    DamageType                      = PARTICLE_BEAM ;Type of damage inflicted.
    DamageRadiusScalar              = 3.4       ;Multipliesp the radius (relative to beam diameter) so that things close to the beam can get hit too!
    RevealRange                     = 50.0      ;Grants gratuitous vision for the player launching the target as the beam cuts it's swath of death.
    ;********************************************

    ;Bone names for required elements
    OuterEffectBoneName             = FX          ;The base name for the outer node bones.
    OuterEffectNumBones             = 5           ;The number of outer nodes.
    ConnectorBoneName               = FXConnector ;The name of the bone where the connector lasers meet.
    FireBoneName                    = FXMain      ;The name of the bone where the main beam is fired from.

    ;These are particle systems tied to the outer nodes in varying intensities.
    OuterNodesLightFlareParticleSystem    = SmallParticleUplinkCannon_OuterNodeLightFlare
    OuterNodesMediumFlareParticleSystem   = SmallParticleUplinkCannon_OuterNodeMediumFlare
    OuterNodesIntenseFlareParticleSystem  = SmallParticleUplinkCannon_OuterNodeIntenseFlare

    ;The connectors system connects each of the outer nodes to the central node that receives
    ;the lasers from outside.
    ConnectorMediumLaserName        = SmallParticleUplinkCannon_MediumConnectorLaser
    ConnectorIntenseLaserName       = SmallParticleUplinkCannon_IntenseConnectorLaser

    ;Currently commented out -- These
    ;ConnectorMediumFlare            = ParticleUplinkCannon_InnerConnectorMediumFlare
    ;ConnectorIntenseFlare           = ParticleUplinkCannon_InnerConnectorIntenseFlare

    ;This is the name of the bone on the building where the beam is fired from
    LaserBaseLightFlareParticleSystemName = SmallParticleUplinkCannon_LaserBaseReadyToFire
    ParticleBeamLaserName           = SmallParticleUplinkCannon_OrbitalLaser
    GroundHitFX                     = FX_SmallParticleUplinkCannon_BeamHitsGround     ;TotalScorchMarks determines how many times this gets called.

    ;The flare fxlist that is played over and over during the beam firing process. Be
    ;mindful of the delay because that effects both art and sound.
    BeamLaunchFX                   = FX_SmallParticleUplinkCannon_BeamLaunchIteration
    DelayBetweenLaunchFX           = 1000

    ;Each scorch mark creates an object in the world, so while making more looks better
    ;it becomes a performance issue. The scalar will calculate the size of the scorch
    ;mark to make based on the current size of the beam (which changes dynamically). The
    ;number also matches the number of times the "GroundHitFX" is called.
    TotalScorchMarks               = 20
    ScorchMarkScalar               = 2.4

    ;***NOTE -- these values effect gameplay***
    ;The swath of death is the path the laser tracers centered on the targeted position.
    ;If the amplitude is zero, the line will go straight, with a higher value, it'll do
    ;a sine wave iteration, but always goes through the target point.
    SwathOfDeathDistance           = 200.0
    SwathOfDeathAmplitude          = 50.0


    ManualDrivingSpeed             = 20
    ManualFastDrivingSpeed         = 40
    DoubleClickToFastDriveDelay    = 500

    ;***SOUNDS!****
    PoweringUpSoundLoop            = ParticleUplinkCannon_PowerupSoundLoop
    UnpackToIdleSoundLoop          = ParticleUplinkCannon_UnpackToIdleSoundLoop
    FiringToPackSoundLoop          = ParticleUplinkCannon_FiringToPackSoundLoop
    GroundAnnihilationSoundLoop    = ParticleUplinkCannon_GroundAnnihilationSoundLoop

    ;The trail left behind creates an object that inflicts extra damage for a short period of time.
    DamagePulseRemnantObjectName   = ParticleUplinkCannonTrailRemnant
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaLightTankCrusader

  ; *** ART Parameters ***
  SelectPortrait         = SACLight
  ButtonImage            = SACLight

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = AVLLeopard
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone = PRIMARY TurretMS
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVLLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = AVLLeopard_D
    End

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:LightCrusader
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY LightCrusaderTankGun
  End

  ArmorSet
    Conditions           = None
    Armor                = HumveeArmor
    DamageFX             = TankDamageFX
  End

  BuildCost              = 700
  BuildTime              = 10.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankCrusaderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 250
    InitialHealth   = 250

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL LightCrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_08
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_09
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = MaxHealthUpgrade ModuleTag_11
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 120.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_13
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_16
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_17
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_18
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankTrojan

  ; *** ART Parameters ***
  SelectPortrait         = SATrojan_L
  ButtonImage            = SATrojan

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_AmericaScramShells

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVWTank
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY TurretMS01
      WeaponRecoilBone    = PRIMARY Barrel01
      WeaponMuzzleFlash   = PRIMARY TurretMS01
      WeaponLaunchBone = PRIMARY TurretMS01
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVWTank_D
    End
    ConditionState       = RUBBLE
      Model              = AVWTank_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Trojan
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY TrojanTankGun
    ; Uncomment this when we want the crusader to have a machine too again
    ;Weapon               = SECONDARY CrusaderMachineGun
  End
  WeaponSet
    Conditions           = PLAYER_UPGRADE
    Weapon               = PRIMARY TrojanTankScramGun
    ; Uncomment this when we want the crusader to have a machine too again
    ;Weapon               = SECONDARY CrusaderMachineGun
  End

  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End

  BuildCost              = 1000
  BuildTime              = 12.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaWarFactory
    Science = SCIENCE_TrojanTank
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankTrojanCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 320
    InitialHealth   = 320

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_98
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_99
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = WeaponSetUpgrade ModuleTag_40
    TriggeredBy = Upgrade_AmericaScramShells
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_TrojanTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_TrojanTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankM1Abrams

  ; *** ART Parameters ***
  SelectPortrait         = M1A1_L
  ButtonImage            = M1A1

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVAbrams
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone    = PRIMARY TurretMS
      WeaponFireFXBone    = SECONDARY MuzzleFX01 ;BarrelFX
      WeaponLaunchBone    = SECONDARY MuzzleFX01 ;BarrelFX
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVAbrams_D
    End
    ConditionState       = RUBBLE
      Model              = AVAbrams_D1
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:M1A1
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY M1A1TankGun
    Weapon               = SECONDARY M1AbramsTankMachineGun
    PreferredAgainst     = SECONDARY INFANTRY
  End
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End

  BuildCost              = 3000
  BuildTime              = 14.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaWarFactory
    Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankM1A1CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = AbramsTankVoiceSelect
  VoiceMove             = AbramsTankVoiceMove
  VoiceGuard            = AbramsTankVoiceMove
  VoiceAttack           = AbramsTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = AbramsTankVoiceCreate
    VoiceEnter          = AbramsTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 550
    InitialHealth   = 550

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL AbramsLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_98
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_99
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = MaxHealthUpgrade ModuleTag_09
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_AbramsTankDeathExplosion
    OCL = FINAL    OCL_M1A1Turret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_AbramsTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = MaxHealthUpgrade ModuleTag_18
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.1

End

;------------------------------------------------------------------------------
Object AirF_PointDefenseLaserBeam
  ; *** ART Parameters ***
  Draw = W3DLaserDraw ModuleTag_01
     Texture = EXLaser4.tga
    NumBeams = 5                              ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.
    InnerBeamWidth = 0.005                    ;The total width of beam
    InnerColor = R:255 G:0 B:180 A:120          ;The inside color of the laser (hot)
    OuterBeamWidth = 10                       ;The total width of beam
    OuterColor = R:100 G:0 B:100  A:100            ;The outside color of the laser (cool)
    Tile = Yes                                ;The height of the texture will determine how many times to tile the texture to fit without scaling.
    ScrollRate = -2500                        ;Scrolls the texture offset this fast -- towards(-) away(+)
    Segments = 1                              ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
    SegmentOverlapRatio = 0                   ;This value overlaps(+) or separates(-) the segments by ratio
    TilingScalar = -3                         ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)     

    ;MaxIntensityLifetime = 2000              ;Laser stays at max intensity for specified time in ms.
    ;FadeLifetime = 0                         ;Laser will fade and delete.
    ;@todo -- add shot ability functionality (instead of instant point A to B)
  End


  KindOf = IMMOBILE
  ClientUpdate = LaserUpdate ModuleTag_02
    MuzzleParticleSystem = PaladinPointDefenseLaserFlare
    TargetParticleSystem = GenericLaserFlare
  End

  ;Used as a weapon, this is essentially a fast pulse laser. Adjusting
  ;the lifetime values will determine how long it renders. The damage
  ;is applied immediately, so lifetime doesn't matter.
  Behavior = LifetimeUpdate ModuleTag_03
    MinLifetime = 95   ; min lifetime in msec
    MaxLifetime = 95   ; max lifetime in msec
  End
End

;------------------------------------------------------------------
Object AirF_AuroraBombGas

  ; *** ART Parameters ***
  ; *** DESIGN Parameters ***

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE
  Body                  = ActiveBody ModuleTag_01
    MaxHealth           = 1.0
    InitialHealth       = 1.0
  End

  Behavior = PhysicsBehavior ModuleTag_02
    Mass                = 150.0
    AerodynamicFriction = 7  ; this is now friction-per-sec
    ForwardFriction     = 200   ; this is now friction-per-sec
  End
  Behavior = HeightDieUpdate ModuleTag_03
    TargetHeight                     = 40.0
    TargetHeightIncludesStructures   = Yes
    DestroyAttachedParticlesAtHeight = 41.0   ; Hack, todo remove this
  End
  Behavior = SlowDeathBehavior ModuleTag_04
    DestructionDelay        = 1000
    DestructionDelayVariance = 100
    FX                  = INITIAL AirF_FX_AuroraBombIgnite
    FX                  = FINAL   FX_DaisyCutterFinalExplosion
    Weapon              = MIDPOINT   DaisyCutterFlameWeapon    ; Just a spot of flame to light trees on fire
    Weapon              = FINAL   AirF_AuroraBombDetonationWeapon
  End

End

;------------------------------------------------------------------------------
Object AirF_RaptorPointDefenseLaserBeam
  ; *** ART Parameters ***
  Draw = W3DLaserDraw ModuleTag_01
    Texture = EXLaser.tga
    NumBeams = 3                    ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data.

    InnerBeamWidth = 0.4            ;The total width of beam
    InnerColor = R:255 G:255 B:255 A:250  ;The inside color of the laser (hot)

    OuterBeamWidth = 1.2            ;The total width of beam
    OuterColor = R:255 G:0 B:255  A:150 ;The outside color of the laser (cool)
    
    ;MaxIntensityLifetime = 2000     ;Laser stays at max intensity for specified time in ms.
    ;FadeLifetime = 0                ;Laser will fade and delete.

    ;@todo -- add shot ability functionality (instead of instant point A to B)
  End

  KindOf = IMMOBILE
  ClientUpdate = LaserUpdate ModuleTag_02
    MuzzleParticleSystem = PaladinPointDefenseLaserFlare
    TargetParticleSystem = GenericLaserFlare
  End

  ;Used as a weapon, this is essentially a fast pulse laser. Adjusting
  ;the lifetime values will determine how long it renders. The damage
  ;is applied immediately, so lifetime doesn't matter.
  Behavior = LifetimeUpdate ModuleTag_03
    MinLifetime = 95   ; min lifetime in msec
    MaxLifetime = 95   ; max lifetime in msec
  End
End

;------------------------------------------------------------------------------
Object AirF_AuroraBomb

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = EXCarptBmb
    End
  End

  ; ***DESIGN parameters ***
  Side = America
  EditorSorting     = SYSTEM
  ArmorSet
    Conditions      = None
    Armor           = ProjectileArmor
    DamageFX        = None
  End
  VisionRange       = 0.0  

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  KindOf            = PROJECTILE
  Body              = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior              = PhysicsBehavior ModuleTag_03
    Mass                = 75.0
    AerodynamicFriction = 2     ; this is now friction-per-sec
    ForwardFriction     = 2     ; this is now friction-per-sec
    CenterOfMassOffset  = 2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
  End;;
  Behavior = MissileAIUpdate ModuleTag_04
    TryToFollowTarget   = No 
    FuelLifetime        = 0
    IgnitionDelay       = 0
    InitialVelocity     = 0                ; in dist/sec
    DistanceToTravelBeforeTurning = 0
    DistanceToTargetBeforeDiving  = 0
  End
  Locomotor = SET_NORMAL AuroraBombLocomotor   ; yes, that's right.
  Behavior = CreateObjectDie ModuleTag_05
    CreationList = AirF_OCL_AuroraBombExplode
  End
  Behavior = FXListDie ModuleTag_06
    DeathFX = AirF_FX_AuroraBombExplode
  End
  Behavior = HeightDieUpdate ModuleTag_07
    TargetHeight = 50.0
    TargetHeightIncludesStructures = Yes
  End
     


  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 2.0

End


;------------------------------------------------------------------------------
Object AirF_PatriotBinaryDataStream
  ; *** ART Parameters ***
  Draw = W3DLaserDraw ModuleTag_01
    Texture = None;[EXBinaryStream32.tga]* πππππππππ[ À‡„‡ÎË˘Â ¬€–≈«¿ÕŒ ‚ Ô‡Ú˜Â 9.1.19 ]πππππππππ
    NumBeams = 1                      ;Number of overlapping cylinders that make the beam. 1 beam will just use inner data. Current max: 10
    InnerBeamWidth = 4                ;The total width of beam
    InnerColor = R:0 G:255 B:0 A:180  ;The inside color of the laser (hot)
    Tile = Yes                        ;The height of the texture will determine how many times to tile the texture to fit without scaling.
    ScrollRate = -0.25                 ;Scrolls the texture offset this fast -- towards(-) away(+)
    Segments = 20                     ;Number of segments -- more segments give smoother curve (but more joints) Current max: 20
    ArcHeight = 30.0                  ;The height of the arc
    SegmentOverlapRatio = 0.0000      ;This value overlaps(+) or separates(-) the segments by ratio
    TilingScalar = 0.25                ;Stretches tiling if value > 1.0, otherwise shrinks it (1.0 is natural)
 End

  KindOf = IMMOBILE
  ClientUpdate = LaserUpdate ModuleTag_02
    ;nothing
  End

  ; A patriot uses this stream as an event triggered thing, not something turned on and off with a state.
  Behavior = DeletionUpdate ModuleTag_03
    MinLifetime = 600   ; min lifetime in msec
    MaxLifetime = 600   ; max lifetime in msec
  End
End

;--------------------------------
Object AirF_AmericaJetSpectreGunship1

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures



    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
    End


    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End


    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End


    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
  


   OkToChangeModelColor = Yes

   ParticlesAttachedToAnimatedBones = Yes 


 End



  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300

  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresSpectreGunshipArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewSpectreGunshipArmor
    DamageFX              = None
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End


  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 400 ;600   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 10000 ;LEVEL1 (less than normal)!!!!

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End


  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

;;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
;;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
  

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------
Object AirF_AmericaJetSpectreGunship2

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures



    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
    End


    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End


    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End


    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
  


   OkToChangeModelColor = Yes

   ParticlesAttachedToAnimatedBones = Yes 


 End



  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresSpectreGunshipArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewSpectreGunshipArmor
    DamageFX              = None
  End


  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................

  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End


  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 400 ;600   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 15000 ;LEVEL2 (normal)

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End





  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

;;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
;;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
  

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;--------------------------------
Object AirF_AmericaJetSpectreGunship3

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures



    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
    End


    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End


    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End


    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING

   OkToChangeModelColor = Yes

   ParticlesAttachedToAnimatedBones = Yes 

 End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresSpectreGunshipArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = NewSpectreGunshipArmor
    DamageFX   = None
  End
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY   SpectreHowitzerGun
  End
  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = No             ;Not Player built, so no veterancy..............................


  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor
;============================================================================
  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End
;------------------------------------------------------------------------
  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 400 ;600   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 20000 ;LEVEL3 (more than normal)!!!!

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End

  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

;;;;;;;;  ClientUpdate             = AnimatedParticleSysBoneClientUpdate ModuleTag_Client01
;;;;;;;;  End                  ; This allows the wingtip trails to stay stuck to the retractable wings
  

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End
;------------------------------------------------------------------------------
Object AirF_SpectreGunshipHowitzer

  ; *** ART Parameters ***
  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    DefaultConditionState
      Model               = AVSGUNSHIP_GHOW
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponFireFXBone    = SECONDARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY MuzzleFX
    End

  End

  ; ***DESIGN parameters ***
  Side             = AmericaAirForceGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 60   // turn rate, in degrees per sec
      TurretPitchRate     = 60
      AllowsPitch         = Yes
    End
    AutoAcquireEnemiesWhenIdle = No 
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;   Defaults to VisionRange
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 13.0
  GeometryHeight      = 8.0
  GeometryIsSmall     = No      
  Shadow              = NONE

End


;------------------------------------------------------------------------------
Object AirF_AmericaJetB52

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVBomber
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVBomber_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVBomber_A2U
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresAirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_04
    SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter ;?????????????????????????????! ππππππππππππππ
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = AirF_SuperweaponCarpetBomb
    OCL                  = AirF_SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
   
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B52Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_12
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetAurora

  ; *** ART Parameters ***
  SelectPortrait = SAFulArAurora_L
  ButtonImage    = SAFulArAurora

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaBunkerBusters
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model               = AVAuroraAG
      HideSubObject       = BurnerFX03 BurnerFX04
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVAuroraAG_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVAuroraAG_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
  End

  Draw = W3DModelDraw ModuleTag_Draw02
    DefaultConditionState  
      Model = NONE
    End   
    ConditionState = JETEXHAUST JETAFTERBURNER 
      Model = NONE 
    End 
    ConditionState = JETEXHAUST JETAFTERBURNER ATTACKING 
      Model = NONE
    End 
    ConditionState = JETEXHAUST 
      Model = NONE  
    End   
    ConditionState = JETEXHAUST ATTACKING  
      Model = AVAurora_V
      ParticleSysBone  = ENGINE WarheadTrail02
    End  
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AuroraBeta
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 ;180.0 
  ShroudClearingRange = 600
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank3
  End
  BuildCost = 5000 ;3600 ;3200
  BuildTime = 50.0 ;45.0 ;in seconds
;-------------------------------
  MaxSimultaneousOfType = 4
;---------------------------------------------------------------------------------
  WeaponSet
    Conditions = None
    Weapon = PRIMARY AuroraImpulseBombWeapon ;[PrimaryDamage = 500.0/PrimaryDamageRadius = 60.0/ShockWaveAmount = 100.0/ShockWaveRadius = 60.0/ShockWaveTaperOff = 0.33] ;AuroraBombWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY SupW_AuroraFuelBombWeapon ;AuroraImpulseBombWeaponUpg ;[PrimaryDamage = 600.0 / PrimaryDamageRadius = 100.0]
  End
;--------------------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End
  ExperienceValue = 200 200 400 400   ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetAuroraCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = SonicAuroraBomberVoiceSelect
  VoiceMove = AuroraBomberVoiceSuperSonic
  VoiceGuard = AuroraBomberVoiceModeSuperSonic
  VoiceAttack = AuroraBomberVoiceAttack
  VoiceDefect = AuroraBomberVoiceCreate
  SoundAmbient = AuroraBomberAmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate = AuroraBomberVoiceCreate
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    Afterburner = Cin_SonicBoom
    VoiceLowFuel = AuroraBomberVoiceLowFuel
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 120.0 ;100.0 ;80.0 
    InitialHealth = 120.0 ;100.0 ;80.0
  End

  Behavior = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_AuroraAGDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_AuroraDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    ;OCLHitGround                   = None
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_AuroraAGDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_04
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_06
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond    = 10%    ; amount of damage to take per SEC (not per frame) when out of ammo
                                         ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift       = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause                = 500
    MinHeight                   = 5
    SneakyOffsetWhenAttacking   = -20.0  ; this is how far behind us people aim when we are in attack mode
    AttackLocomotorType         = SET_SUPERSONIC
    AttackLocomotorPersistTime  = 100    ; we start slowing down almost immediately
    AttackersMissPersistTime    = 2000   ; but remain untargetable fer a bit longer
    ReturnForAmmoLocomotorType  = SET_SLUGGISH
    ReturnToBaseIdleTime        = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL      AuroraJetLocomotor
  Locomotor = SET_SUPERSONIC  AuroraJetSupersonicLocomotor
  Locomotor = SET_SLUGGISH    AuroraJetSluggishLocomotor
  Locomotor = SET_TAXIING     BasicJetTaxiLocomotor

  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 2; So you can't build multiple upgrades in the same frame
  End
  Behavior = WeaponSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaBunkerBusters
  End

  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End

  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ProductionUpdate ModuleTag_26894
    MaxQueueEntries = 3; So you can't build multiple upgrades in the same frame
  End
;===========================================================================================
;-------------- À‡ÁÂÌ˚Â ÓÚ‡Ê‡ÚÂÎË ‡ÍÂÚ -------------------------------------------------
;-----------------------------------------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate     = AirF_PointDefenseLaser ;<============[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate           = 0
    ScanRange          = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;===========================================================================================
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX              = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.01

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetStealthFighter

  ; *** ART Parameters ***
  SelectPortrait         = SAKStealth_L
  ButtonImage            = SAKStealth

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaLaserMissiles
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor

  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AFStealth
      HideSubObject                   = BurnerFX03 BurnerFX04
      WeaponLaunchBone  = PRIMARY WeaponA
    End
    
    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AFStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AFStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AFStealth_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AFStealth_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    
    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:KingStealthFighter
  EditorSorting         = VEHICLE
  Side                  = AmericaAirForceGeneral
  TransportSlotCount    = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange           = 250.0 ;180
  ShroudClearingRange   = 400   ;300
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY  AFStealthJetMissileWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY   AFStealthJetLaserGuidedMissileWeapon
    ;;;Weapon = SECONDARY Lasr_F-18JetLaserGuidedMissileWeaponDummyWeapon ;¡‡„‡ÌÛÚ‡ˇ ıÂÌ¸!(...
  End
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End
  BuildCost = 1300
  BuildTime = 15.0 ;in seconds  
  ExperienceValue    = 100 100 200 300 ;Experience point value at each level
  ExperienceRequired = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable        = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetStealthFighterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = StealthFighterVoiceSelect
  VoiceMove       = StealthFighterVoiceMove
  VoiceAttack     = StealthFighterVoiceAttack
  VoiceAttackAir  = StealthFighterVoiceAttackAir
  VoiceGuard      = StealthFighterVoiceAirPatrol
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    VoiceCreate   = StealthFighterVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = AuroraBomberVoiceLowFuel
    VoiceGarrison = StealthFighterVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = LOCAL_UNIT_ONLY
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_StealthDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_StealthFighterDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    ;OCLHitGround                   = None
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_StealthDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_04
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
 
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Behavior = WeaponSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;----------------------------------------------------------
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                         = 1500 ; msec
    StealthForbiddenConditions           = FIRING_PRIMARY
    ; not currently used... but maybe someday? (srj)
    ;RevealDistanceFromTarget            = 0.0f
    FriendlyOpacityMin                   = 50.0%
    FriendlyOpacityMax                   = 100.0%
    InnateStealth                        = Yes
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End
;----------------------------------------------------------
  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Locomotor = SET_NORMAL StealthJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
;===========================================================================================
;-------------- À‡ÁÂÌ˚Â ÓÚ‡Ê‡ÚÂÎË ‡ÍÂÚ -------------------------------------------------
;-----------------------------------------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate     = AirF_PointDefenseLaser ;<============[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate           = 0
    ScanRange          = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;===========================================================================================
  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 7.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetA10Thunderbolt

  ; *** ART Parameters ***
  SelectPortrait         = SAWarthog_L
  ButtonImage            = SAWarthog

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ExtraPublicBone = WeaponA01
    ExtraPublicBone = WeaponA02
    ExtraPublicBone = WeaponA03
    ExtraPublicBone = WeaponA04
    ExtraPublicBone = WeaponA05
    ExtraPublicBone = WeaponA06

    DefaultConditionState
      Model             = AVWarthog
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone  = PRIMARY Muzzle01
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Wingtip01 JetContrailThin
      ParticleSysBone = Wingtip02 JetContrailThin
    End

    ConditionState      = REALLYDAMAGED
      Model             = AVWarthog_D
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone  = PRIMARY Muzzle01
    End
    AliasConditionState  = RUBBLE

   ParticlesAttachedToAnimatedBones = Yes 

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:A10Thunderbolt
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY A10ThunderboltVulcan
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End

  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience

  ; *** AUDIO Parameters ***
  SoundAmbient = A10ThunderboltAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    StartDive  = A10ThunderboltDive
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE AIRCRAFT SCORE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetDeathInitial
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = None
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_A10DeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special power is triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = AirF_SuperweaponA10ThunderboltMissileStrike ;@@KRIS@@
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_07
  End
  Locomotor = SET_NORMAL A10ThunderboltLocomotor

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
;;;;;;;;  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetCargoPlane

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = AVCargoPln
      Animation       = AVCargoPln.AVCargoPln
      AnimationMode   = LOOP
      ParticleSysBone = Propeller01 JetBlackTrailThin
      ParticleSysBone = Propeller02 JetBlackTrailThin
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = DAMAGED
      Model           = AVCargoPln_D
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState = REALLYDAMAGED
      Model           = AVCargoPln_D
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVCargoPln_D1
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke06 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke06 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End
    
    OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 

  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CargoPlane
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresAirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponDaisyCutter ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_07
    SpecialPowerTemplate = AirF_SuperweaponCarpetBomb
    OCL                  = AirF_SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_08
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = SUPERWEAPON_CrateDrop
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 

  Behavior = DeliverPayloadAIUpdate ModuleTag_09
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 1000 ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B52Locomotor

  Behavior = TransportContain ModuleTag_10
    Slots = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE 
    ;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_11
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_12
;;;;;;;;  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End


  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End


;------------------------------------------------------------------------------
Object AirF_AmericaInfantrySpecOps

  ; *** ART Parameters ***

  SelectPortrait = XM29Upg ;SpecOps_L
  ButtonImage    = XM29Upg ;SpecOps

  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo2 = Upgrade_AmericaRangerFlashBangGrenade ;;Upgrade_AmericaSmokeGrenade
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  UpgradeCameo5 = Upgrade_GLACamouflage ;Upgrade_AmericaHEGrenade

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      TransitionKey     = TRANS_Stand

    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Grenade Launcher)
    ConditionState      = PREATTACK_B
      Animation         = AIRngr_SKL.AIRngr_ATBA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringB
      WaitForStateToFinishIfPossible = TRANS_FiringB
    End
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATBST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATBST2
      AnimationMode     = ONCE
    End

    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2A
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringBInjured
      WaitForStateToFinishIfPossible = TRANS_FiringBInjured
    End
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
      AnimationMode     = ONCE
    End

    ; --- attacking (Smoke Grenade Launcher)
    ConditionState      = PREATTACK_C
      Animation         = AIRngr_SKL.AIRngr_ATBA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringC
    End
    AliasConditionState = PREATTACK_C MOVING
    AliasConditionState = PREATTACK_C FIRING_C
    AliasConditionState = PREATTACK_C BETWEEN_FIRING_SHOTS_C

    ConditionState      = FIRING_C
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringC
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_C
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringC
      WaitForStateToFinishIfPossible = TRANS_FiringC
    End
    AliasConditionState = RELOADING_C

    TransitionState     = TRANS_Stand TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATBST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringC TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATBST2
      AnimationMode     = ONCE
    End

    ConditionState      = PREATTACK_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2A
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringCInjured
    End
    AliasConditionState = PREATTACK_C MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_C FIRING_C REALLYDAMAGED
    AliasConditionState = PREATTACK_C BETWEEN_FIRING_SHOTS_C REALLYDAMAGED

    ConditionState      = FIRING_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringCInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringCInjured
      WaitForStateToFinishIfPossible = TRANS_FiringCInjured
    End
    AliasConditionState = RELOADING_C REALLYDAMAGED

    TransitionState     = TRANS_StandInjured TRANS_FiringCInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringCInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End


    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING

    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED


    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpecOps
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon            = PRIMARY   SpecOpsRifle
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon            = PRIMARY   SpecOpsRifle
    Weapon            = SECONDARY SpecOpsHEGrenadeWeapon
    Weapon            = TERTIARY  SpecOpsSmokeGrenadeWeapon
    AutoChooseSources = PRIMARY   FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY NONE
    AutoChooseSources = TERTIARY  NONE
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  ArmorSet
    Conditions = None
    Armor      = HumanArmor
    DamageFX   = InfantryDamageFX
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ChemSuitHumanArmor
    DamageFX   = None
  End
  VisionRange = 100.0
  ShroudClearingRange = 400
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
    Object = AirF_AmericaStrategyCenter
  End
  BuildCost = 450 ;550
  BuildTime = 8.0          ;in seconds
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120 ;Experience points needed to gain each level
  IsTrainable = Yes                ;Can gain experience
  CrushableLevel = 0  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaInfantrySpecOpsCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = SpecOpsVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete
 ;------------------------------
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
 ;------------------------------
  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = SpecOpsVoiceModeHE
    VoiceTertiaryWeaponMode = SpecOpsVoiceModeSmoke
  End

  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 280.0
    InitialHealth   = 280.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL AmericaSpecOpsLocomotor ;BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit.
  End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = WeaponSetUpgrade ModuleTag_10
;; TriggeredBy = Upgrade_AmericaSmokeGrenade
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  Behavior = WeaponSetUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaHEGrenade
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End

  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12  ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaChemicalSuits
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End
  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End
;================  ¿Ã”‘Àﬂ∆-√–≈…ƒ : ==========================================================================
  Behavior = StealthUpgrade ModuleTag_ASOPS1 ;_10
    TriggeredBy = Upgrade_GLACamouflage
  End
  Behavior = StealthUpdate ModuleTag_ASOPS2 ;_09
    StealthDelay               = 1250           ; msec
    StealthForbiddenConditions = FIRING_PRIMARY FIRING_SECONDARY FIRING_TERTIARY USING_ABILITY MOVING ;[Œ·Ì‡ÛÊË‚‡ÂÚ ÒÂ·ˇ ÔË: ÒÚÂÎ¸·Â, Á‡ı‚‡ÚÂ «‰‡ÌËÈ Ë ÔÓÒÚÓ ÔË ‰‚ËÊÂÌËË/ıÓ‰¸·Â]
    HintDetectableConditions   = IS_FIRING_WEAPON USING_ABILITY ;IS_FIRING_WEAPON*
    FriendlyOpacityMin         = 30.0%
    FriendlyOpacityMax         = 80.0%
    PulseFrequency             = 500   ; msec
    MoveThresholdSpeed         = 3
    InnateStealth              = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
    EnemyDetectionEvaEvent = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent   = OwnColonelBurtonDetected
  End
;=====================================================================================================

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0
  Scale = 0.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryColonelBurton

  ; *** ART Parameters ***
  SelectPortrait         = SABurton_L
  ButtonImage            = SABurton

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  UpgradeCameo3 = Upgrade_AmericaInfantryHealth

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = AIHERO_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      WeaponFireFXBone    = TERTIARY Muzzle
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
      WeaponLaunchBone    = TERTIARY Muzzle
      HideSubObject     = MUZZLEFX01
    End
 
    
    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End


    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 1.5 1.5
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B 
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED 
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ColonelBurton
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ColonelBurtonSniperRifleWeapon
    Weapon              = SECONDARY   ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY   NONE
    Weapon              = TERTIARY    BurtonGrenade
    AutoChooseSources   = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 150.0
  ShroudClearingRange = 500
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
    Object = AirF_AmericaStrategyCenter
  End
  BuildCost = 2500
  BuildTime = 20.0          ;in seconds  
  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaInfantryColonelBurtonCommandSet

  MaxSimultaneousOfType = 1

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_TERTIARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds

  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
;-------------------------------------
;  ;Hero units can't be squished!
;  Behavior = SquishCollide ModuleTag_13  ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
;    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
;  End

  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End
; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryRangerSTARIK ;[”ÿŒÀ Õ¿ œ≈Õ—»ﬁ XD]

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  UpgradeCameo5 = Upgrade_AmericaInfantryHealth
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX

      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle

      WeaponFireFXBone  = TERTIARY Muzzle     
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_B
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringB TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End
  
    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_C
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_C REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringC TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringC
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringC TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringCInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringCInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End


    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED


    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ranger
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon              = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY None
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
    Weapon              = TERTIARY RangerAdvancedCombatRifleTaunt;RangerTauntWeapon
    AutoChooseSources = TERTIARY None
    ShareWeaponReloadTime = Yes
 End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = ChemSuitHumanArmor
    DamageFX              = None
  End
  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
  End
  BuildCost = 200
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaInfantryRangerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = RangerVoiceModeFlashBang
  End

  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12  ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End
  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End
  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End
  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0

  Scale = 0.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryMissileDefender

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  UpgradeCameo3 = Upgrade_AmericaInfantryHealth
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;***NOTE***
    ;A little history -- the MissileDefender now uses the assets of the TankHunter. 
    ;The TH uses assets of the GLA tunnel defender, and the TD uses assets of the NEW
    ;MD. It was a design/art/code decision because the new missile defender animations
    ;don't suit that of a mobile/offensive unit with packing and unpacking.

    DefaultConditionState
      Model             = NITHNT_SKN
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle

    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = FIRING_A 
      Animation         = NITHNT_SKL.NITHNT_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED

    ConditionState      = MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState      = RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED

    ConditionState      = DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MissileTeam
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY    MissileDefenderMissileWeapon
    Weapon = SECONDARY  MissileDefenderLaserGuidedMissileWeapon ;Controlled by special ability
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 400
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
  End
  BuildCost = 300
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaInfantryMissileDefenderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = MissileDefenderVoiceSelect
  VoiceMove = MissileDefenderVoiceMove
  VoiceGuard = MissileDefenderVoiceMove
  VoiceAttack = MissileDefenderVoiceAttack
  VoiceAttackAir = MissileDefenderVoiceAttack
  VoiceFear = MissileDefenderVoiceFear
  
  UnitSpecificSounds
  VoiceGarrison = MissileDefenderVoiceGarrison
    VoiceCreate          = MissileDefenderVoiceCreate
    VoiceEnter = MissileDefenderVoiceMove
    VoiceGetHealed      = MissileDefenderVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK  ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityMissileDefenderLaserGuidedMissiles
    UpdateModuleStartsAttack = Yes
    InitiateSound = MissileDefenderVoiceAttackLaser
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityMissileDefenderLaserGuidedMissiles
    StartAbilityRange = 200.0
    AbilityAbortRange = 250.0 ;If the target moves outside this range, abort.
    PreparationTime = 1000
    PersistentPrepTime = 500
    SpecialObject = LaserBeam
    SpecialObjectAttachToBone = Muzzle01
  End
 
  Behavior = SquishCollide ModuleTag_10 ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End

  ;Added by JMC on 7/12/03 so that the skirmish AI can tell the missile defenders to hunt using
  ;the laser guided missiles.
;  Behavior = CommandButtonHuntUpdate  ModuleTag_CBHunt ; allows use of command button hunt script with this unit.
;  End



; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MissileDefenderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MissileDefenderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End


; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
; @todo -- this entire unit is "first pass only" and needs lots of specialization
Object AirF_AmericaInfantryPilot

  ; *** ART Parameters ***
  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot
  
  UpgradeCameo1 = Upgrade_AmericaInfantryHealth
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIRPlt_SKN
      IdleAnimation = AIRPlt_SKL.AIRPlt_STA 0 20
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDA 
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState = FREEFALL
      Animation = AIRPlt_SKL.AIRPLT_PFL
      AnimationMode = ONCE
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIRPlt_SKL.AIRPlt_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
      WaitForStateToFinishIfPossible = TRANS_Falling
    End
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = AIRPlt_SKL.AIRPlt_RNA 
      AnimationMode = LOOP
      TransitionKey = TRANS_Stand
      ParticleSysBone     = None InfantryDustTrails
    End
    

    ConditionState = DYING
      Animation = AIRPlt_SKL.AIRPlt_DTA 
      Animation = AIRPlt_SKL.AIRPlt_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIRPlt_SKL.AIRPlt_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIRPlt_SKL.AIRPlt_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIRPlt_SKL.AIRPlt_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AIRPLT_SKL.AIRPLT_CHA
      AnimationMode = LOOP
    End

    ;@TODO -- MISSING ANIMATION FILE
    ;TransitionState = TRANS_Falling TRANS_Chute
    ;  Animation = AIRPLT_SKL.AIRPLT_POP
    ;  AnimationMode = ONCE
    ;  Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    ;End
    
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_PTD
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Pilot
  Side = AmericaAirForceGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1               ;how many "slots" we take in a transport (0 == not transportable)
  ExperienceValue    = 10 10 10 10 ;Experience point value at each level
  ExperienceRequired =  0 1 2 3 ;Experience points needed to gain each level
  IsTrainable     = Yes  ;Can gain experience
  CommandSet = AmericaInfantryPilotCommandSet

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 300
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = PilotVoiceSelect
  VoiceMove = PilotVoiceMove
  VoiceAttack = PilotVoiceMove
  VoiceGarrison = NoSound
  VoiceFear = PilotVoiceFear
  UnitSpecificSounds
    VoiceEnter = PilotVoiceEnter
    VoiceEnterHostile     = PilotVoiceEnter
    VoiceGetHealed      = PilotVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE IGNORES_SELECT_ALL

  Behavior = VeterancyGainCreate ModuleTag_02
    ; omit the "ScienceRequired" so that this upgrade always occurs.
    ; Pilots should never (repeat, never) be less than VETERAN status.
    StartingLevel = VETERAN
  End

  Behavior = VeterancyCrateCollide       ModuleTag_03
    RequiredKindOf = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ForbiddenKindOf = DOZER       ; but not to TRANSPORTs or DOZERs!
    EffectRange = 0               ; 0=="affect only the thing you collide with"
    AddsOwnerVeterancy = Yes      ; we add our own veterancy to the target (rather than just +1 level)
    IsPilot = Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    MinHealth = 0.5 ;  don't enter a vehicle less than 50% healthy.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor
  Locomotor = SET_NORMAL_UPGRADED BasicHumanLocomotorPlus25

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 5.0
  End

  Behavior = LocomotorSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = SquishCollide ModuleTag_11  ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End

  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End
; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End


; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryPathfinder

    ; *** ART Parameters ***
  SelectPortrait         = SAPathfinder1_L
  ButtonImage            = SAPathfinder1
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  UpgradeCameo3 = Upgrade_AmericaInfantryHealth
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Standing
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState  = FIRING_A
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = FIRING_A MOVING
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AIPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_StandingUpgrade
    End
    AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_StandingUpgrade
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
    ConditionState = PREATTACK_A WEAPONSET_PLAYER_UPGRADE
      Animation = AIPFDR_SKL.AIPFDR_DVA
      AnimationMode = ONCE
;      TransitionKey = TRANS_PreAttack
    End
    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE
      Animation = AIPFDR_SKL.AIPFDR_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_LyingDown
;      WaitForStateToFinishIfPossible = TRANS_PreAttack
    End
    AliasConditionState = RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_A WEAPONSET_PLAYER_UPGRADE
    TransitionState = TRANS_LyingDown TRANS_Dying
      Animation = AIPFDR_SKL.AIPFDR_DTB
      AnimationMode = ONCE
    End
    TransitionState = TRANS_LyingDown TRANS_StandingUpgrade
      Animation = AIPFDR_SKL.AIPFDR_SUA
      AnimationMode = ONCE
    End

    ConditionState = SNOW
      Model = ASPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_StandingSnow
    End
    AliasConditionState = REALLYDAMAGED SNOW

    ConditionState = MOVING SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_StandingSnow
      ParticleSysBone   = None InfantryDustTrailsSnow
    End
    AliasConditionState = MOVING REALLYDAMAGED SNOW

    ConditionState  = FIRING_A SNOW
      Model = ASPFDR_SKN
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringASnow
    End
    AliasConditionState = FIRING_A MOVING SNOW
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED SNOW
    AliasConditionState = FIRING_A REALLYDAMAGED SNOW

    ConditionState  = BETWEEN_FIRING_SHOTS_A SNOW
      Model = ASPFDR_SKN
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringASnow
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED SNOW
    AliasConditionState = RELOADING_A SNOW
    AliasConditionState = RELOADING_A REALLYDAMAGED SNOW

    ConditionState = DYING SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_DyingSnow
    End

    TransitionState = TRANS_DyingSnow TRANS_FlailingSnow
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FlailingSnow
    End

    ConditionState = DYING EXPLODED_BOUNCING SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_FallingSnow
    End
    AliasConditionState = FREEFALL DYING SNOW

    ConditionState = PARACHUTING SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_ChuteSnow
    End
    AliasConditionState = PARACHUTING DYING SNOW


    TransitionState = TRANS_FallingSnow TRANS_ChuteSnow
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_ChuteSnow TRANS_StandingSnow
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE SNOW
      Model = ASPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_StandingUpgradeSnow
    End
    AliasConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW
    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_StandingUpgradeSnow
      ParticleSysBone = None InfantryDustTrailsSnow
    End
    AliasConditionState = MOVING REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE SNOW
    ConditionState = PREATTACK_A WEAPONSET_PLAYER_UPGRADE SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_DVA
      AnimationMode = ONCE
;      TransitionKey = TRANS_PreAttack
    End
    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE SNOW
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_LyingDownUpSnow
;      WaitForStateToFinishIfPossible = TRANS_PreAttack
    End
    AliasConditionState = RELOADING_A WEAPONSET_PLAYER_UPGRADE SNOW
    AliasConditionState = BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE SNOW
    AliasConditionState = MOVING FIRING_A WEAPONSET_PLAYER_UPGRADE SNOW
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE SNOW
    AliasConditionState = MOVING RELOADING_A WEAPONSET_PLAYER_UPGRADE SNOW
    TransitionState = TRANS_LyingDownSnow TRANS_DyingSnow
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_DTB
      AnimationMode = ONCE
    End
    TransitionState = TRANS_LyingDownUpSnow TRANS_StandingUpgradeSnow
      Model = ASPFDR_SKN
      Animation = AIPFDR_SKL.AIPFDR_SUA
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Pathfinder
  Side = AmericaAirForceGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY USAPathfinderSniperRifle
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY USAPathfinderSniperRifleExtend
    PreferredAgainst = PRIMARY INFANTRY
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions      = PLAYER_UPGRADE
    Armor           = ChemSuitHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 200
  ShroudClearingRange = 400
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
    Science = SCIENCE_Pathfinder
  End
  BuildCost = 1200
  BuildTime = 10.0   ;in seconds
 ;--------------------------------
  MaxSimultaneousOfType = 8
 ;--------------------------------
  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaInfantryPathfinderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = PathfinderVoiceSelect
  VoiceMove = PathfinderVoiceMove
  VoiceGuard = PathfinderVoiceMove
  VoiceAttack = PathfinderVoiceAttack
  VoiceFear = PathfinderVoiceFear
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = PathfinderVoiceFear
  
  UnitSpecificSounds
    VoiceCreate          = PathfinderVoiceCreate
    VoiceGarrison = PathfinderVoiceGarrison
    VoiceEnter = PathfinderVoiceMove
    VoiceEnterHostile =  PathfinderVoiceMove
    VoiceGetHealed      = PathfinderVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE CANNOT_RETALIATE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End

  Behavior = WeaponSetUpgrade ModuleTag_11
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_08
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 0           ; msec
    StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
    FriendlyOpacityMin          = 30.0%
    FriendlyOpacityMax          = 80.0%
    PulseFrequency              = 500   ; msec
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
 
  Behavior = SquishCollide ModuleTag_10 ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- End Death modules ---

  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object AirF_CountermeasureFlare
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = None
      ParticleSysBone = None CountermeasureFlareParticleSys
    End
  End
  KindOf = PROJECTILE
  Behavior = PhysicsBehavior ModuleTag_03
    Mass = 5
  End
  Behavior = AIUpdateInterface ModuleTag_04
    ; nothing
  End
  Locomotor = SET_NORMAL CountermeasureFlareLocomotor

  Behavior = LifetimeUpdate ModuleTag_05
    MinLifetime = 3000   ; min lifetime in msec
    MaxLifetime = 3000   ; max lifetime in msec
  End


  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 4.0
End

;------------------------------------------------------------------------------
Object AirF_ComancheBlades

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVComanche_D2
      Animation = AVComanche_D2.AVComanche_D2
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Comanche
  Side = AmericaAirForceGeneral

  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD IMMOBILE

  Behavior = PhysicsBehavior ModuleTag_02
    AllowBouncing = Yes
  End
  Behavior = LifetimeUpdate ModuleTag_03
    MinLifetime = 1000   ; min lifetime in msec
    MaxLifetime = 1000   ; max lifetime in msec
  End

  
  Behavior = StealthUpdate ModuleTag_04
    StealthDelay                          = 1500 ; msec
    StealthForbiddenConditions            = FIRING_PRIMARY ATTACKING USING_ABILITY
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = No
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = StealthUpgrade ModuleTag_05
    TriggeredBy = AirF_Upgrade_StealthComanche
  End

End

;------------------------------------------------------------------------------
Object AirF_AmericaParachute

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_FAL
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_OPN
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
    ; this is a weird state to resolve an ambiguity: sometimes
    ; we can have a "rubble" parachute momentarily, that doesn't
    ; know that it has finished parachuting yet...
    ConditionState = RUBBLE PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
  End 

  ; ***DESIGN parameters ***
  Side                = AmericaAirForceGeneral
  EditorSorting       = SYSTEM
  TransportSlotCount  = 0                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL ParachuteLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax = 60           ; deg/sec
    RollRateMax = 60            ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 25.0  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = INFANTRY PARACHUTABLE
    ParachuteOpenSound  = ParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 4000
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0    
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AirF_AmericaCrateParachute

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_FAL
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_OPN
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
    ; this is a weird state to resolve an ambiguity: sometimes
    ; we can have a "rubble" parachute momentarily, that doesn't
    ; know that it has finished parachuting yet...
    ConditionState = RUBBLE PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  Side                = AmericaAirForceGeneral
  EditorSorting       = SYSTEM
  TransportSlotCount  = 0                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL CrateParachuteLocomotor
  Locomotor = SET_FREEFALL CrateFreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax        = 60    ; deg/sec
    RollRateMax         = 60    ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 12.5  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = PARACHUTABLE
    ParachuteOpenSound  = ParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 4000
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0    
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object AirF_LargeParachute

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_FAL
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_OPN
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
    ; this is a weird state to resolve an ambiguity: sometimes
    ; we can have a "rubble" parachute momentarily, that doesn't
    ; know that it has finished parachuting yet...
    ConditionState = RUBBLE PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
  End 

  ; ***DESIGN parameters ***
  EditorSorting       = SYSTEM
  TransportSlotCount  = 10                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL ParachuteLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax = 60           ; deg/sec
    RollRateMax = 60            ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 25.0  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = INFANTRY VEHICLE PARACHUTABLE
    ParachuteOpenSound  = ParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 4000
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0    
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleHumvee

  ; *** ART Parameters ***
  SelectPortrait         = SAHummer_L
  ButtonImage            = SAHummer
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaTOWMissile
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_AmericaHellfireDrone
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVHUMMER
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = REALLYDAMAGED
      Model = AVHUMMER_d
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER_d
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Humvee
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY HumveeGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HumveeGun
    Weapon = SECONDARY HumveeMissileWeapon
    Weapon = TERTIARY HumveeMissileWeaponAir
    PreferredAgainst = TERTIARY     AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 320
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL HumveeLocomotor
  Locomotor = SET_NORMAL_UPGRADED HumveeLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_19
    TriggeredBy = Upgrade_AmericaOverhaul
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots             = 5
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaTOWMissile
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSnowMobile

  ; *** ART Parameters ***
  SelectPortrait         = SAHummer_L
  ButtonImage            = SAHummer

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo5 = Upgrade_AmericaHellfireDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = BattleBike
      WeaponFireFXBone = PRIMARY Muzzle_B01 Muzzle_B02
      WeaponMuzzleFlash = PRIMARY MuzzleFX_B01 MuzzleFX_B02
    End

    ConditionState = REALLYDAMAGED
      Model = BattleBike
      WeaponFireFXBone = PRIMARY Muzzle_B01 Muzzle_B02
      WeaponMuzzleFlash = PRIMARY MuzzleFX_B01 MuzzleFX_B02
    End

    TrackMarks = EXTireTrack03.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    LeftRearTireBone            = Tire00
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:SnowMobile
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY SnowMobileMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleATVCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CLIFF_JUMPER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL SMLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots             = 1
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleAPC

  ; *** ART Parameters ***
  SelectPortrait         = APC_L
  ButtonImage            = APC

  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
;  UpgradeCameo3 = Upgrade_AmericaAPCCannon
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVApc
      Turret                          = TURRET
      HideSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
    End

    ConditionState = REALLYDAMAGED
      Model = AVApc
      Turret                          = TURRET
      HideSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVApc
      Turret                          = TURRET
      ShowSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVApc
      Turret                          = TURRET
      ShowSubObject                   = TURRET GATTLING01 HOUSECOLOR03 ;Hide controlled turret
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:APC
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = NONE
    ;Weapon            = PRIMARY APCAssault
    Weapon            = PRIMARY NONE ;Dummy weapon that allows manual targeting of air units outside range;gattling cannon upgrade has been made.
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    ;Weapon            = PRIMARY APCAssault
    Weapon            = PRIMARY HumveeGun ;Dummy weapon that allows manual targeting of air units outside range;gattling cannon upgrade has been made.
  End
  ArmorSet
    Conditions      = None
    Armor           = APCArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 900
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 320
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleAPCCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceUnload
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Behavior = AssaultTransportAIUpdate ModuleTag_NewAI
    MembersGetHealedAtLifeRatio = 0.5
  End

  Locomotor = SET_NORMAL APCLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

;  Behavior = WeaponSetUpgrade ModuleTag_WeaponSetUpgrade01
;    TriggeredBy = Upgrade_AmericaAPCCannon
;  End

;  Behavior = TransportContain  ModuleTag_05
;    PassengersAllowedToFire = No
;    Slots             = 10
;    InitialPayload        = AmericaInitialPayloadInfantry 10
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
;    DamagePercentToUnits = 100% ;10%
;    AllowInsideKindOf  = INFANTRY
;    ExitDelay = 250
;    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
;    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
;  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;----------------------------------------------------------
Object AirF_AmericaVehicleTomahawk

  ; *** ART Parameters ***
  SelectPortrait         = SACTomahawk_L
  ButtonImage            = SACTomahawk
  
  UpgradeCameo1 = Upgrade_AmericaScoutDrone
  UpgradeCameo2 = Upgrade_AmericaBattleDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone
  ;UpgradeCameo5 = XXX
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
      
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model = AVTomahawk
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponHideShowBone = PRIMARY MISSILE
    End

    ConditionState = REALLYDAMAGED
      Model = AVTomahawk_D
    End
    AliasConditionState = RUBBLE
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVTomahawk
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponLaunchBone = SECONDARY WeaponA
      WeaponHideShowBone = PRIMARY MISSILE
      WeaponHideShowBone = SECONDARY MISSILE
    End

    TrackMarks           = EXTnkTrack.tga

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Tomahawk
  Side = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost       = 1300
  BuildTime       = 20.0          ;in seconds    
  VisionRange     = 180
  ShroudClearingRange = 200
  Prerequisites
    Object = AirF_AmericaWarFactory
    Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TomahawkMissileWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY TomahawkMissileWeapon
    Weapon = SECONDARY AirF_TomahawkMissileWeaponUpgraded
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    ShareWeaponReloadTime = Yes
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AirF_AmericaVehicleTomahawkCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TomahawkVoiceSelect
  VoiceMove = TomahawkVoiceMove
  VoiceGuard = TomahawkVoiceMove
  VoiceAttack = TomahawkVoiceAttack
  SoundMoveStart = TomahawkMoveStart
  SoundMoveStartDamaged = TomahawkMoveStart
  
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate = TomahawkVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoopLoud
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = TomahawkVoiceCrush
    VoiceEnter = TomahawkVoiceMove
    VoiceBombard = TomahawkVoiceAttack
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 180.0
    InitialHealth   = 180.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 60   ; turn rate, in degrees per sec
      TurretPitchRate = 60
      FirePitch = 70  ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No NotWhileAttacking
  End
  Locomotor = SET_NORMAL TomahawkLocomotor
  
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleTomahawkDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_15
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = DestroyDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

;  Behavior = FXListDie
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    DeathFX = FX_GenericTankDeathEffect
;  End
; Behavior = CreateObjectDie
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_GenericTankDeathEffect
;  End
  Behavior = EjectPilotDie ModuleTag_13
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  
  Behavior = TransitionDamageFX ModuleTag_14
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME 
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length   

End

;------------------------------------------------------------------------------
; Also known as the Ambulance
Object AirF_AmericaVehicleMedic

  ; *** ART Parameters ***
  SelectPortrait         = SAAmbulance_L
  ButtonImage            = SAAmbulance
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01

    ConditionState = NONE
      Model = AVAmbulance
      Turret = Turret
      TurretPitch = TurretEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVAmbulance_D
      Turret = Turret
      TurretPitch = TurretEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End      
    
    ConditionState       = RUBBLE
      Model              = AVAmbulance_D
    End      
    
    TrackMarks = EXTireTrack.tga
    OkToChangeModelColor = Yes

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition = 2.5    ; This speed is added to the rotation speed when powersliding.


  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Medic
  Side = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet 
    ;*** Fully automated and driven by the CleanupHazardUpdate ***
    Conditions        = None 
    Weapon            = PRIMARY AmbulanceCleanHazardWeapon 
    AutoChooseSources = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = ToxinTruckArmor 
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = AirF_AmericaWarFactory
    ;Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue    = 50 50 50 50 ;Experience point value at each level
  IsTrainable     = No
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleAmbulanceCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect = AmbulanceVoiceSelect
  VoiceMove = AmbulanceVoiceMove
  VoiceGuard = AmbulanceVoiceMove
  VoiceAttack = AmbulanceVoiceDetox
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = AmbulanceVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush          = AmbulanceVoiceCrush
    VoiceEnter = AmbulanceVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = CleanupHazardUpdate ModuleTag_03
    WeaponSlot            = PRIMARY
    ScanRate              = 1000
    ScanRange             = 100.0 ;If this range exceeds the AmbulanceCleanHazardWeapon AttackRange, it'll move!
  End

  ;Can be ordered to clean up a larger area with the ability to move around at an extended range.
  Behavior = CleanupAreaPower ModuleTag_04
    SpecialPowerTemplate          = SpecialAbilityAmbulanceCleanupArea
    MaxMoveDistanceFromLocation   = 300.0 ;allows the unit to move around while cleaning up
    InitiateSound = AmbulanceVoiceDetox
  End

  Behavior = TransportAIUpdate ModuleTag_05
   AutoAcquireEnemiesWhenIdle = No  ;CleanupHazardUpdate handles this...
   Turret
      TurretTurnRate = 180
      TurretPitchRate = 180
      AllowsPitch = Yes
      MinPhysicalPitch = -20 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      TurretFireAngleSweep = PRIMARY 25
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL HumveeLocomotor

  Behavior = TransportContain ModuleTag_06
    Slots               = 3
    HealthRegen%PerSec  = 25
    DamagePercentToUnits = 10%
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 0
    FX  = FINAL FX_GenericTankDeathExplosion
    OCL = FINAL OCL_FinalAmbulanceDebris
  End

  Behavior = ObjectCreationUpgrade ModuleTag_09
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_10
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_19
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_11
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior = FXListDie ModuleTag_15
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_GenericTankDeathEffect
  End

  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_17
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.

  End

  Behavior = AutoHealBehavior ModuleTag_22
    HealingAmount     = 4
    HealingDelay      = 1000 ; msec
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = INFANTRY
  End
  Behavior = AutoHealBehavior ModuleTag_23
    HealingAmount     = 8
    HealingDelay      = 1000 ; msec
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = VEHICLE
    ForbiddenKindOf   = AIRCRAFT
    SkipSelfForHealing = Yes
  End

  Behavior = FireWeaponUpdate ModuleTag_180
    Weapon = MedicPulse
    ExclusiveWeaponDelay = 100
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0  ; height set to allow clear clipping of projectile streams   
  GeometryIsSmall = Yes   
  Shadow = SHADOW_VOLUME 

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleBattleDrone

  ; *** ART Parameters ***
  SelectPortrait         = SABattleDrone_L
  ButtonImage            = SABattleDrone
  
  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVBATTLEDR
      Animation = AVBATTLEDR.AVBATTLEDR
      AnimationMode = LOOP
      Turret = Turret01
      TurretPitch = TurretEL01
      WeaponMuzzleFlash = PRIMARY TurretFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = REALLYDAMAGED
      Model = AVBATTLEDR_D
      Animation = AVBATTLEDR_D.AVBATTLEDR_D
      AnimationMode = LOOP
    End
  End

  ;EXTENDING ARM (FOR REPAIRING)
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVBATTLEDR_A
    End

    ;Unloading the arm (before starting to repair)
    ConditionState = UNPACKING
      Animation = AVBATTLEDR_A1.AVBATTLEDR_A1
      AnimationMode = ONCE
    End

    ;Loading the arm (after reparing complete)
    ConditionState = PACKING
      Animation = AVBATTLEDR_A1.AVBATTLEDR_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
    End

    ;Repair extending animation 1 (using bogus condition states -- doesn't justify making a whole new set)
    ConditionState = FIRING_B
      Animation = AVBATTLEDR_A2.AVBATTLEDR_A2
      AnimationMode = ONCE
    End


    ;Repair retracting animation 1 (using bogus condition states -- doesn't justify making a whole new set)
    ConditionState = FIRING_C
      Animation = AVBATTLEDR_A2.AVBATTLEDR_A2
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
    End

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BattleDrone
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY BattleDroneMachineGun
  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = SmallTankDamageFX
  End

  BuildCost           = 105
  BuildTime           = 5.0          ;in seconds    
  VisionRange         = 150
  ShroudClearingRange = 150
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue     = 10 10 10 10 ;Experience point value at each level
  IsTrainable         = No
  
  ; *** AUDIO Parameters ***
  VoiceSelect         = NoSound
  VoiceMove           = NoSound
  VoiceAttack         = NoSound
  SoundMoveStart      = NoSound
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart   = NoSound
    TurretMoveLoop    = TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SELECTABLE CAN_ATTACK DRONE NO_SELECT
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate        = 360   // turn rate, in degrees per sec
      TurretPitchRate       = 360
      MinPhysicalPitch      = -75 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BattleDroneLocomotor
  Locomotor = SET_PANIC BattleDronePanicLocomotor   ;used for repairing master (zippy)
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
    KillWhenRestingOnGround = Yes
    AllowBouncing = No
  End

  Behavior = MaxHealthUpgrade ModuleTag_06
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 25.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = SlavedUpdate ModuleTag_07
    GuardMaxRange = 35      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 35   ;How far away I'm allowed to wander from master while guarding.
    AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 10  ;How far I'm allowed to wander from target.
    ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
    RepairRange = 8         ;How far I can zip around while repair (only moves when he stops welding)
    RepairMinAltitude = 18.0   ;My minimum repair hover altitude.
    RepairMaxAltitude = 24.0   ;My maximum repair hover altitude.
    RepairRatePerSecond = 10.0 ;How many health points can I repair per second.
    RepairWhenBelowHealth% = 60 ;How low should my master's health be (in %) before I should prioritize repairing.
    RepairMinReadyTime = 300
    RepairMaxReadyTime = 750
    RepairMinWeldTime = 250
    RepairMaxWeldTime = 500
    RepairWeldingSys = BlueSparks
    RepairWeldingFXBone = Muzzle02
    StayOnSameLayerAsMaster = Yes
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End

  Behavior = UpgradeDie  ModuleTag_12
    ;This frees the object based upgrade for the producer object.
    DeathTypes = ALL
    UpgradeToRemove     = Upgrade_AmericaBattleDrone ModuleTag_13
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleScoutDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAScout_L
  ButtonImage            = SAScout
  
  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVScoutDr
      Animation = AVScoutDr.AVScoutDr
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVScoutDr_d
      Animation = AVScoutDr_d.AVScoutDr_d
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ScoutDrone
  Side = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = SmallTankDamageFX
  End
  BuildCost       = 100
  BuildTime       = 5.0          ;in seconds    
  VisionRange     = 200
  ShroudClearingRange = 550
  IsTrainable     = No  ;Can gain experience
  
  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  SoundMoveStart = NoSound

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SELECTABLE DRONE NO_SELECT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 60   // turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL DroneLocomotor
  Behavior = StealthDetectorUpdate ModuleTag_04
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
    KillWhenRestingOnGround = Yes
    AllowBouncing = No
  End

  Behavior = SlavedUpdate ModuleTag_06
    GuardMaxRange = 35      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 35   ;How far away I'm allowed to wander from master while guarding.
    AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 10  ;How far I'm allowed to wander from target.
    ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
    DistToTargetToGrantRangeBonus = 30 ;How close I have to be to the master's target in order to grant master a range bonus.
    StayOnSameLayerAsMaster = Yes
  End

  Behavior = MaxHealthUpgrade ModuleTag_07
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 25.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaScoutDroneExplode
  End
  Behavior                 = FXListDie ModuleTag_10
    DeathTypes = ALL
    DeathFX           = FX_AmericaScoutDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_11
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End

  Behavior = UpgradeDie  ModuleTag_12
   ;This frees the object based upgrade for the producer object.
   DeathTypes = ALL
   UpgradeToRemove      = Upgrade_AmericaScoutDrone ModuleTag_13
  End


  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 3.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleHellfireDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAHellfire_L
  ButtonImage            = SAHellfire
  
  UpgradeCameo1 = Upgrade_AmericaDroneArmor
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVHellDrone
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState = REALLYDAMAGED
      Model = AVHellDrone_d
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:HellfireDrone
  Side = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = SmallTankDamageFX
  End
  BuildCost       = 310
  BuildTime       = 5.0          ;in seconds    
  VisionRange     = 100
  ShroudClearingRange = 500
  IsTrainable     = No  ;Can gain experience
  
  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  SoundMoveStart = NoSound

  WeaponSet
    Conditions = NONE 
    Weapon = PRIMARY HellfireMissileWeapon
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SELECTABLE CAN_ATTACK DRONE NO_SELECT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 360   // turn rate, in degrees per sec
      TurretPitchRate = 360   // turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL HellfireDroneLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
    KillWhenRestingOnGround = Yes
    AllowBouncing = No
  End
  Behavior = SlavedUpdate ModuleTag_06
    GuardMaxRange = 35      ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange = 35   ;How far away I'm allowed to wander from master while guarding.
    AttackRange = 75        ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange = 10  ;How far I'm allowed to wander from target.
    ScoutRange = 75         ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange = 10   ;How far I'm allowed to wander from scout point.
    StayOnSameLayerAsMaster = Yes
  End

  Behavior = MaxHealthUpgrade ModuleTag_07
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 25.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaScoutDroneExplode
  End
  Behavior                 = FXListDie ModuleTag_10
    DeathTypes = ALL
    DeathFX           = FX_AmericaScoutDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_11
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End

  Behavior = UpgradeDie  ModuleTag_12
   ;This frees the object based upgrade for the producer object.
   DeathTypes = ALL
   UpgradeToRemove      = Upgrade_AmericaHellfireDrone ModuleTag_13
  End


  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 3.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSpyDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAScout_L
  ButtonImage            = SAScout
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVSpyDrone
      Animation = AVSpyDrone.AVSpyDrone
      AnimationMode = LOOP
    End

; Damage state waiting for pristine's approval (or may just not need one)
;    ConditionState = REALLYDAMAGED
;      Model = AVSpyDrone_d
;      Animation = AVSpyDrone_d.AVSpyDrone_d
;      AnimationMode = LOOP
;    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SpyDrone
  Side = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = SmallTankDamageFX
  End
  VisionRange     = 250
  ShroudClearingRange = 0; Dynamic range below
  IsTrainable     = No 
  
  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound
  VoiceMove = NoSound
  VoiceAttack = NoSound
  SoundMoveStart = NoSound

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE DRONE SELECTABLE INERT NO_SELECT IGNORED_IN_GUI
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 250.0
    InitialHealth   = 250.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = No
  End

  Locomotor = SET_NORMAL SpyDroneLocomtor

  Behavior = DynamicShroudClearingRangeUpdate ModuleTag_04
    FinalVision = 350.0
    ChangeInterval = 50
    ShrinkDelay = 2000
    ShrinkTime = 1000
    GrowDelay = 0
    GrowTime = 1000
    GrowInterval = 10 ; Faster than most

    GridDecalTemplate
      Texture           = EXGrid
      Style             = SHADOW_ADDITIVE_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 500
      Color             = R:32 G:64 B:128 A:0 //dim blue, additive
    End

  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 50.0
  End

  Behavior = DestroyDie ModuleTag_07
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie ModuleTag_08
    DeathTypes = ALL
    CreationList      = OCL_AmericaScoutDroneExplode
  End
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 0 ; msec
    StealthForbiddenConditions  = NONE
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Behavior = MaxHealthUpgrade ModuleTag_10
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 3.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;USA Construction Dozer or USDozer
Object AirF_AmericaVehicleDozer

  ; *** ART Parameters ***
  SelectPortrait         = AirWorker
  ButtonImage            = AirWorker
  
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = AVCONSTDOZ_A
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeLight
      WaitForStateToFinishIfPossible = TRANS_DIGGING
    End

    ConditionState = PREATTACK_A 
      Animation         = AVCONSTDOZ_A.AVCONSTDOZ_A
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      ParticleSysBone   = DIRTFX01 DozerDirtFall ;gush of dirt
      TransitionKey     = TRANS_DIGGING
    End

    ConditionState = MOVING
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING
    End

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED
    End

    ConditionState = PREATTACK_A REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      Animation         = AVCONSTDOZ_AD.AVCONSTDOZ_AD
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      TransitionKey     = TRANS_DIGGING_DAMAGED
    End

    ConditionState      = MOVING REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED
    End


    TrackMarks            = EXTireTrack2.tga
    Dust                  = RocketBuggyDust
    DirtSpray             = RocketBuggyDirtSpray

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.

    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    LeftRearTireBone      = TIRE03
    RightRearTireBone     = TIRE04

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

  ParticlesAttachedToAnimatedBones = Yes 

  End


  ; ***DESIGN parameters ***{[OBJECT:HelicopterBase][OBJECT:AirF_HelicopterSkyCrane]}
  DisplayName         = OBJECT:Dozer
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 5 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 1000
  BuildTime           = 5.0 ; in seconds
  VisionRange         = 200
  ShroudClearingRange = 200

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL 
    Weapon = PRIMARY DozerMineDisarmingWeapon
  End

  ArmorSet
    Conditions        = None
    Armor             = DozerArmor ;Special Explosion-Proof Armor
    DamageFX          = TankDamageFX
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaDozerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerUSAVoiceSelect
  VoiceMove           = DozerUSAVoiceMove
  VoiceGuard          = DozerUSAVoiceMove
  VoiceTaskComplete   = DozerUSAVoiceBuildComplete
  SoundMoveStart      = DozerUSAMoveStart
  SoundMoveStartDamaged = DozerUSAMoveStart
  UnitSpecificSounds
    VoiceCreate           = DozerUSAVoiceCreate
    VoiceNoBuild          = DozerUSAVoiceBuildNot
    VoiceCrush            = DozerUSAVoiceCrush
    VoiceRepair           = DozerUSAVoiceRepair
    VoiceDisarm           = DozerUSAVoiceClearMine
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceEnter            = DozerUSAVoiceMove
    VoiceBuildResponse    = DozerUSAVoiceBuild
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER
 
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 250.0
    InitialHealth     = 250.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End

  Locomotor = SET_NORMAL AmericaVehicleDozerLocomotor

  Behavior            = PhysicsBehavior ModuleTag_04
    Mass              = 75.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_05
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior                 = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaDozerCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaDozerCommandSet
  End

  Behavior = ProductionUpdate ModuleTag_18
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 100
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_AmericaDozerExplode  
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End   

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_22
;;;;;;;;  End

  Behavior               = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX         = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;------------------------------------------------------------------------------
;Sentry Drone
Object AirF_AmericaVehicleSentryDrone ;[ œÛÎÂÏÂÚÌ˚È Óı‡ÌÌ˚È ‰ÓÌ ]

  ; *** ART Parameters ***
  SelectPortrait         = SAsentry_L ;SAASentry
  ButtonImage            = SAsentry   ;SAASentry
  
  UpgradeCameo1 = Upgrade_AmericaSentryDroneGun
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTankDraw ModuleTag_01
    
    InitialRecoilSpeed   = 10
    MaxRecoilDistance    = 1.5
    RecoilSettleSpeed    = 3

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = AVSENTRYLG
      Animation                       = AVSENTRYLG.AVSENTRYLG
      AnimationMode                   = LOOP
      Turret                          = TURRET01
      HideSubObject                   = TURRETUP09  ;Hide controlled turret
      WeaponFireFXBone                = PRIMARY   Muzzle01
      WeaponMuzzleFlash               = PRIMARY   TurretFX
      WeaponRecoilBone                = PRIMARY   TurretUp
      WeaponLaunchBone                = PRIMARY   Muzzle01
    End
    ConditionState                    = REALLYDAMAGED
      Turret                          = TURRET01
      Model                           = AVSENTRYLG_D
      Animation                       = AVSENTRYLG_D.AVSENTRYLG_D
      AnimationMode                   = LOOP
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    ConditionState                    = RUBBLE
      Model                           = AVSENTRY_D1
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    AliasConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE 
    
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model                           = AVSENTRYLG
      Animation                       = AVSENTRYLG.AVSENTRYLG
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVSENTRYLG_D
      Animation                       = AVSENTRYLG_D.AVSENTRYLG_D
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End
       TrackMarks           = EXTnkTrack.tga
       TreadDebrisLeft      = SentryDroneTrackDebrisDirtLeft
       TreadDebrisRight     = SentryDroneTrackDebrisDirtRight
       TreadAnimationRate   = 4.0  ; amount of tread texture to move per second
    End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY Lazr_SentryDroneGun
  End
  ArmorSet
    Conditions      = None
    Armor           = SentryDroneArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 250
  BuildTime       = 8.0 ;[10.0]* ;in seconds
  VisionRange     = 200
  ShroudClearingRange = 350
  Prerequisites
    Object = AirF_AmericaCommandCenter AirF_GPSSatelite
  End

  ExperienceValue = 25 25 50 100 ;50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = Lazr_AmericaVehicleSentryDroneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = NoSound
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = NoSound
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE
;====================================================
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;====================================================
  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaSentryDroneGun
  End
;====================================================
  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 180
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = No
      RecenterTime          = 1000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = No
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes; Stealthed ; Means "Yes when idle, even if I am stealthed"
    PackTime = 1000
    UnpackTime = 1000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
  End

  Locomotor = SET_NORMAL SentryLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY MOVING
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate            = 900   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange           = 215 ;Dustin, enable this for independant balancing!
  End
  
  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Scale = 0.8
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;Sentry Drone
Object AirF_AmericaVehicleSentryDrone2m ;[ –‡ÍÂÚÌ˚È Óı‡ÌÌ˚È ‰ÓÌ ]

  ; *** ART Parameters ***
  SelectPortrait         = SARSentry_L
  ButtonImage            = SARSentry
  
  UpgradeCameo1 = Upgrade_AmericaSentryDroneGun ;Upgrade_AmericaTOWMissile
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTankDraw ModuleTag_01
    
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = AVSENTRYSW
      Animation                       = AVSENTRYSW.AVSENTRYSW
      AnimationMode                   = LOOP
      Turret                          = TURRET01
      HideSubObject                   = TURRETUP09  ;Hide controlled turret
      WeaponFireFXBone                = PRIMARY   Muzzle01
      WeaponLaunchBone                = PRIMARY   Muzzle01
    End
    ConditionState                    = REALLYDAMAGED
      Turret                          = TURRET01
      Model                           = AVSENTRYSW_D
      Animation                       = AVSENTRYSW_D.AVSENTRYSW_D
      AnimationMode                   = LOOP
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    ConditionState                    = RUBBLE
      Model                           = AVSENTRY_D1
      HideSubObject                   = TURRETUP09      ;Hide controlled turret
    End
    AliasConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE 
    
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model                           = AVSENTRYSW
      Animation                       = AVSENTRYSW.AVSENTRYSW
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVSENTRYSW_D
      Animation                       = AVSENTRYSW_D.AVSENTRYSW_D
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End
       TrackMarks           = EXTnkTrack.tga
       TreadDebrisLeft      = SentryDroneTrackDebrisDirtLeft
       TreadDebrisRight     = SentryDroneTrackDebrisDirtRight
       TreadAnimationRate   = 4.0  ; amount of tread texture to move per second
     End


  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = AmericaAirForceGeneral ;AmericaSuperWeaponGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY SupW_SentryDroneGun
  End
  ArmorSet
    Conditions      = None
    Armor           = SentryDroneArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 300
  BuildTime       = 8.0 ;[10.0]* ;in seconds
  VisionRange     = 200
  ShroudClearingRange = 350
  Prerequisites
    Object = AirF_AmericaCommandCenter AirF_GPSSatelite
  End
 ;---------------------------
  MaxSimultaneousOfType = 8
 ;---------------------------
  ExperienceValue = 25 25 50 100 ;50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = No             ;Can gain experience
  CrusherLevel           = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = AmericaVehicleSentryDroneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = NoSound
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = SentryDroneVoiceSelect
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 350.0
    InitialHealth   = 350.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
;============================================================================
  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaSentryDroneGun ;Upgrade_AmericaTOWMissile
  End
;============================================================================
  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 180
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = No
      RecenterTime          = 1000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = No
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes; Stealthed ; Means "Yes when idle, even if I am stealthed"
    PackTime = 1000
    UnpackTime = 1000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
  End

  Locomotor = SET_NORMAL SentryLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY MOVING
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_709
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate            = 900   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange           = 200 ;Dustin, enable this for independant balancing!
  End
  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Scale = 0.8
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankAvengerLaserTurret ; Seperate turret object so it can attack independantly

  ; *** ART Parameters ***
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TURRET01
    ExtraPublicBone = TURRETEL
    ExtraPublicBone = TURRETEL01

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model         = AVAVNGER_G
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End

    ConditionState = REALLYDAMAGED
      Model         = AVAVNGER_GD
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  Side             = AmericaAirForceGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AvengerAirLaserOne
    Weapon = SECONDARY AvengerAirLaserTwo
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 180   ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500 ; default is 2000
  End

  Behavior             = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankAvenger

  ; *** ART Parameters ***
  SelectPortrait         = RocketAvenger ;SAAvnger_L
  ButtonImage            = RocketAvenger ;SAAvnger
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaHellfireDrone

  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TurretFX03
    ExtraPublicBone = LazerSpot01
    ExtraPublicBone = LazerSpot02
    ExtraPublicBone = FIREPOINT01
    DefaultConditionState
      Model               = AVAVNGER
      TurretPitch = TURRETEL01
      Turret = TURRET01
    End
    
    ConditionState        = REALLYDAMAGED
      Model               = AVAVNGER_D
    End
    
    ConditionState        = RUBBLE
      Model               = AVAVNGER_D1
    End
    
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Avenger
  Side = America
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AvengerTargetDesignator
    Weapon = SECONDARY AvengerBuildingAirDummy
  End

  ArmorSet
    Conditions = None
    Armor      = AntiAirVehicle
    DamageFX   = TankDamageFX
  End
  BuildCost = 1000
  BuildTime = 20.0 ;20.0 ;25.0 ;[27.0]*  ;in seconds    
  VisionRange     = 250.0 ;150.0
  ShroudClearingRange = 300
  Prerequisites
   Object = AirF_AmericaWarFactory
  End

  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level

  IsTrainable    = Yes
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaTankAvengerCommandSet
    
  ; *** AUDIO Parameters ***
  VoiceSelect = AvengerVoiceSelect
  VoiceMove = AvengerVoiceMove
  VoiceGuard = AvengerVoiceMove
  VoiceAttack = AvengerVoicePaint
  VoiceAttackAir = AvengerVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = AvengerVoiceCreate
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = AvengerVoiceMove
  End

    ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
;    ModifierBonusPerOverkillPercent = 30%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End
    Locomotor = SET_NORMAL_UPGRADED HumveeLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_1339
    TriggeredBy = Upgrade_AmericaOverhaul
  End
  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_06
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 50
    DestructionDelay = 2000
    DestructionDelayVariance = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_AvengerTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion 
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AvengerPointDefenseLaserOne
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = Lazr_AmericaTankAvengerRocketTurret
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End

 Behavior = ObjectCreationUpgrade ModuleTag_08
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_09
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End 
  Behavior = ObjectCreationUpgrade ModuleTag_19
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End


  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End
  Behavior = EjectPilotDie ModuleTag_17
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = VeterancyGainCreate ModuleTag_24
    StartingLevel = VETERAN
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End
;-------------------------------------------------
Object Lazr_AmericaTankAvengerRocketTurret ; Seperate turret object so it can attack independantly

  ; *** ART Parameters ***
  SelectPortrait         = SNPropSpeaker_L
  ButtonImage            = SNPropSpeaker
  
  UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo2 = Upgrade_ChinaUraniumShells
  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = Upgrade_AmericaLaserBatteries
  UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TURRET01
    ExtraPublicBone = TURRETEL
    ExtraPublicBone = TURRETEL01

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model         = avavnger_r
      WeaponFireFXBone    = PRIMARY TURRETFX
      WeaponLaunchBone    = PRIMARY TURRETFX
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End

    ConditionState = REALLYDAMAGED
      Model         = avavnger_rd
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  Side             = AmericaLaserGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AvengerRockets
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 210;180  ;Turn rate, in degrees per sec
      TurretPitchRate     = 210;180
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500 ; default is 2000
  End

  Behavior             = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankMicrowave

  ; *** ART Parameters ***
  SelectPortrait         = SAThunderBolt2_L
  ButtonImage            = SAThunderBolt2
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  
  Draw = W3DTankDraw ModuleTag_01

    ExtraPublicBone = WEAPON02 
    OkToChangeModelColor = Yes

    ConditionState  = NONE
      Model         = AVTHUNDRBLT
      ParticleSysBone = PROJECTORGLOW09 MicrowaveLenzflare 
      ParticleSysBone = NONE MicrowaveRotisserie
    End
    ConditionState  = USING_WEAPON_A USING_WEAPON_B USING_WEAPON_C
      Model         = AVTHUNDRBLT
    End
    ConditionState  = REALLYDAMAGED RUBBLE
      Model         = AVTHUNDRBLT_D
      ParticleSysBone = PROJECTORGLOW09 MicrowaveLenzflare 
      ParticleSysBone = NONE MicrowaveRotisserie
    End
    ConditionState  = REALLYDAMAGED RUBBLE USING_WEAPON_A USING_WEAPON_B USING_WEAPON_C
      Model         = AVTHUNDRBLT_D
    End
    
    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Microwave
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End

  WeaponSet
    Conditions          = None 
  ; Weapon              = PRIMARY   MicrowaveTankVehicleDisabler
    Weapon              = PRIMARY MicrowaveTankBuildingDisabler  ;SECONDARY MicrowaveTankBuildingDisabler
    Weapon              = SECONDARY MicrowaveTankBuildingClearer ;TERTIARY  MicrowaveTankBuildingClearer
  End

  BuildCost              = 500
  BuildTime              = 10.0          ;in seconds    
  VisionRange            = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaWarFactory
   ; Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankMicrowaveCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = MicrowaveTankVoiceSelect
  VoiceMove             = MicrowaveTankVoiceMove
  VoiceGuard            = MicrowaveTankVoiceMove
  VoiceAttack           = MicrowaveTankVoiceAttack
  SoundMoveStart        = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = MicrowaveTankVoiceCreate
    VoiceEnter             = MicrowaveTankVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = MicrowaveTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 990
    InitialHealth   = 990

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MicrowaveTankDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_MicrowaveTankDeath_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = MaxHealthUpgrade ModuleTag_18
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_Upgrade01
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Upgrade02
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Upgrade03
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Upgrade04
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_Prod01
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = FireWeaponUpdate ModuleTag_22
    Weapon = MicrowaveTankEmitterWeapon
    ExclusiveWeaponDelay = 1000 ; If we fire a real weapon, we turn this module off for this long
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_24 ; allows use of command button hunt script with this unit. 
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaCommandCenter

  ; *** ART Parameters ***
  SelectPortrait         = SAComCentr_L
  ButtonImage            = SAComCentr
  
  ; ----------------- Main Building ------------------------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ; day ******************************************
    ConditionState       = NONE
      Model              = ABBtCmdHQA
      Animation          = ABBtCmdHQA.ABBtCmdHQA
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED
      Model              = ABBtCmdHQA_D
      Animation          = ABBtCmdHQA_D.ABBtCmdHQA_D
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABBtCmdHQA_E
      Animation          = ABBtCmdHQA_E.ABBtCmdHQA_E
      AnimationMode      = LOOP
    End


    ; night ****************************************
    ConditionState       = NIGHT
      Model              = ABBtCmdHQA_N
      Animation          = ABBtCmdHQA_N.ABBtCmdHQA_N
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED NIGHT
      Model              = ABBtCmdHQA_DN
      Animation          = ABBtCmdHQA_DN.ABBtCmdHQA_DN
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABBtCmdHQA_EN
      Animation          = ABBtCmdHQA_EN.ABBtCmdHQA_EN
      AnimationMode      = LOOP
     End    

    
    ; Snow
    ConditionState       = SNOW
      Model              = ABBtCmdHQA_S
      Animation          = ABBtCmdHQA_S.ABBtCmdHQA_S
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED SNOW
      Model              = ABBtCmdHQA_DS
      Animation          = ABBtCmdHQA_DS.ABBtCmdHQA_DS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABBtCmdHQA_ES
      Animation          = ABBtCmdHQA_ES.ABBtCmdHQA_ES
      AnimationMode      = LOOP
     End    
    
    ; night snow ****************************************
    ConditionState       = NIGHT SNOW
      Model              = ABBtCmdHQA_NS
      Animation          = ABBtCmdHQA_NS.ABBtCmdHQA_NS
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABBtCmdHQA_DNS
      Animation          = ABBtCmdHQA_DNS.ABBtCmdHQA_DNS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABBtCmdHQA_ENS
      Animation          = ABBtCmdHQA_ENS.ABBtCmdHQA_ENS
      AnimationMode      = LOOP
     End 

    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQA
      Animation          = ABBtCmdHQA.ABBtCmdHQA
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQA_D
      Animation          = ABBtCmdHQA_D.ABBtCmdHQA_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQA_E
      Animation          = ABBtCmdHQA_E.ABBtCmdHQA_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABBtCmdHQA_N
      Animation          = ABBtCmdHQA_N.ABBtCmdHQA_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABBtCmdHQA_DN
      Animation          = ABBtCmdHQA_DN.ABBtCmdHQA_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABBtCmdHQA_EN
      Animation          = ABBtCmdHQA_EN.ABBtCmdHQA_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABBtCmdHQA_S
      Animation          = ABBtCmdHQA_S.ABBtCmdHQA_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABBtCmdHQA_DS
      Animation          = ABBtCmdHQA_DS.ABBtCmdHQA_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABBtCmdHQA_ES
      Animation          = ABBtCmdHQA_ES.ABBtCmdHQA_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABBtCmdHQA_NS
      Animation          = ABBtCmdHQA_NS.ABBtCmdHQA_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABBtCmdHQA_DNS
      Animation          = ABBtCmdHQA_DNS.ABBtCmdHQA_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABBtCmdHQA_ENS
      Animation          = ABBtCmdHQA_ENS.ABBtCmdHQA_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************************************************************************************************
    
   End

; ----------------- the factory door -------------------
  Draw                = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End


    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_A7D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT DAMAGED
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_A7E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW NIGHT
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED


    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOOR_1_CLOSING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
  End
  
  PlacementViewAngle  = -135

  ; ------------ Radar Extending -----------------
  Draw                = W3DModelDraw ModuleTag_03
    ConditionState    = None
      Model           = ABBtCmdHQ_AC
      Animation       = ABBtCmdHQ_AC.ABBtCmdHQ_AC
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_ACD
      Animation       = ABBtCmdHQ_ACD.ABBtCmdHQ_ACD
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_ACE
      Animation       = ABBtCmdHQ_ACE.ABBtCmdHQ_ACE
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_AC
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_ACD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_ACE
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End

  ; ----------------- The Door ------------------------
  Draw = W3DModelDraw ModuleTag_04
  
    DefaultConditionState
      Model           = ABBtCmdHQ_A7

      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW
       
    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End  
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
     
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
    
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_A7D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_A7E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

  End    

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5
      Animation       = ABBtCmdHQ_A5.ABBtCmdHQ_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5N
      Animation       = ABBtCmdHQ_A5N.ABBtCmdHQ_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5S
      Animation       = ABBtCmdHQ_A5S.ABBtCmdHQ_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5SN
      Animation       = ABBtCmdHQ_A5SN.ABBtCmdHQ_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBtCmdHQ_A3
      Animation       = ABBtCmdHQ_A3.ABBtCmdHQ_A3
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBtCmdHQ_A3N
      Animation       = ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBtCmdHQ_A3S
      ; @todo srj -- not found
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBtCmdHQ_A3SN
      Animation       = ABBtCmdHQ_A3SN.ABBtCmdHQ_A3SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3
      Animation       = ABBtCmdHQ_A3.ABBtCmdHQ_A3
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3N
      Animation       = ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3S
      ; @todo srj -- not found
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3S
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  
  PlacementViewAngle  = -135

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:CommandCenter
  Side                  = AmericaAirForceGeneral
  EditorSorting         = STRUCTURE
 ;------------------------------------------------
  BuildCost        = 2000
  RefundValue      = 10  ;÷ÂÌ‡ Á‡ ÔÓ‰‡ÊÛ Á‰‡ÌËˇ
 ;------------------------------------------------
  BuildTime        = 45.0       ;in seconds
 ;------------------------------------------------
  EnergyProduction      = 0   ;Command Center should be free
  CommandSet            = AirF_AmericaCommandCenterCommandSet
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  VisionRange         = 300.0     ;Shroud clearing distance
  ShroudClearingRange = 300
;================================================================================
;---------[¬–≈Ã≈ÕÕ¿ﬂ «¿Ã≈Õ¿ - ƒÀﬂ œ–Œ—ÃŒ“–¿ Ë Œ“¡Œ–¿  ¿–“]-----------------------
;--------------------------------------------------------------------------------
;;VisionRange         = 100000.0  ;Shroud clearing distance AND targeting range
;;ShroudClearingRange = 100000
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  ArmorSet
    Conditions = None
    Armor      = StructureArmorTough
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
 ;------------------------------
  MaxSimultaneousOfType = 1 ;3
 ;------------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect           = CommandCenterUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY
  Body                = StructureBody ModuleTag_08
    MaxHealth         = 12000.0 ;8000.0 ;5000.0 ;πππππππππππ
    InitialHealth     = 12000.0 ;8000.0 ;5000.0 ;πππππππππππ

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 5200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;======================================================
  Behavior = GrantUpgradeCreate ModuleTag_09
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
;======================================================
  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 1
    DoorOpeningTime              = 1500  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 1500  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
;======================================================
  Behavior = RadarUpdate ModuleTag_12
    RadarExtendTime   = 4000     ;in mSeconds
  End
;======================================================
  Behavior = DefaultProductionExitUpdate ModuleTag_13
    UnitCreatePoint   = X:-18.0  Y: 35.0   Z:0.0
    NaturalRallyPoint = X: 60.0  Y: 35.0   Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = BaseRegenerateUpdate ModuleTag_14
    ;No data
  End
  Behavior = DestroyDie ModuleTag_15
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_16
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = CreateObjectDie ModuleTag_17
    CreationList = AirF_OCL_AmericanRangerDebris10 ;OCL_AmericanRangerDebris10
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_18
    DeathFX = FX_StructureMediumDeath
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = RadarUpgrade ModuleTag_19
    TriggeredBy = Upgrade_AmericaRadar                   ;[–‡‰‡ ÌÂ ·Û‰ÂÚ ÓÚÍÎ˛˜∏Ì ËÁ-Á‡ ‰ÂÙËˆËÚ‡ ˝ÌÂ„ÓÔÓÚÂ·ÎÂÌËˇ]πππππππππππππππππππππππππππππππ
    DisableProof  = Yes ; Won't be disabled by power low ;<========[“≈—“: ƒÓ·‡‚ËÎ Ò˛‰‡ ˝ÚÛ ÒÚÓÍÛ ÍÓ‰‡ ‚ÁˇÚÛ˛ Û GLA-¯ÌÓ„Ó –‡‰‡ÌÓ„Ó ÙÛ„ÓÌ‡]πππππππ
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = OCLSpecialPower ModuleTag_2000
    SpecialPowerTemplate = SuperweaponMOABSpecial ;<========[Ã‡Ú¸ ‚ÒÂı ·ÓÏ·]
    OCL                  = AirF_SUPERWEAPON_MOAB
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior = OCLSpecialPower ModuleTag_20
    SpecialPowerTemplate = SuperweaponDaisyCutter
    OCL                  = AirF_SUPERWEAPON_DaisyCutter
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior = OCLSpecialPower ModuleTag_21
    SpecialPowerTemplate = AirF_SpecialPowerSpyDrone
    OCL                  = AirF_SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior = OCLSpecialPower ModuleTag_22
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 AirF_SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 AirF_SUPERWEAPON_Paradrop2
    OCL                  = AirF_SUPERWEAPON_Paradrop1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
    OCLAdjustPositionToPassable = Yes ;Like RA2, shift target to passable cell so we don't land in water and on cliffs.
  End 
  Behavior = OCLSpecialPower ModuleTag_24000
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior = OCLSpecialPower ModuleTag_25
    SpecialPowerTemplate = SuperweaponCrateDrop
    OCL                  = AirF_SUPERWEAPON_CrateDrop
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
;=============================================================[Õ‡ÎÂÚ ¿-10 ]======================================
  Behavior = OCLSpecialPower ModuleTag_26
    SpecialPowerTemplate = AirF_SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = AirF_SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior = OCLSpecialPower ModuleTag_27
    SpecialPowerTemplate = Early_SuperweaponEmergencyRepair
    UpgradeOCL           = Early_SCIENCE_EmergencyRepair3 SUPERWEAPON_RepairVehicles3
    UpgradeOCL           = Early_SCIENCE_EmergencyRepair2 SUPERWEAPON_RepairVehicles2
    OCL                  = SUPERWEAPON_RepairVehicles1
    CreateLocation       = CREATE_AT_LOCATION
  End
;==================================================[›ÒÍ‡‰ÓÌ F-22"Raptor"]================
  Behavior = OCLSpecialPower ModuleTag_5F22R
    SpecialPowerTemplate = SuperweaponRaptorStrike
    OCL                  = SUPERWEAPON_RaptorAttack
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
;===================================================[ —·ÓÒ œ‡‡·ÓÏ·: ]===================
  Behavior    = OCLSpecialPower ModuleTag_35PB
    SpecialPowerTemplate = SuperweaponParabombs
    OCL                  = SUPERWEAPON_Parabomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
;=========================================================================================

  Behavior = GrantUpgradeCreate ModuleTag_24
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End

  Behavior = FlammableUpdate ModuleTag_30
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = SpecialAbility ModuleTag_32
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  ;Kris: Order matters -- process in order of highest level to lowest level technology.
  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_3
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship3
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship3
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
                           ;other choices are: *NEAR_SOURCE *FARTHEST_FROM_SOURCE *NEAR_TARGET
  End
  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_2
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship2
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship2
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
                           ;other choices are: *NEAR_SOURCE *FARTHEST_FROM_SOURCE *NEAR_TARGET
  End
  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_1
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship1
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship1
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_FARTHEST_FROM_TARGET
                           ;other choices are: *NEAR_SOURCE *FARTHEST_FROM_SOURCE *NEAR_TARGET
  End

  Geometry            = BOX
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 70.0
  GeometryHeight      = 49.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaPowerPlant

  ; *** ART Parameters ***
  SelectPortrait         = SAPowerPlantAF_L
  ButtonImage            = SAPowerPlantAF

  UpgradeCameo1 = Upgrade_AirFAmericaAdvancedControlRods

; ---- the building itself ------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState       = NONE;
      Model              = ABPWRPLANT
      Animation          = ABPWRPLANT.ABPWRPLANT
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED
      Model              = ABPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke 
      ParticleSysBone    = Smoke05 SmolderingSmoke 
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge 
      ParticleSysBone    = Fire02 SmolderingFireLarge
      ParticleSysBone    = Fire03 SmolderingFireLarge
      ParticleSysBone    = Spark01 LiveWireSparks
    End

    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED ;
      Model = ABPWRPLANT
      Animation     = ABPWRPLANT.ABPWRPLANT
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_D
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_E
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End

    ; night 
    ConditionState = NIGHT;
      Model = ABPWRPLANT_N
      Animation     = ABPWRPLANT_N.ABPWRPLANT_N
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABPWRPLANT_DN
      Animation          = ABPWRPLANT_DN.ABPWRPLANT_DN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
      ParticleSysBone    = Sparks03 LiveWireSparks02
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT;
      Model = ABPWRPLANT_EN
      Animation     = ABPWRPLANT_EN.ABPWRPLANT_EN
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks01 LiveWireSparks
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_N
      Animation     = ABPWRPLANT_N.ABPWRPLANT_N
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED
      Model              = ABPWRPLANT_DN
      Animation          = ABPWRPLANT_DN.ABPWRPLANT_DN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_EN
      Animation     = ABPWRPLANT_EN.ABPWRPLANT_EN
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    
    
        ; day ********************************************
    ConditionState       = SNOW
      Model              = ABPWRPLANT_S
      Animation          = ABPWRPLANT_S.ABPWRPLANT_S
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABPWRPLANT_DS
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABPWRPLANT_ES
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke 
      ParticleSysBone    = Smoke05 SmolderingSmoke 
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge 
      ParticleSysBone    = Fire02 SmolderingFireLarge
      ParticleSysBone    = Fire03 SmolderingFireLarge
      ParticleSysBone    = Spark01 LiveWireSparks
    End


    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED SNOW;
      Model = ABPWRPLANT_S
      Animation     = ABPWRPLANT_S.ABPWRPLANT_S
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_DS
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_ES
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End


    ; night 
    ConditionState = NIGHT SNOW;
      Model = ABPWRPLANT_NS
      Animation     = ABPWRPLANT_NS.ABPWRPLANT_NS
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABPWRPLANT_DNS
      Animation          = ABPWRPLANT_DNS.ABPWRPLANT_DNS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
      ParticleSysBone    = Sparks03 LiveWireSparks02
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW;
      Model = ABPWRPLANT_ENS
      Animation     = ABPWRPLANT_ENS.ABPWRPLANT_ENS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks01 LiveWireSparks
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_NS
      Animation     = ABPWRPLANT_NS.ABPWRPLANT_NS
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED SNOW
      Model              = ABPWRPLANT_DNS
      Animation          = ABPWRPLANT_DNS.ABPWRPLANT_DNS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_ENS
      Animation     = ABPWRPLANT_ENS.ABPWRPLANT_ENS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPWRPLANT_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABPWRPLANT_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABPWRPLANT_DN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABPWRPLANT_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPWRPLANT_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABPWRPLANT_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABPWRPLANT_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABPWRPLANT_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABPWRPLANT_DNS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABPWRPLANT_ENS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    ;**************************************************************************************************************************

  End

  ; ------------ construction-zone fence -----------------

  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPwrPlant_A4SN
      Animation       = ABPwrPlant_A4SN.ABPwrPlant_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A4SN
      Animation       = ABPwrPlant_A4SN.ABPwrPlant_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = ONCE

      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5
      Animation       = ABPwrPlant_A5.ABPwrPlant_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5N
      Animation       = ABPwrPlant_A5N.ABPwrPlant_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5S
      Animation       = ABPwrPlant_A5S.ABPwrPlant_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5SN
      Animation       = ABPwrPlant_A5SN.ABPwrPlant_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABPwrPlant_AB
      Animation       = ABPwrPlant_AB.ABPwrPlant_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABPwrPlant_ABN
      Animation       = ABPwrPlant_ABN.ABPwrPlant_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABPwrPlant_ABS
      Animation       = ABPwrPlant_ABS.ABPwrPlant_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABPwrPlant_ABSN
      Animation       = ABPwrPlant_ABSN.ABPwrPlant_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABPwrPlant_AB
      Animation       = ABPwrPlant_AB.ABPwrPlant_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABPwrPlant_ABN
      Animation       = ABPwrPlant_ABN.ABPwrPlant_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABPwrPlant_ABS
      Animation       = ABPwrPlant_ABS.ABPwrPlant_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABPwrPlant_ABSN
      Animation       = ABPwrPlant_ABSN.ABPwrPlant_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
; ---- the control rods -----
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes

    ; no upgrade
    ConditionState = NONE
      Model ABPWRPLANTAF_A1
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT

    ConditionState = DAMAGED
      Model ABPWRPLANTA_A1D
    End
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE
      Model ABPWRPLANTA_A1E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPWRPLANTAF_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPWRPLANTA_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABPWRPLANTA_A1E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ; first to upgrade
    ConditionState = POWER_PLANT_UPGRADING
      Model ABPWRPLANTAF_A1
      Animation     = ABPWRPLANTAF_A1.ABPWRPLANTAF_A1
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = POWER_PLANT_UPGRADING SNOW
    AliasConditionState = POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADING
      Model ABPWRPLANTA_A1D
      Animation     = ABPWRPLANTA_A1D.ABPWRPLANTA_A1D
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING
      Model ABPWRPLANTA_A1E
      Animation     = ABPWRPLANTA_A1E.ABPWRPLANTA_A1E
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW NIGHT

    ; already upgraded
    ConditionState = POWER_PLANT_UPGRADED
      Model ABPWRPLANTAF_A1
      Animation     = ABPWRPLANTAF_A1.ABPWRPLANTAF_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = POWER_PLANT_UPGRADED SNOW
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model ABPWRPLANTA_A1D
      Animation     = ABPWRPLANTA_A1D.ABPWRPLANTA_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model ABPWRPLANTA_A1E
      Animation     = ABPWRPLANTA_A1E.ABPWRPLANTA_A1E
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW NIGHT
 
  
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    ;**************************************************************************************************************************
  
  End
  
  
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ColdFusionReactor
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
;    Object = AirF_AmericaCommandCenter
  End
  BuildCost        = 800
  BuildTime        = 10.0           ; in seconds
;-----------------------------------
  EnergyProduction = 10 ;7
  EnergyBonus      = 6  ;7
;-----------------------------------
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions     = None
    Armor          = StructureArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = AirF_AmericaPowerPlantCommandSet
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = ColdFusionReactorSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 800.0
    InitialHealth   = 800.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = PowerPlantUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AirFAmericaAdvancedControlRods
  End

  Behavior = BaseRegenerateUpdate ModuleTag_08
    ;No data
  End
  Behavior = PowerPlantUpdate ModuleTag_09
    RodsExtendTime = 600
  End

  Behavior = DestroyDie ModuleTag_10
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_11
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = CreateObjectDie ModuleTag_12
    CreationList = AirF_OCL_AmericanRangerDebris02 ;OCL_AmericanRangerDebris02
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_13
    DeathFX = FX_StructureSmallDeath
  End

  Behavior = ProductionUpdate ModuleTag_14
    ; nothing
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 30.0
  GeometryHeight      = 46.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_SDILasers
  Draw                     = W3DModelDraw ModuleTag_01
    OkToChangeModelColor   = Yes
    ConditionState         = NONE
      Model                = ABSDILink_L
      Animation            = ABSDILink_L.ABSDILink_L
      AnimationMode        = ONCE
    End
  End
  Behavior = LifetimeUpdate ModuleTag_02
    MinLifetime = 3000   ; min lifetime in msec
    MaxLifetime = 3000   ; max lifetime in msec
  End
  Body = HighlanderBody ModuleTag_03
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Behavior            = DestroyDie ModuleTag_04
    ;<NO DATA>
  End
End

;------------------------------------------------------------------------------

Object AirF_AmericaStrategyCenter

  ; *** ART Parameters ***
  SelectPortrait         = SAStrategyCenter_L
  ButtonImage            = SAStrategyCenter

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ***************************************************
    ConditionState = NONE
      Model              = ABStrategy
      Animation          = ABStrategy.ABStrategy
      AnimationMode      = LOOP
    End
    ConditionState = DAMAGED
      Model              = ABStrategy_D
      Animation          = ABStrategy_D.ABStrategy_D
      AnimationMode      = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = ABStrategy_E
      Animation          = ABStrategy_E.ABStrategy_E
      AnimationMode      = LOOP
    End
       
    ; SNOW ***************************************************
    ConditionState = SNOW
      Model              = ABStrategy_S
      Animation          = ABStrategy_S.ABStrategy_S
      AnimationMode      = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model              = ABStrategy_DS
      Animation          = ABStrategy_DS.ABStrategy_DS
      AnimationMode      = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model              = ABStrategy_ES
      Animation          = ABStrategy_ES.ABStrategy_ES
      AnimationMode      = LOOP
    End
    
    ; night **************************************************
    ConditionState = NIGHT
      Model              = ABStrategy_N
      Animation          = ABStrategy_N.ABStrategy_N
      AnimationMode      = ONCE_BACKWARDS
      Flags              = START_FRAME_FIRST
    End
    ConditionState = NIGHT DAMAGED
      Model              = ABStrategy_DN
      Animation          = ABStrategy_DN.ABStrategy_DN
      AnimationMode      = LOOP
    End
    ConditionState = NIGHT REALLYDAMAGED RUBBLE
      Model              = ABStrategy_EN
      Animation          = ABStrategy_EN.ABStrategy_EN
      AnimationMode      = LOOP
    End
    
    ; night Snow**************************************************
    ConditionState = NIGHT SNOW
      Model              = ABStrategy_NS
      Animation          = ABStrategy_NS.ABStrategy_NS
      AnimationMode      = ONCE_BACKWARDS
      Flags              = START_FRAME_FIRST
    End
    ConditionState = NIGHT DAMAGED SNOW
      Model              = ABStrategy_DNS
      Animation          = ABStrategy_DNS.ABStrategy_DNS
      AnimationMode      = LOOP
    End
    ConditionState = NIGHT REALLYDAMAGED RUBBLE SNOW
      Model              = ABStrategy_ENS
      Animation          = ABStrategy_ENS.ABStrategy_ENS
      AnimationMode      = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy
      Animation          = ABStrategy.ABStrategy
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABStrategy_D
      Animation          = ABStrategy_D.ABStrategy_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABStrategy_E
      Animation          = ABStrategy_E.ABStrategy_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABStrategy_N
      Animation          = ABStrategy_N.ABStrategy_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABStrategy_DN
      Animation          = ABStrategy_DN.ABStrategy_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABStrategy_EN
      Animation          = ABStrategy_EN.ABStrategy_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABStrategy_S
      Animation          = ABStrategy_S.ABStrategy_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABStrategy_DS
      Animation          = ABStrategy_DS.ABStrategy_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABStrategy_ES
      Animation          = ABStrategy_ES.ABStrategy_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABStrategy_NS
      Animation          = ABStrategy_NS.ABStrategy_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABStrategy_DNS
      Animation          = ABStrategy_DNS.ABStrategy_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABStrategy_ENS
      Animation          = ABStrategy_ENS.ABStrategy_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End

    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT

      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5
      Animation       = ABStrategy_A5.ABStrategy_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5N
      Animation       = ABStrategy_A5N.ABStrategy_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End

    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5S
      Animation       = ABStrategy_A5S.ABStrategy_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5SN
      Animation       = ABStrategy_A5SN.ABStrategy_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABStrategy_AB
      Animation       = ABStrategy_AB.ABStrategy_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABStrategy_ABN
      Animation       = ABStrategy_ABN.ABStrategy_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABStrategy_ABS
      Animation       = ABStrategy_ABS.ABStrategy_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABStrategy_ABSN
      Animation       = ABStrategy_ABSN.ABStrategy_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABStrategy_AB
      Animation       = ABStrategy_AB.ABStrategy_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABStrategy_ABN
      Animation       = ABStrategy_ABN.ABStrategy_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABStrategy_ABS
      Animation       = ABStrategy_ABS.ABStrategy_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABStrategy_ABSN
      Animation       = ABStrategy_ABSN.ABStrategy_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ BOMBARDMENT BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_1_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = NONE
    End
    AliasConditionState = DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE


    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A1
      Animation          = ABStrategy_A1.ABStrategy_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    ;**************************************************************************************************************************

    
  End
  
  Draw = W3DModelDraw ModuleTag_06
    ;***This is the bombardment cannon object that only shows up when ready to fire***
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A8
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponRecoilBone                = PRIMARY Barrel
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      HideSubObject   = Chassis
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = ABStrategy_A8
      ShowSubObject   = Chassis
    End
    AliasConditionState = DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT SNOW
    
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE

    
  End

  ; ------------ HOLD THE LINE BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_07
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_2_OPENING
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_2_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DOOR_2_OPENING
    AliasConditionState = SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    
    ConditionState    = DOOR_2_CLOSING
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_2_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_2_CLOSING
    AliasConditionState = SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_TO_CLOSE
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
        
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    ;************************************************************************************************************************** 
  End

  ; ------------ SEARCH AND DESTROY BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_08
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_3_OPENING
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_3_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DOOR_3_OPENING
    AliasConditionState = SNOW DOOR_3_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ConditionState    = DOOR_3_CLOSING
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_3_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_3_CLOSING
    AliasConditionState = SNOW DOOR_3_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    
    ConditionState    = DOOR_3_WAITING_TO_CLOSE
      Model           = NONE
    End
    AliasConditionState = DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
        
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    ;**************************************************************************************************************************
    
    
  End
  Draw = W3DModelDraw ModuleTag_09
    ;***This is the radar array that only shows up when plan is active***
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = NONE
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_3_WAITING_TO_CLOSE
      Model           = ABStrategy_A3
      Animation       = ABStrategy_A3.ABStrategy_A3
      AnimationMode   = LOOP
    End
    AliasConditionState = DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    
  End
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:StrategyCenter
  Side = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = AirF_AmericaWarFactory AirF_AmericaAirfield
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  CommandSet = AirF_AmericaStrategyCenterCommandSet
  BuildCost = 2500
  BuildTime = 40.0 ;42.0    ; in seconds
 ;-----------------------------
  MaxSimultaneousOfType = 2
 ;-----------------------------
  EnergyProduction = -2
  VisionRange      = 400.0  ; Shroud clearing distance
  ShroudClearingRange = 400
;===============================================================================
  ; WeaponSet
    ; Conditions = None 
    ; Weapon            = PRIMARY AirF_StrategyCenterMissileWeapon
    ; AutoChooseSources = PRIMARY NONE
  ; End
  WeaponSet
    Conditions = None 
    Weapon            = PRIMARY StrategyCenterGun
    AutoChooseSources = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 250 250 250 250  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = StrategyCenterSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;These aren't playing properly, will revisit. (mp) StrategyCenter_TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH IMMUNE_TO_CAPTURE
  Body = StructureBody ModuleTag_10
    MaxHealth       = 4000.0 ;2800.0 ;[2500.0]*
    InitialHealth   = 4000.0 ;2800.0 ;[2500.0]*
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = ProductionUpdate ModuleTag_11
    ; nothing
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;=============================================[“–» “≈√¿ –¿ƒ¿–¿: “ÂÔÂ¸ ÒÔÛÚÌËÍÓ‚Û˛ ÏËÌË-Í‡ÚÛ ‚Ë‰ÌÓ ÒÚ‡ÁÛ ÒÓ ÒÚ‡Ú‡ Ë„˚]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                   ;[–‡‰‡ ÌÂ ·Û‰ÂÚ ÓÚÍÎ˛˜∏Ì ËÁ-Á‡ ‰ÂÙËˆËÚ‡ ˝ÌÂ„ÓÔÓÚÂ·ÎÂÌËˇ]πππππππππππππππππππππππππππππππ
    DisableProof  = Yes ; Won't be disabled by power low ;<========[“≈—“: ƒÓ·‡‚ËÎ Ò˛‰‡ ˝ÚÛ ÒÚÓÍÛ ÍÓ‰‡ ‚ÁˇÚÛ˛ Û GLA-¯ÌÓ„Ó –‡‰‡ÌÓ„Ó ÙÛ„ÓÌ‡]πππππππ
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[¬ÂÏˇ Á‡‰ÂÊÍË ‡ÒÔÓÒÚ‡ÌÂÌËˇ ‡‰‡‡ ‚ ÏÒÂÍÛÌ‰‡ı]
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = BaseRegenerateUpdate ModuleTag_12
    ;No data
  End 

  Behavior = SpecialAbility ModuleTag_13
    SpecialPowerTemplate = SpecialAbilityChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_14
    SpecialPowerTemplate              = SpecialAbilityChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 7000
    HoldTheLinePlanAnimationTime      = 7000
    SearchAndDestroyPlanAnimationTime = 7000
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE AIRCRAFT DRONE   ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 5000 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.9 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.2 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = Yes
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO

  ;Revealing info
  ;VisionObjectName = VisionObject

  End

  Behavior = AIUpdateInterface ModuleTag_15
    Turret
      ControlledWeaponSlots    = PRIMARY
      TurretTurnRate      = 180 ;[60]*  ;Turn rate, in degrees per sec
      TurretPitchRate     = 180 ;[60]*
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
      NaturalTurretAngle = -90  ; this turret points backwards normally

      FirePitch           = 45       ; Instead of aiming pitchwise at the target, it will aim here
      MinIdleScanInterval = 500    ; in milliseconds
      MaxIdleScanInterval = 1000   ; in milliseconds
      MinIdleScanAngle    = 0      ; in degrees off the natural turret angle
      MaxIdleScanAngle    = 60     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  End

  Behavior = StealthDetectorUpdate ModuleTag_16
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    InitiallyDisabled = Yes   ; only will be active when search & destroy plan active.
    DetectionRange    =  500    ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior = SpyVisionUpdate SpyTag_2
    ;<NO DATA>
  End

  Behavior = DestroyDie ModuleTag_17
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_18
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = CreateObjectDie ModuleTag_19
    CreationList = AirF_OCL_AmericanRangerDebris04
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_20
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_23
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
;=======================================================================================================
  Behavior = OCLSpecialPower ModuleTag_12012
   SpecialPowerTemplate = SuperweaponClusterBomb
   OCL                  = AirF_SUPERWEAPON_ClusterBomb ;<=================[ŒÒÍÓÎÓ˜Ì‡ˇ ·ÓÏ·‡ ¡-2"ƒÛı"]
  End
;======================================================================================================
  Behavior = OCLSpecialPower ModuleTag_24
    SpecialPowerTemplate = AirF_SuperweaponCarpetBomb
    OCL                  = AirF_SUPERWEAPON_CarpetBomb ;<=================[ Ó‚Ó‚Í‡ ¡-2"ƒÛı"]
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End 
;=======================================================================================================

  Geometry            = BOX
  GeometryMajorRadius = 62.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End


;=============[ ÕÓ‚˚È ¿˝Ó‰ÓÏ Ì‡ 6 Ò‡ÏÓÎ∏ÚÓ‚ ÍË‰ËÚÓ‚‡ÌÌ˚È ËÁ ÏÓ‰‡ Revolution 0.30.1 “ËÔÓ»‚‡Ì‡, 27.01.2018 ~{MODoGEN}~ ]====================
Object AirF_AmericaAirfield

  ; *** ART Parameters ***

  SelectPortrait = RevolutionAirfieldJet6_L
  ButtonImage    = RevolutionAirfieldJet6

  ;;UpgradeCameo1 = Upgrade_AmericaFactoryCostReduction

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway1Parking2
    ExtraPublicBone = Runway1Parking3
    ExtraPublicBone = Runway2Parking1 
    ExtraPublicBone = Runway2Parking2 
    ExtraPublicBone = Runway2Parking3 
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway1Park3Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway2Park2Han 
    ExtraPublicBone = Runway2Park3Han 
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = Runway1Prep2 
    ExtraPublicBone = Runway1Prep3 
    ExtraPublicBone = Runway2Prep1 
    ExtraPublicBone = Runway2Prep2 
    ExtraPublicBone = Runway2Prep3 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayEnd1 
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = HeliPark01

    OkToChangeModelColor = Yes

    ; day ********************************************
    DefaultConditionState
      Model              = ABXAirfield
      Animation          = ABXAirfield.ABXAirfield
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TURRETEL01
    End
    ConditionState       = DAMAGED
      Model              = ABXAirfield_D
      Animation          = ABXAirfield_D.ABXAirfield_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABXAirfield_E
      Animation          = ABXAirfield_E.ABXAirfield_E
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
    End
    
    ConditionState       = SNOW
      Model              = ABXAirfield_S
      Animation          = ABXAirfield_S.ABXAirfield_S
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABXAirfield_DS
      Animation          = ABXAirfield_DS.ABXAirfield_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABXAirfield_ES
      Animation          = ABXAirfield_ES.ABXAirfield_ES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
    End

    ; night ******************************************
    ConditionState       = NIGHT
      Model              = ABXAirfield_N
      Animation          = ABXAirfield_N.ABXAirfield_N
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABXAirfield_DN
      Animation          = ABXAirfield_DN.ABXAirfield_DN
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABXAirfield_EN
      Animation          = ABXAirfield_EN.ABXAirfield_EN
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT SNOW
      Model              = ABXAirfield_NS
      Animation          = ABXAirfield_NS.ABXAirfield_NS
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABXAirfield_DNS
      Animation          = ABXAirfield_DNS.ABXAirfield_DNS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABXAirfield_ENS
      Animation          = ABXAirfield_ENS.ABXAirfield_ENS
      AnimationMode      = LOOP

    End
    
       ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABXAirfield
      Animation          = ABXAirfield.ABXAirfield
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABXAirfield_D
      Animation          = ABXAirfield_D.ABXAirfield_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABXAirfield_E
      Animation          = ABXAirfield_E.ABXAirfield_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABXAirfield_N
      Animation          = ABXAirfield_N.ABXAirfield_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABXAirfield_DN
      Animation          = ABXAirfield_DN.ABXAirfield_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABXAirfield_EN
      Animation          = ABXAirfield_EN.ABXAirfield_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABXAirfield_S
      Animation          = ABXAirfield_S.ABXAirfield_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABXAirfield_DS
      Animation          = ABXAirfield_DS.ABXAirfield_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABXAirfield_ES
      Animation          = ABXAirfield_ES.ABXAirfield_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABXAirfield_NS
      Animation          = ABXAirfield_NS.ABXAirfield_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABXAirfield_DNS
      Animation          = ABXAirfield_DNS.ABXAirfield_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABXAirfield_ENS
      Animation          = ABXAirfield_ENS.ABXAirfield_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End

;**************************************************************************************************************************

  ; ------------ blinky production lights -----------------
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model              = None
    End
    ConditionState       = ACTIVELY_CONSTRUCTING
      Model              = ABXAirfield_A1
      Animation          = ABXAirfield_A1.ABXAirfield_A1
      AnimationMode      = LOOP
    End
  End

  ; ----------------- door #1 -------------------
  Draw                = W3DModelDraw ModuleTag_03
    ConditionState    = NONE
      Model           = ABXAirfield_A7
      Animation       = ABXAirfield_A7.ABXAirfield_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE 
       
    ConditionState    = DOOR_1_OPENING
      Model           = ABXAirfield_A7
      Animation       = ABXAirfield_A7.ABXAirfield_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End 
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = DAMAGED DOOR_1_OPENING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
     
    ConditionState    = DOOR_1_CLOSING
      Model           = ABXAirfield_A7
      Animation       = ABXAirfield_A7.ABXAirfield_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE  DOOR_1_CLOSING
    AliasConditionState = DAMAGED DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABXAirfield_A7
      Animation       = ABXAirfield_A7.ABXAirfield_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    AliasConditionState = DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_WAITING_OPEN
    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABXAirfield_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABXAirfield_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABXAirfield_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End

;**************************************************************************************************************************

  ; ----------------- door #2 -------------------
  Draw                = W3DModelDraw ModuleTag_04
    DefaultConditionState
      Model           = ABXAirfield_A8
      Animation       = ABXAirfield_A8.ABXAirfield_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE 
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE 
    
    
    ConditionState    = DOOR_2_OPENING
      Model           = ABXAirfield_A8
      Animation       = ABXAirfield_A8.ABXAirfield_A8
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_2_OPENING
    AliasConditionState = SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = DAMAGED DOOR_2_OPENING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_2_OPENING
   
       
    ConditionState    = DOOR_2_CLOSING
      Model           = ABXAirfield_A8
      Animation       = ABXAirfield_A8.ABXAirfield_A8
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_2_CLOSING
    AliasConditionState = SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = DAMAGED DOOR_2_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_OPEN
      Model           = ABXAirfield_A8
      Animation       = ABXAirfield_A8.ABXAirfield_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST 
    End 
    AliasConditionState = NIGHT DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    AliasConditionState = DAMAGED DOOR_2_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_2_WAITING_OPEN
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABXAirfield_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABXAirfield_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABXAirfield_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End

;**************************************************************************************************************************
  
  ; ----------------- door #3 -------------------
  Draw                = W3DModelDraw ModuleTag_05
    DefaultConditionState
      Model           = ABXAirfield_A2
      Animation       = ABXAirfield_A2.ABXAirfield_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE
    
    
    ConditionState    = DOOR_3_OPENING
      Model           = ABXAirfield_A2
      Animation       = ABXAirfield_A2.ABXAirfield_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_3_OPENING
    AliasConditionState = SNOW DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DOOR_3_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = DAMAGED DOOR_3_OPENING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ConditionState    = DOOR_3_CLOSING
      Model           = ABXAirfield_A2
      Animation       = ABXAirfield_A2.ABXAirfield_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_3_CLOSING
    AliasConditionState = SNOW DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_3_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = DAMAGED DOOR_3_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    
    ConditionState    = DOOR_3_WAITING_OPEN
      Model           = ABXAirfield_A2
      Animation       = ABXAirfield_A2.ABXAirfield_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
    AliasConditionState = DAMAGED DOOR_3_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_3_WAITING_OPEN
        
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABXAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABXAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABXAirfield_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End
    ;**************************************************************************************************************************

  ; ----------------- door #4 -------------------
  Draw                = W3DModelDraw ModuleTag_06
    DefaultConditionState
      Model           = ABXAirfield_A3
      Animation       = ABXAirfield_A3.ABXAirfield_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW 
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_4_OPENING
      Model           = ABXAirfield_A3
      Animation       = ABXAirfield_A3.ABXAirfield_A3
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_4_OPENING
    AliasConditionState = SNOW DOOR_4_OPENING
    AliasConditionState = NIGHT SNOW DOOR_4_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_4_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_4_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_OPENING
    AliasConditionState = DAMAGED DOOR_4_OPENING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_4_OPENING
    
    ConditionState    = DOOR_4_CLOSING
      Model           = ABXAirfield_A3
      Animation       = ABXAirfield_A3.ABXAirfield_A3
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_4_CLOSING
    AliasConditionState = SNOW DOOR_4_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_4_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_4_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_4_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    AliasConditionState = DAMAGED DOOR_4_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_4_CLOSING
    
    ConditionState    = DOOR_4_WAITING_OPEN
      Model           = ABXAirfield_A3
      Animation       = ABXAirfield_A3.ABXAirfield_A3
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End 
    AliasConditionState = NIGHT DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    AliasConditionState = DAMAGED DOOR_4_WAITING_OPEN
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_4_WAITING_OPEN
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABXAirfield_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABXAirfield_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABXAirfield_A3
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

  End


;***************************************************************************************************************************
;***************************************************************************************************************************
;============ (1) =============> Model = ABArFrcCmd_ ... *******************************************************************

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABArFrcCmd_A4
      Animation       = ABArFrcCmd_A4.ABArFrcCmd_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_A4N
      Animation       = ABArFrcCmd_A4N.ABArFrcCmd_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABArFrcCmd_A4S
      Animation       = ABArFrcCmd_A4S.ABArFrcCmd_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_A4SN
; @todo srj -- missing
      Animation       = ABArFrcCmd_A4SN.ABArFrcCmd_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

;<=========================== Model = ABArFrcCmd_ ... *********************************************************************
;***************************************************************************************************************************
;***************************************************************************************************************************


  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABXAirfield_A6
      Animation       = ABXAirfield_A6.ABXAirfield_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABXAirfield_A6N
      Animation       = ABXAirfield_A6N.ABXAirfield_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABXAirfield_A6S
      Animation       = ABXAirfield_A6S.ABXAirfield_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABXAirfieldA6SN
      Animation       = ABXAirfieldA6SN.ABXAirfieldA6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABXAirfield_A6
      Animation       = ABXAirfield_A6.ABXAirfield_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABXAirfield_A6N
      Animation       = ABXAirfield_A6N.ABXAirfield_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABXAirfield_A6S
      Animation       = ABXAirfield_A6S.ABXAirfield_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABXAirfieldA6SN
      Animation       = ABXAirfieldA6SN.ABXAirfieldA6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABXAirfield_A6
      Animation       = ABXAirfield_A6.ABXAirfield_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABXAirfield_A6N
      Animation       = ABXAirfield_A6N.ABXAirfield_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABXAirfield_A6S
      Animation       = ABXAirfield_A6S.ABXAirfield_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABXAirfieldA6SN
      Animation       = ABXAirfieldA6SN.ABXAirfieldA6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End



;***************************************************************************************************************************
;***************************************************************************************************************************
;========== (2) ================> Model = ABArFrcCmd_ ... ******************************************************************


  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_09
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5
      Animation       = ABArFrcCmd_A5.ABArFrcCmd_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5N
      Animation       = ABArFrcCmd_A5N.ABArFrcCmd_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5S
      Animation       = ABArFrcCmd_A5S.ABArFrcCmd_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABArFrcCmd_A5SN
      Animation       = ABArFrcCmd_A5SN.ABArFrcCmd_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABArFrcCmd_AB
      Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABArFrcCmd_ABN
      Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABArFrcCmd_ABS
      ; @todo srj -- not found
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABArFrcCmd_ABSN
      Animation       = ABArFrcCmd_ABSN.ABArFrcCmd_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABArFrcCmd_AB
      Animation       = ABArFrcCmd_AB.ABArFrcCmd_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_ABN
      Animation       = ABArFrcCmd_ABN.ABArFrcCmd_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABArFrcCmd_ABS
      ; @todo srj -- not found
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABArFrcCmd_ABS
      Animation       = ABArFrcCmd_ABS.ABArFrcCmd_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

;<=========================== Model = ABArFrcCmd_ ... *********************************************************************
;**************************************************************************************************************************
;**************************************************************************************************************************

  PlacementViewAngle = -135 ;[ -45 ]*


  ; ***DESIGN parameters ***

  DisplayName   = OBJECT:Airfield
  Side          = AmericaAirForceGeneral
  EditorSorting = STRUCTURE
  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End
  BuildCost = 1000 ;[800]*
  BuildTime = 15.0            ;in seconds
;-----------------------------
  MaxSimultaneousOfType = 18
;-----------------------------
  EnergyProduction = -1
  VisionRange         = 280.0 ;Shroud clearing distance
  ShroudClearingRange = 280
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 150 150 150 150           ;Experience point value at each level
  CommandSet = AirF_AmericaAirfieldCommandSet ;AmericaAirfieldCommandSet


  ; *** AUDIO Parameters ***

  VoiceSelect          = AirfieldUSASelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End


  ; *** ENGINEERING Parameters ***

  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_AIRFIELD
  Body = StructureBody ModuleTag_10
    MaxHealth     = 2500.0
    InitialHealth = 2500.0
     ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
     ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap        = 2700 ;1700 ???
    SubdualDamageHealRate   = 500
    SubdualDamageHealAmount = 100
  End
;------------------------------------------------------------------------------------------------
  Behavior = CommandSetUpgrade ModuleTag_18
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaAirfieldCommandSetTech
  End
  Behavior = CommandSetUpgrade ModuleTag_20
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaAirfieldCommandSet
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond = 25 ;20 ;[10]* ;<======[ ›ÙÙÂÍÚË‚ÌÓÒÚ¸ ÎÂ˜ÂÌËˇ ‚ ÒÂÍÛÌ‰Û ]
    NumRows             = 3
    NumCols             = 2
    HasRunways          = Yes
    ApproachHeight      = 50
  End
  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 6 ;<=======================[  ÓÎË˜ÂÒÚ‚Ó ÏÂÒÚ ‰Îˇ Ò‡ÏÓÎ∏ÚÓ‚ ]
    DoorOpeningTime              = 2000 ;[2200]* ;in mSeconds
    DoorWaitOpenTime             = 3000          ;in mSeconds
    DoorCloseTime                = 2000 ;[2200]* ;in mSeconds
    ConstructionCompleteDuration = 1000          ;in mSeconds
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End
  Behavior = DestroyDie ModuleTag_14
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = CreateObjectDie ModuleTag_16
    CreationList = AirF_OCL_AmericanRangerDebris05 ;AirF_OCL_AmericanRangerDebris04
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_17
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration     = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500     ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
;====================================================================================================
;-----------------[ »Õ“≈ÀÀ≈ “ ]--------------------------------------------------------------------
  Behavior = AIUpdateInterface ModuleTag_AI
    Turret
      TurretTurnRate        = 200
      TurretPitchRate       = 200
      AllowsPitch           = Yes
      FiresWhileTurning     = Yes
      NaturalTurretPitch    = 0
      GroundUnitPitch       = -20
      MinPhysicalPitch      = -40
      ControlledWeaponSlots = PRIMARY ;<========================[  ÓÌÚÓÎÂ ¬Â‡ÔÓÌ‡ ]
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0      ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360    ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
;====================================================================================================
  Behavior = AutoHealBehavior ModuleTag_R01
    HealingAmount      = 8
    HealingDelay       = 1000 ; msec
    Radius             = 200.0f
    StartsActive       = Yes
    KindOf             = AIRCRAFT
    ForbiddenKindOf    = BOAT
    SkipSelfForHealing = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 110.0
  GeometryMinorRadius = 84.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 10
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End


;------------------------------------------------------------------------------
Object AirF_AmericaSupplyCenter

  ; *** ART Parameters ***
  SelectPortrait         = SASupplyCntr_L
  ButtonImage            = SASupplyCntr
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day **************************************
    ConditionState       = NONE
      Model              = ABSupplyCT
      Animation          = ABSupplyCT.ABSupplyCT
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED
      Model              = ABSupplyCT_D
      Animation          = ABSupplyCT_D.ABSupplyCT_D
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
    End
     ConditionState      = REALLYDAMAGED RUBBLE
      Model              = ABSupplyCT_E
      Animation          = ABSupplyCT_E.ABSupplyCT_E
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
    End

    
    ; day Snow **************************************
    ConditionState       = SNOW
      Model              = ABSupplyCT_S
      Animation          = ABSupplyCT_S.ABSupplyCT_S
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABSupplyCT_DS
      Animation          = ABSupplyCT_DS.ABSupplyCT_DS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
    End
     ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupplyCT_ES
      Animation          = ABSupplyCT_ES.ABSupplyCT_ES
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
    End

    

    ; Night *************************************
      ConditionState     = NIGHT
      Model              = ABSupplyCT_N
      Animation          = ABSupplyCT_N.ABSupplyCT_N
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = DAMAGED NIGHT
      Model              = ABSupplyCT_DN
      Animation          = ABSupplyCT_DN.ABSupplyCT_DN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupplyCT_EN
      Animation          = ABSupplyCT_EN.ABSupplyCT_EN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End

    
    ; Night Snow*************************************
      ConditionState     = NIGHT SNOW
      Model              = ABSupplyCT_NS
      Animation          = ABSupplyCT_NS.ABSupplyCT_NS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = DAMAGED NIGHT SNOW
      Model              = ABSupplyCT_DNS
      Animation          = ABSupplyCT_DNS.ABSupplyCT_DNS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupplyCT_ENS
      Animation          = ABSupplyCT_ENS.ABSupplyCT_ENS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    
        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupplyCT
      Animation          = ABSupplyCT.ABSupplyCT
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSupplyCT_D
      Animation          = ABSupplyCT_D.ABSupplyCT_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSupplyCT_E
      Animation          = ABSupplyCT_E.ABSupplyCT_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSupplyCT_N
      Animation          = ABSupplyCT_N.ABSupplyCT_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSupplyCT_DN
      Animation          = ABSupplyCT_DN.ABSupplyCT_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSupplyCT_EN
      Animation          = ABSupplyCT_EN.ABSupplyCT_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSupplyCT_S
      Animation          = ABSupplyCT_S.ABSupplyCT_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSupplyCT_DS
      Animation          = ABSupplyCT_DS.ABSupplyCT_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSupplyCT_ES
      Animation          = ABSupplyCT_ES.ABSupplyCT_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSupplyCT_NS
      Animation          = ABSupplyCT_NS.ABSupplyCT_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSupplyCT_DNS
      Animation          = ABSupplyCT_DNS.ABSupplyCT_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSupplyCT_ENS
      Animation          = ABSupplyCT_ENS.ABSupplyCT_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


 
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5
      Animation       = ABSupplyCT_A5.ABSupplyCT_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5N
      Animation       = ABSupplyCT_A5N.ABSupplyCT_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5S
      Animation       = ABSupplyCT_A5S.ABSupplyCT_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5SN
      Animation       = ABSupplyCT_A5SN.ABSupplyCT_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABSupplyCT_AB
      Animation       = ABSupplyCT_AB.ABSupplyCT_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABSupplyCT_ABN
      Animation       = ABSupplyCT_ABN.ABSupplyCT_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABSupplyCT_ABS
      Animation       = ABSupplyCT_ABS.ABSupplyCT_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABSupplyCT_ABSN
      Animation       = ABSupplyCT_ABSN.ABSupplyCT_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABSupplyCT_AB
      Animation       = ABSupplyCT_AB.ABSupplyCT_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABSupplyCT_ABN
      Animation       = ABSupplyCT_ABN.ABSupplyCT_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABSupplyCT_ABS
      Animation       = ABSupplyCT_ABS.ABSupplyCT_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABSupplyCT_ABSN
      Animation       = ABSupplyCT_ABSN.ABSupplyCT_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
  ; ------------ Grabbing box crane arm -----------------
  Draw = W3DModelDraw ModuleTag_19
    OkToChangeModelColor = Yes   
    ConditionState    = NONE                        ; sit there
      Model           = ABSupplyCT_A8
      Animation       = ABSupplyCT_A8.ABSupplyCT_A8
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
      WaitForStateToFinishIfPossible = TRANS_Playing
    End
    AliasConditionState  =  NIGHT
    AliasConditionState  =  SNOW
    AliasConditionState  =  NIGHT SNOW
    AliasConditionState  =  DAMAGED
    AliasConditionState  =  NIGHT DAMAGED
    AliasConditionState  =  SNOW DAMAGED
    AliasConditionState  =  NIGHT SNOW DAMAGED
    AliasConditionState  =  REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOCKING_ACTIVE              ; play arm box anim once
      Model           = ABSupplyCT_A7
      Animation       = ABSupplyCT_A7.ABSupplyCT_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Playing
    End
    AliasConditionState  =  NIGHT DOCKING_ACTIVE
    AliasConditionState  =  SNOW DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW DOCKING_ACTIVE
    AliasConditionState  =  DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  NIGHT DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  SNOW DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    
  End
  
    ; ------------ Spinny Belt -----------------
  Draw = W3DModelDraw ModuleTag_SpinnyBelt
    OkToChangeModelColor = Yes   
    ConditionState    = NONE                        ; sit there
      Model           = ABSupplyCT_A9
      Animation       = ABSupplyCT_A9.ABSupplyCT_A9
      AnimationMode   = LOOP
    End
    AliasConditionState  =  NIGHT
    AliasConditionState  =  SNOW
    AliasConditionState  =  NIGHT SNOW
    AliasConditionState  =  DAMAGED
    AliasConditionState  =  NIGHT DAMAGED
    AliasConditionState  =  SNOW DAMAGED
    AliasConditionState  =  NIGHT SNOW DAMAGED
    AliasConditionState  =  REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE
    
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupplyCT_A9
      Animation          = ABSupplyCT_A9.ABSupplyCT_A9
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
    

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyCenter
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = AirF_AmericaPowerPlant
  End
;---------------------------------------------------------
  BuildCost        = 1800 ;[2000]*
  RefundValue      = 850  ;[400]* ;With nothing (or zero) listed, we sell for half price.
  BuildTime        = 10.0         ;in seconds
;---------------------------------------------------------
  EnergyProduction = -1
  CommandSet       = AirF_AmericaSupplyCenterCommandSet
  VisionRange      = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyCenterUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE FS_POWER AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER
  Body                = StructureBody ModuleTag_05
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = SupplyCenterCreate ModuleTag_06
    ;nothing
  End
  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_08
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior = ProductionUpdate ModuleTag_09
    ; nothing
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = PreorderCreate ModuleTag_PreorderCreate
  End
;=============================================[“–» “≈√¿ –¿ƒ¿–¿: “ÂÔÂ¸ ÒÔÛÚÌËÍÓ‚Û˛ ÏËÌË-Í‡ÚÛ ‚Ë‰ÌÓ ÒÚ‡ÁÛ ÒÓ ÒÚ‡Ú‡ Ë„˚]=========================
  Behavior = GrantUpgradeCreate ModuleTag_UAR1
    UpgradeToGrant = Upgrade_AmericaRadar
    ExemptStatus   = UNDER_CONSTRUCTION
  End
 ;--------------------------------------------
  Behavior = RadarUpgrade ModuleTag_UAR2
    TriggeredBy = Upgrade_AmericaRadar                   ;[–‡‰‡ ÌÂ ·Û‰ÂÚ ÓÚÍÎ˛˜∏Ì ËÁ-Á‡ ‰ÂÙËˆËÚ‡ ˝ÌÂ„ÓÔÓÚÂ·ÎÂÌËˇ]πππππππππππππππππππππππππππππππ
    DisableProof  = Yes ; Won't be disabled by power low ;<========[“≈—“: ƒÓ·‡‚ËÎ Ò˛‰‡ ˝ÚÛ ÒÚÓÍÛ ÍÓ‰‡ ‚ÁˇÚÛ˛ Û GLA-¯ÌÓ„Ó –‡‰‡ÌÓ„Ó ÙÛ„ÓÌ‡]πππππππ
  End
 ;--------------------------------------------
  Behavior = RadarUpdate ModuleTag_UAR3
    RadarExtendTime = 4000 ;[¬ÂÏˇ Á‡‰ÂÊÍË ‡ÒÔÓÒÚ‡ÌÂÌËˇ ‡‰‡‡ ‚ ÏÒÂÍÛÌ‰‡ı]
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = SupplyCenterProductionExitUpdate ModuleTag_10
    UnitCreatePoint   = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 44.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = BaseRegenerateUpdate ModuleTag_11
    ;No data
  End 
  Behavior = SpawnBehavior ModuleTag_12
    SpawnNumber       = 1
    SpawnReplaceDelay = 9999
    SpawnTemplateName = AirF_AmericaVehicleChinook
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_13
    NumberApproachPositions = 9 ; There are 9 approach bones in the art
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior             = CreateObjectDie ModuleTag_16
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_17
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  
  Geometry            = BOX
  GeometryMajorRadius = 44.0
  GeometryMinorRadius = 45.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaSupplyDropZone

  ; *** ART Parameters ***
  SelectPortrait         = SADropZone_L
  ButtonImage            = SADropZone
  UpgradeCameo1 = Upgrade_AmericaSupplyLines
    Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ABSupDrop
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ABSupDrop_D
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ABSupDrop_E
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT
      Model              = ABSupDrop_N
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ABSupDrop_DN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupDrop_EN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ABSupDrop_S
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ABSupDrop_DS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DS.ABSupDrop_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupDrop_ES
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ABSupDrop_NS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABSupDrop_DNS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupDrop_ENS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupDrop
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSupDrop_D
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSupDrop_E
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSupDrop_N
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSupDrop_DN
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSupDrop_EN
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSupDrop_S
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSupDrop_DS
      Animation          = ABSupDrop_DS.ABSupDrop_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSupDrop_ES
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSupDrop_NS
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSupDrop_DNS
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSupDrop_ENS
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    
    
 

  End
 
  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AmericaSupplyDropZone
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 4500 ;[5000]*
  BuildTime           = 30.0 ;[42.0]* ;in seconds
  Prerequisites
    Object = AirF_AmericaStrategyCenter
  End
  EnergyProduction = -4
  ShroudClearingRange = 100
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
 ;--------------------------
  MaxSimultaneousOfType = 2
 ;--------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End


  ; *** ENGINEERING Parameters ***  
  ; Please note that this structure is not a kindof IMMUNE_TO_CAPTURE, ther is code that allows 
  ; CAPTURABLE+STRUCTUES, and FS_TECHNOLOGY kindofs to be disabled, unless explicitly IMMUNE_TO_CAPTURE...
  ; If this boggles too much, then it is time for a KINDOF_DISABLEABLE!--ML 
  KindOf              = STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_SUPPLY_DROPZONE
  RadarPriority       = STRUCTURE
  
  Body = ActiveBody ModuleTag_04
    MaxHealth         = 2200.0 ;[‚ PR9.0 ·˚ÎÓ: 2000.0]*
    InitialHealth     = 2200.0 ;[‚ PR9.0 ·˚ÎÓ: 2000.0]*

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet 
    OCL          = OCL_AmericaSupplyDropZoneCrateDrop
    MinDelay     = 120000
    MaxDelay     = 120000
    CreateAtEdge = Yes ; as opposed to just creating on self
  End

  Behavior = DestroyDie ModuleTag_06
  End
  
  Behavior = CreateObjectDie ModuleTag_07
    CreationList = AirF_OCL_AmericanRangerDebris03
    ExemptStatus = UNDER_CONSTRUCTION
  End
  
  Behavior = CreateObjectDie ModuleTag_08
    CreationList = OCL_LargeStructureDebris
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End
  
  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = BaseRegenerateUpdate ModuleTag_11
    ;No data
  End 

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-----------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;-----------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 37.0;27.0
  GeometryMinorRadius = 37.0;27.0
  GeometryHeight      = 11.0;9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End


;------------------------------------------------------------------------------
Object AirF_AmericaBarracks
 
  ; *** ART Parameters ***
  SelectPortrait         = SABarracks_L
  ButtonImage            = SABarracks
  PlacementViewAngle     = -45
    
  ;Main barracks model
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ;DAY *******************************
    ConditionState       = NONE
      Model              = ABBARRACKS
      Animation          = ABBarracks.ABBarracks
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED
      Model              = ABBarracks_D
      Animation          = ABBarracks_D.ABBarracks_D
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABBarracks_E
      Animation          = ABBarracks_E.ABBarracks_E
      AnimationMode      = LOOP
    End

    
    ;NIGHT *****************************
    ConditionState       = NIGHT
      Model              = ABBARRACKS_N
      Animation          = ABBarracks_N.ABBarracks_N
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABBarracks_DN
      Animation          = ABBarracks_DN.ABBarracks_DN
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABBarracks_EN
      Animation          = ABBarracks_EN.ABBarracks_EN
      AnimationMode      = LOOP
    End


    ;SNOW ******************************
    ConditionState       = SNOW
      Model              = ABBARRACKS_S
      Animation          = ABBarracks_S.ABBarracks_S
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABBarracks_DS
      Animation          = ABBarracks_DS.ABBarracks_DS
      AnimationMode      = LOOP
    End
     ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model              = ABBarracks_ES
      Animation          = ABBarracks_ES.ABBarracks_ES
      AnimationMode      = LOOP
    End


    ;SNOW AND NIGHT ********************
    ConditionState       = SNOW NIGHT
      Model              = ABBARRACKS_NS
      Animation          = ABBarracks_NS.ABBarracks_NS
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED SNOW NIGHT
      Model              = ABBarracks_DNS
      Animation          = ABBarracks_DNS.ABBarracks_DNS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW NIGHT
      Model              = ABBarracks_ENS
      Animation          = ABBarracks_ENS.ABBarracks_ENS
      AnimationMode      = LOOP
    End


        ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBarracks
      Animation          = ABBarracks.ABBarracks
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBarracks_D
      Animation          = ABBarracks_D.ABBarracks_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBarracks_E
      Animation          = ABBarracks_E.ABBarracks_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABBarracks_N
      Animation          = ABBarracks_N.ABBarracks_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABBarracks_DN
      Animation          = ABBarracks_DN.ABBarracks_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABBarracks_EN
      Animation          = ABBarracks_EN.ABBarracks_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABBarracks_S
      Animation          = ABBarracks_S.ABBarracks_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABBarracks_DS
      Animation          = ABBarracks_DS.ABBarracks_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABBarracks_ES
      Animation          = ABBarracks_ES.ABBarracks_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABBarracks_NS
      Animation          = ABBarracks_NS.ABBarracks_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABBarracks_DNS
      Animation          = ABBarracks_DNS.ABBarracks_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABBarracks_ENS
      Animation          = ABBarracks_ENS.ABBarracks_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End

;  Draw = W3DModelDraw ModuleTag_TestFlag
;    DefaultConditionState
;      Model           = ABBarracks_FA
;      Animation       = ABBarracks_FA.ABBarracks_FA
;      AnimationMode   = LOOP
;    End
;    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
;      Model           = None
;    End
;  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
    End

    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS    
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End  
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS    
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End 
   End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End 
   TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5
      Animation       = ABBarracks_A5.ABBarracks_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5N
      Animation       = ABBarracks_A5N.ABBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5S
      Animation       = ABBarracks_A5S.ABBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5SN
      Animation       = ABBarracks_A5SN.ABBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End 
   TransitionState    = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Barracks
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 600
  BuildTime           = 10.0           ; in seconds
  EnergyProduction    = 0
  CommandSet          = AirF_AmericaBarracksCommandSet
  VisionRange         = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 100 100 100 100  ; Experience point value at each level

  Prerequisites
;    Object = AirF_AmericaPowerPlant
  End
 
  ; *** AUDIO Parameters ***
  VoiceSelect = BarracksUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS
  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = HealContain ModuleTag_06
    ContainMax          = 10 ;way bigger than the # of objects we can have  
    TimeForFullHeal     = 2000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End
  Behavior = DestroyDie ModuleTag_07
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_08
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = CreateObjectDie ModuleTag_09
    CreationList = AirF_OCL_AmericanRangerDebris02 ;OCL_AmericanRangerDebris02
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = ProductionUpdate ModuleTag_11
    ; nothing
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_12
    UnitCreatePoint    = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint  = X: 55.0  Y:  0.0   Z:0.0
  End
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 

  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaBarracksCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaBarracksCommandSet
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry             = BOX
  GeometryMajorRadius  = 55.0
  GeometryMinorRadius  = 45.0
  GeometryHeight       = 20.0
  GeometryIsSmall      = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow               = SHADOW_VOLUME
  BuildCompletion      = PLACED_BY_PLAYER
 
End


;------------------------------------------------------------------------------
Object AirF_AmericaWarFactory

  ; *** ART Parameters ***
  SelectPortrait = SACWeaponsfact_L
  ButtonImage            = SACWeaponsfact
  
  ; ------------ the main factory itself -----------------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes  
    ; day **************************************************
    DefaultConditionState
      Model           = ABWarFact
      Animation       = ABWarFact.ABWarFact
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent     
    End    
    ConditionState = DAMAGED
      Model           = ABWarFact_D
      Animation       = ABWarFact_D.ABWarFact_D
      AnimationMode   = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_E
      Animation       = ABWarFact_E.ABWarFact_E
      AnimationMode   = LOOP 
    End


    ; night *************************************************
    ConditionState = NIGHT
      Model           = ABWarFact_N
      Animation       = ABWarFact_N.ABWarFact_N
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model           = ABWarFact_DN
      Animation       = ABWarFact_DN.ABWarFact_DN
      AnimationMode   = LOOP  
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = ABWarFact_EN
      Animation       = ABWarFact_EN.ABWarFact_EN
      AnimationMode   = LOOP 
    End
    
    ; snow *************************************************
    ConditionState = SNOW
      Model           = ABWarFact_S
      Animation       = ABWarFact_S.ABWarFact_S
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model           = ABWarFact_DS
      Animation       = ABWarFact_DS.ABWarFact_DS
      AnimationMode   = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = ABWarFact_ES
      Animation       = ABWarFact_ES.ABWarFact_ES
      AnimationMode   = LOOP 
    End


    ; night snow *************************************************
    ConditionState = NIGHT SNOW
      Model           = ABWarFact_NS
      Animation       = ABWarFact_NS.ABWarFact_NS
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = ABWarFact_DNS
      Animation       = ABWarFact_DNS.ABWarFact_DNS
      AnimationMode   = LOOP  
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = ABWarFact_ENS
      Animation       = ABWarFact_ENS.ABWarFact_ENS
      AnimationMode   = LOOP 
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABWarFact
      Animation          = ABWarFact.ABWarFact
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABWarFact_D
      Animation          = ABWarFact_D.ABWarFact_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABWarFact_E
      Animation          = ABWarFact_E.ABWarFact_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABWarFact_N
      Animation          = ABWarFact_N.ABWarFact_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABWarFact_DN
      Animation          = ABWarFact_DN.ABWarFact_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABWarFact_EN
      Animation          = ABWarFact_EN.ABWarFact_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABWarFact_S
      Animation          = ABWarFact_S.ABWarFact_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABWarFact_DS
      Animation          = ABWarFact_DS.ABWarFact_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABWarFact_ES
      Animation          = ABWarFact_ES.ABWarFact_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABWarFact_NS
      Animation          = ABWarFact_NS.ABWarFact_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABWarFact_DNS
      Animation          = ABWarFact_DNS.ABWarFact_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABWarFact_ENS
      Animation          = ABWarFact_ENS.ABWarFact_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


  End

  ; ----------------- the factory door -------------------
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A8
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState    = DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING DAMAGED
    
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING

    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN DAMAGED
    
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------------ the construction crane ------------
  Draw = W3DModelDraw ModuleTag_03
    ; -----------------------------------------------------------
    OkToChangeModelColor = Yes
    ; -----------------------------------------------------------
    DefaultConditionState
      Model           = ABWarFact_A1
      Animation       = ABWarFact_A1.ABWarFact_A1
      AnimationMode   = LOOP
      TransitionKey   = TRANS_Idle
    End
    ConditionState    = DAMAGED
      Model           = ABWarFact_A1D
      Animation       = ABWarFact_A1D.ABWarFact_A1D
      AnimationMode   = LOOP
      TransitionKey   = TRANS_IdleDamaged
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A1E
      Animation       = ABWarFact_A1E.ABWarFact_A1E
      AnimationMode   = LOOP
      TransitionKey   = TRANS_IdleReallyDamaged
    End

    ; -----------------------------------------------------------
    TransitionState   = TRANS_Constructing TRANS_Idle
      Model           = ABWarFact_A3
      Animation       = ABWarFact_A3.ABWarFact_A3
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End
    TransitionState   = TRANS_ConstructingDamaged TRANS_IdleDamaged
      Model           = ABWarFact_A3D
      Animation       = ABWarFact_A3D.ABWarFact_A3D
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End
    TransitionState   = TRANS_ConstructingReallyDamaged TRANS_IdleReallyDamaged
      Model           = ABWarFact_A3E
      Animation       = ABWarFact_A3E.ABWarFact_A3E
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End

    ; -----------------------------------------------------------
    ConditionState    = ACTIVELY_CONSTRUCTING
      Model           = ABWarFact_A3
      Animation       = ABWarFact_A3.ABWarFact_A3
      AnimationMode   = ONCE
      TransitionKey   = TRANS_Constructing
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      Model           = ABWarFact_A3D
      Animation       = ABWarFact_A3D.ABWarFact_A3D
      AnimationMode   = ONCE
      TransitionKey   = TRANS_ConstructingDamaged
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A3E
      Animation       = ABWarFact_A3E.ABWarFact_A3E
      AnimationMode   = ONCE
      TransitionKey   = TRANS_ConstructingReallyDamaged
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ; -----------------------------------------------------------
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SOLD
      Model           = ABWarFact_A1
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState    = SOLD
      Model           = NONE
    End    
  End

  ; ------------------ the construction conveyor belt ------------
  Draw = W3DModelDraw ModuleTag_04
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABWarFact_A7
      Animation       = ABWarFact_A7.ABWarFact_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    
    ConditionState    = SOLD
      Model           = NONE
    End 
    AliasConditionState = SNOW SOLD
    AliasConditionState = NIGHT SOLD
    AliasConditionState = SNOW NIGHT SOLD 


    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = ABWarFact_A7
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState    = DAMAGED
      Model           = ABWarFact_A7D
      Animation       = ABWarFact_A7D.ABWarFact_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A7E
      Animation       = ABWarFact_A7E.ABWarFact_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = ACTIVELY_CONSTRUCTING
      Model           = ABWarFact_A7
      Animation       = ABWarFact_A7.ABWarFact_A7
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING
    
    ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      Model           = ABWarFact_A7D
      Animation       = ABWarFact_A7D.ABWarFact_A7D
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING DAMAGED
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    
    ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A7E
      Animation       = ABWarFact_A7E.ABWarFact_A7E
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    
  End

  ; ------------ construction done flashing lights ----------
  Draw = W3DModelDraw ModuleTag_05
    DefaultConditionState
      Model           = None
    End
    ConditionState    = SOLD
      Model           = NONE
    End    
    ConditionState    = SOLD SNOW
       Model          = NONE
    End   
    ConditionState    = SOLD NIGHT
       Model          = NONE
    End    
    ConditionState    = SOLD NIGHT SNOW
       Model          = NONE
    End   
    ConditionState    = CONSTRUCTION_COMPLETE
      Model           = ABWarFact_A2
      Animation       = ABWarFact_A2.ABWarFact_A2
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End  
  End
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5
      Animation       = ABWarFact_A5.ABWarFact_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5N
      Animation       = ABWarFact_A5N.ABWarFact_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5S
      Animation       = ABWarFact_A5S.ABWarFact_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5SN
      Animation       = ABWarFact_A5SN.ABWarFact_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABWarFact_AB
      Animation       = ABWarFact_AB.ABWarFact_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABWarFact_ABN
      Animation       = ABWarFact_ABN.ABWarFact_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABWarFact_ABS
      Animation       = ABWarFact_ABS.ABWarFact_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABWarFact_ABSN
      Animation       = ABWarFact_ABSN.ABWarFact_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
   TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABWarFact_AB
      Animation       = ABWarFact_AB.ABWarFact_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABWarFact_ABN
      Animation       = ABWarFact_ABN.ABWarFact_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABWarFact_ABS
      Animation       = ABWarFact_ABS.ABWarFact_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABWarFact_ABSN
      Animation       = ABWarFact_ABSN.ABWarFact_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  
  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WarFactory
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End
  BuildCost        = 2000
  BuildTime        = 15.0           ; in seconds

  EnergyProduction = -1
  CommandSet       = AirF_AmericaWarFactoryCommandSet
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = ProductionUpdate ModuleTag_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3250  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 4000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
  Behavior = CommandSetUpgrade ModuleTag_14
    TriggeredBy = Upgrade_ChinaWarFactoryupCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaWarFactoryCommandSetTech
  End

  Behavior = CommandSetUpgrade ModuleTag_17
    TriggeredBy = Upgrade_ChinaWarFactorydownCommandSet
    RemovesUpgrades = Upgrade_ChinaWarFactoryupCommandSet Upgrade_ChinaWarFactorydownCommandSet
    CommandSet = AirF_AmericaWarFactoryCommandSet
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -10.0  Y:-30.0   Z:0.0
    NaturalRallyPoint = X: 53.0  Y:-30.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End
  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)     
    NumberApproachPositions = 5
  End
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 
  
;---- Removed module
;  Behavior = SlowDeathBehavior ModuleTag_14
;    DestructionDelay = 500
;    FX             = FINAL   FX_StructureMediumDeath
;    OCL            = FINAL   OCL_AmericaWarFactoryDebris
;  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = CreateObjectDie ModuleTag_16
    CreationList = AirF_OCL_AmericanRangerDebris03 ;OCL_AmericanRangerDebris05
    ExemptStatus = UNDER_CONSTRUCTION
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  
  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End
  
  Behavior             = FXListDie ModuleTag_21
    DeathFX       = FX_StructureMediumDeath
  End
  
  Behavior             = DestroyDie ModuleTag_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 53.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 40.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaPatriotBattery

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = ABPatriotAG
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponLaunchBone  = TERTIARY  WeaponA
      WeaponFireFXBone  = PRIMARY   WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponFireFXBone  = TERTIARY  WeaponA
    End
    AliasConditionState = NIGHT
    
    ConditionState      = DAMAGED
      Model             = ABPatriotAG_D
    End
    AliasConditionState = DAMAGED NIGHT
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABPatriotAG_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    
    
    ConditionState      = SNOW
      Model             = ABPatriotAG_S
    End
    AliasConditionState = SNOW NIGHT
    
    ConditionState      = DAMAGED SNOW
      Model             = ABPatriotAG_DS
    End
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABPatriotAG_ES
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
   
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPatriotAG
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPatriotAG_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPatriotAG_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABPatriotAG_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPatriotAG_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = ABPatriotAG_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
       

    
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:AdvPatriotBattery
  Side          = AmericaAirForceGeneral
  EditorSorting = STRUCTURE
  Prerequisites
    Object = AirF_AmericaPowerPlant
  End
  BuildCost = 1000 ;[1200]*
  BuildTime = 10.0 ;in seconds
  EnergyProduction = -2
  WeaponSet
    Conditions = None
    Weapon              = PRIMARY     AirF_PatriotMissileWeapon
    Weapon              = SECONDARY   AirF_PatriotMissileAssistWeapon
    Weapon              = TERTIARY    AirF_PatriotMissileWeaponAir
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = SECONDARY   NONE
    AutoChooseSources   = TERTIARY    FROM_PLAYER FROM_AI FROM_SCRIPT  
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = SECONDARY   BALLISTIC_MISSILE AIRCRAFT
    PreferredAgainst    = TERTIARY    BALLISTIC_MISSILE AIRCRAFT
    ShareWeaponReloadTime = Yes
  End
  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions = None
    Armor      = BaseDefenseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  CommandSet = AmericaPatriotBatteryCommandSet
  ExperienceValue = 200 200 200 200  ; Experience point value at each level

;Behavior = AIUpdateInterface ModuleTag_20
;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
;  MoodAttackCheckRate        = 250
;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 1000.0
    InitialHealth = 1000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 200 ;[180]*   ; turn rate, in degrees per sec
      TurretPitchRate       = 200 ;[180]*
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 4                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = AirF_PatriotBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = AirF_PatriotBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_09
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;======================================================================================================
Object AirF_AmericaFireBase

  ; *** ART Parameters ***

  SelectPortrait = SAFirebase_L
  ButtonImage    = SAFirebase

  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = NIGHT

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04

    DefaultConditionState
      Model              = ABFIREBASE
      Turret             = TURRET01
      TurretPitch        = TURRETEL
      WeaponLaunchBone   = PRIMARY MUZZLE01
      WeaponFireFXBone   = PRIMARY MUZZLE01
      WeaponMuzzleFlash  = PRIMARY MUZZLEFX
      WeaponRecoilBone   = PRIMARY BARREL
    End

    ConditionState      = DAMAGED
      Model             = ABFIREBASE_D
    End

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABFIREBASE_E
    End

    ConditionState      = SNOW
      Model             = ABFIREBASE_S
    End

    ConditionState      = DAMAGED SNOW
      Model             = ABFirebase_SD
    End

    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABFirebase_SD
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABFIREBASE
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABFIREBASE_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABFIREBASE_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABFIREBASE_SD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABFIREBASE_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
      Model              = ABFirebase_SD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;**************************************************************************************************************************
  End

  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45


  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:FireBase
  Side          = AmericaAirForceGeneral ;America
  EditorSorting = STRUCTURE
  Prerequisites
    Object = AirF_AmericaPowerPlant ;AmericaPowerPlant
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_AmericaDronecar
  End
  BuildCost        = 1200 ;1000
  BuildTime        = 25.0  ; in seconds
  EnergyProduction = 0
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY FireBaseHowitzerGun
  End
  VisionRange = 360.0        ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions = None
    Armor      = FireBaseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  CommandSet = AmericaUPFireBaseCommandSet
  ExperienceValue = 200 200 200 200  ; Experience point value at each level

  
  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf        = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED
  Body = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End
  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60  ;Turn rate, in degrees per sec
      TurretPitchRate       = 60
      AllowsPitch           = Yes
      NaturalTurretPitch    = 1   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 550    ; in milliseconds
      MaxIdleScanInterval   = 950    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End
  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%
    IsEnclosingContainer          = no
  End
  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = ProductionUpdate ModuleTag_16
  End
  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
  Behavior = CreateObjectDie ModuleTag_13
    CreationList = OCL_LargeStructureDebris
  End
;======================================================================
  Behavior = ReplaceObjectUpgrade ModuleTag_AHFBU ;ModuleTag_800121
    ReplaceObject = AmericaHeavyFireBase
    TriggeredBy = Upgrade_ChinaMines ;[Upgrade_BecomeObjectUpgrade]*
  End
  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleChinook

  ; *** ART Parameters ***
  SelectPortrait         = SAChinook_L
  ButtonImage            = SAChinook
  
  ;UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DModelDraw  ModuleTag_01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinook
      Animation = AVChinook.AVChinook
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinook_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw  ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Chinook ;(◊ËÌÛÍ Ò·Ó˘ËÍ ÂÒÛÒÓ‚)
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 600
;-----------------------------------------
  BuildCost = 1000 ;900
  BuildTime = 10.0 ;in seconds
;-----------------------------------------
  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End
  ExperienceValue = 50 50 50 50 ;Experience point value at each level
  IsTrainable     = No  
  CommandSet = AmericaVehicleChinookResursTransporterCommandSet ;;;[AmericaVehicleChinookCommandSet]*
  ArmorSet
    Conditions = None
    Armor      = ChinookArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = ChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = ChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = ChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 10
    SupplyCenterActionDelay = 2900 ;3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1200 ;1250  ; 875 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = ProductionUpdate ModuleTag_2200
  End
;========================================================
  Behavior = TransportContain ModuleTag_08
    Slots                = 1
    DamagePercentToUnits = 100%
    InitialPayload       = AmericaInfantrySpecOps 0
    AllowInsideKindOf    = INFANTRY
    ForbidInsideKindOf   = AIRCRAFT HUGE_VEHICLE VEHICLE
    ExitDelay            = 100
    NumberOfExitPaths    = 1
  End
;========================================================
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.07 ;<====[–‡ÁÏÂ ÏÓ‰ÂÎË]ππππππ

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleBattleChinook

  ; *** ART Parameters ***

  SelectPortrait = ¡‡ÚÎ◊ËÌÛÍ ;SAChinook_L
  ButtonImage    = ¡‡ÚÎ◊ËÌÛÍ ;SAChinook
  
  ;UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DModelDraw ModuleTag_01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinookAG
      Animation = AVChinookAG.AVChinookAG
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinookAG_d
      Animation = AVChinookAG_d.AVChinookAG_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = AVChinookAG_d
      Animation = AVChinookAG_d.AVChinookAG_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinookAG_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ChinookAssault ;(“‡ÌÒÔÓÚÌ˚È/‰ÂÒ‡ÌÚÌÓ-¯ÚÛÏÓ‚ÓÈ ‚ÂÚÓÎ∏Ú ◊ËÌÛÍ)
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 10     ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 600
  BuildCost = 1200
  BuildTime = 10.0 ;in seconds  
  Prerequisites
    Object = AirF_AmericaSupplyCenter
    Object = AirF_AmericaStrategyCenter ;AirF_AmericaAirfield
  End
  ExperienceValue = 50 50 50 50 ;Experience point value at each level
  IsTrainable     = No  
  CommandSet = AmericaVehicleChinookCommandSet ;;AmericaVehicleChinookResursTransporterCommandSet ;;;AirF_AmericaVehicleChinookCommandSet
  ArmorSet
    Conditions = None
    Armor      = ChinookArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = CombatChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = CombatChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = CombatChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 10
    SupplyCenterActionDelay = 2900 ;3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1200 ;1250  ; 875 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = ProductionUpdate ModuleTag_2200
  End
;====================================================
  Behavior = TransportContain ModuleTag_08
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End
;====================================================
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
;--------------------- ¬»ƒ  –”ÿ≈Õ»ﬂ ----------------------------------
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSkyCrane

    ; *** ART Parameters ***

  SelectPortrait = SASkyCrane_L ;¡‡ÚÎ◊ËÌÛÍ
  ButtonImage    = SASkyCrane   ;¡‡ÚÎ◊ËÌÛÍ


  Draw = W3DModelDraw ModuleTag_01 ;Helicopter
  OkToChangeModelColor = Yes
  DefaultConditionState
    Model         = AVSkyCrn ;<=================================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn.AVSkyCrn
    AnimationMode = LOOP
  End
  ConditionState = REALLYDAMAGED
    Model         = AVSkyCrn_d ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_d.AVSkyCrn_d
    AnimationMode = LOOP
  End
  ConditionState = RUBBLE
    Model         = AVSkyCrn_d ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_d.AVSkyCrn_d
    AnimationMode = LOOP
  End
  ConditionState = RUBBLE SPECIAL_DAMAGED
    Model         = AVSkyCrn_d ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    HideSubObject = Propeller01
    HideSubObject = Propeller02
 End

End

  Draw = W3DModelDraw ModuleTag_02 ;Construction Crane
  DefaultConditionState
    Model         = AVSkyCrn_A1 ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_A1.AVSkyCrn_A1
    AnimationMode = LOOP
    TransitionKey = TRANS_Stand
  End
  AliasConditionState = REALLYDAMAGED
  ConditionState  = ACTIVELY_CONSTRUCTING
    Model         = AVSkyCrn_A3 ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_A3.AVSkyCrn_A3
    AnimationMode = LOOP
    TransitionKey = TRANS_Constructing
  End
  AliasConditionState  = REALLYDAMAGED ACTIVELY_CONSTRUCTING

;-------------------- ??? -------------------------
  TransitionState = TRANS_Stand TRANS_Constructing
    Model         = AVSkyCrn_A2 ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_A2.AVSkyCrn_A2
    AnimationMode = ONCE
    AnimationSpeedFactorRange = 1.8 1.8 ;it's dropping down so it goes faster
  End
  TransitionState = TRANS_Constructing TRANS_Stand
    Model         = AVSkyCrn_A2 ;<===============================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
    Animation     = AVSkyCrn_A2.AVSkyCrn_A2
    AnimationMode = ONCE_BACKWARDS
  End
  ConditionState = RUBBLE
    Model = None ;<==============================================ππππππππππππ[ÃŒƒ≈À‹]πππππππππππππ
  End
  AliasConditionState  = RUBBLE SPECIAL_DAMAGED
  AliasConditionState  = RUBBLE ACTIVELY_CONSTRUCTING

End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;; ?????????
;  Draw = W3DModelDraw ModuleTag_Cargo01 ;Construction Crane
;  DefaultConditionState
;  Model = NONE
;  End
;  ConditionState  = WEAPONSET_PLAYER_UPGRADE
;  Model = AVSkyCrn_B
;  End
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


  ; ***DESIGN parameters *** ;πππππ[—–¿¬Õ» Ò: OBJECT:Dozer]πππππ

  DisplayName         = OBJECT:AirF_HelicopterSkyCrane ;[OBJECT:AirF_Chinook]*
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 600
;----------------------------------------------------------
  Prerequisites
    Object = AirF_AmericaSupplyCenter
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
;----------------------------------------------------------
  BuildCost = 1500 ;[‚ PR 9.1.1 ·˚ÎÓ: BuildCost = 1600]*
  BuildTime = 10.0 ;in seconds
;----------------------------------------------------------
  ExperienceValue = 50 50 50 50 ;Experience point value at each level
  IsTrainable     = No
;--------------------------------------------------
  CommandSet = AirF_AmericaSkyCraneDozerCommandSet
;--------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = ChinookArmor1
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***

  SoundAmbient           = SkyCraneAmbientLoop ;<==================(1)
    VoiceSelect          = SkyCraneVoiceSelect ;<==================(2)
    VoiceMove            = SkyCraneVoiceMove ;<====================(3)
    VoiceGuard           = SkyCraneVoiceMove
    VoiceTaskComplete    = SkyCraneVoiceBuildingDone ;<============(4)
    SoundEnter           = HumveeEnter
    SoundExit            = HumveeExit
  UnitSpecificSounds
    VoiceCreate          = SkyCraneVoiceCreate ;<==================(5)
    VoiceNoBuild         = NoSound
    VoiceCrush           = NoSound
    VoiceRepair          = SkyCraneVoiceMove
    VoiceDisarm          = NoSound
    TruckLandingSound    = NoSound
    TruckPowerslideSound = NoSound
    VoiceEnter           = NoSound
    VoiceBuildResponse   = SkyCraneVoiceBuild ;====================(6)
  End

; *** ENGINEERING Parameters ***

  RadarPriority  = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT DOZER SCORE PRODUCED_AT_HELIPAD
;Note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
;(Well, "near" actually) an Airfield to get healed...
;Also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
;======================================
  Body = ActiveBody ModuleTag_03
    MaxHealth     = 300.0 ;150.0
    InitialHealth = 300.0 ;150.0
    SubdualDamageCap        = 800
    SubdualDamageHealRate   = 500
    SubdualDamageHealAmount = 30
  End
;=====================================
  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End
  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End
  Behavior = DozerAIUpdate ModuleTag_07
    RepairHealthPercentPerSecond = 1%   ; % of max health to repair each second
    BoredTime  = 5000                   ; in milliseconds
    BoredRange = 150                    ; when bored, we look this far away to do something
    AutoAcquireEnemiesWhenIdle = Yes
  End
;=======================================================
  Locomotor = SET_NORMAL  SkyCraneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
;=======================================================
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
;==============[ ¬»ƒ  –”ÿ≈Õ»ﬂ ]=========================================================================================
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes       = ALL
    DestructionDelay = 0
    OCL              = INITIAL OCL_SkyCraneCrashingDummy ;=========>[ AirF_AmericaVehicleSkyCraneCrashingDummy ]ππππππππ
  End
;=======================================================================================================================
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration     = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3     ; taking this much damage...
    AflameDamageDelay  = 500   ; this often.
  End
  Behavior = AutoHealBehavior ModuleTag_AutoRepair01
    HealingAmount     = 2.5
    HealingDelay      = 1000
    StartHealingDelay = 1500
    Radius            = 0.01
    StartsActive      = Yes
    KindOf = PRODUCED_AT_HELIPAD
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = EjectPilotDie ModuleTag_HijackerEmerge01
;    DeathTypes         = ALL -CRUSHED -SPLATTED
;    RequiredStatus     = HIJACKED
;    VeterancyLevels    = ALL
;    GroundCreationList = OCL_HijackerEmerge ;<========================[ ? ] (1)
;    AirCreationList    = OCL_HijackerEmergeViaParachute ;<============[ ? ] (2)
;  End
;  Behavior = FXListDie ModuleTag_HijackerEmerge02
;    RequiredStatus = HIJACKED
;    DeathTypes     = ALL -CRUSHED -SPLATTED
;    DeathFX        = FX_HijackerEmerge ;<=============================[ ? ] (3)
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 12.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 0.95 ;<====[–‡ÁÏÂ ÏÓ‰ÂÎË]ππππππ

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetRaptor

 ; *** ART Parameters ***

  SelectPortrait = SAKingRap_L
  ButtonImage    = SAKingRap

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaLaserMissiles
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor


  Draw                    = W3DModelDraw ModuleTag_01
    ExtraPublicBone       = WeaponA01
    DefaultConditionState
      Model               = AVRaptorAG
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
    End

  ;==================================================
    ConditionState = MOVING
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[¬ÒÔ˚¯Í‡ ÔËÁ‡˜ÌÓ„Ó ‰‚Ë„‡ÚÂÎˇ(ˇÍËÂ,Ê∏ÎÚÓ-·ÂÎ˚Â ˇÁ˚ÍË Ë ¯‡ËÍË)] (1)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 JetEngineFlame ;<======[ ‡ÒÌ˚È ÚÛ·Ó-Â‡ÍÚË‚Ì˚È ¯ÎÂÈÙ DetroyT-‡ ÓÚ ÒÚ‡Ó„Ó F-22 King Raptor]
      ParticleSysBone = Engine02 JetEngineFlame ;<======[ ‡ÒÌ˚È ÚÛ·Ó-Â‡ÍÚË‚Ì˚È ¯ÎÂÈÙ DetroyT-‡ ÓÚ ÒÚ‡Ó„Ó F-22 King Raptor]
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
     ;-----------------------------------------------------------|==================================================================|
     ;ParticleSysBone  = Engine01  JetExhaust  ;;JetExhaustHeat ;|                          œ–»Ã≈◊¿Õ»≈:                             |
     ;ParticleSysBone  = Engine02  JetExhaust  ;;JetExhaustHeat ;|------------------------------------------------------------------|
     ;ParticleSysBone  = Engine03  JetExhaust  ;;JetExhaustHeat ;|  Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡       |
     ;ParticleSysBone  = Engine04  JetExhaust  ;;JetExhaustHeat ;|  Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡  |
     ;-----------------------------------------------------------|==================================================================|
    End

    ConditionState        = JETEXHAUST
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[¬ÒÔ˚¯Í‡ ÔËÁ‡˜ÌÓ„Ó ‰‚Ë„‡ÚÂÎˇ(ˇÍËÂ,Ê∏ÎÚÓ-·ÂÎ˚Â ˇÁ˚ÍË Ë ¯‡ËÍË)] (2)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;------------------------------------------------------------------------------------------------------------------------
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
     ;------------------------------------------------------------------------------------------------------------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;<=======[¬ÒÔ˚¯Í‡ ÔËÁ‡˜ÌÓ„Ó ‰‚Ë„‡ÚÂÎˇ(ˇÍËÂ,Ê∏ÎÚÓ-·ÂÎ˚Â ˇÁ˚ÍË Ë ¯‡ËÍË)] (3)
      ParticleSysBone = Engine02 SpectreEngineFlare
     ;ParticleSysBone = Engine03 SpectreEngineFlare
     ;-----------------------------------------------------------------------------------------------------------------------
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
     ;------------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡) [1]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
      ParticleSysBone = Engine03 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
     ;------------------------------------------------------------
    End

  ;======================================================
    ConditionState = REALLYDAMAGED MOVING
      Model = AVRaptorAG_D
      ; damage
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡) [2]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
      ParticleSysBone = Engine03 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
     ;-----------------------------------------------------------
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡) [3]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
      ParticleSysBone = Engine03 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
     ;-----------------------------------------------------------
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
     ;-----------------------------------------------------------
      ParticleSysBone = Engine01 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡) [4]
      ParticleSysBone = Engine02 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
      ParticleSysBone = Engine03 JetLenzflare  ;<================[ﬂÍËÈ ÙË‡ÎÂÚÓ‚˚È ¯ÎÂÈÙ](›ÙÙÂÍÚ˚ „Óˇ˘Â„Ó Ò‡ÏÓÎ∏Ú‡)
     ;-----------------------------------------------------------
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D1B
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:KingRaptor
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
;-------------------------------------
  VisionRange         = 350.0 ;[200.0]*
  ShroudClearingRange = 400
;-------------------------------------
  Prerequisites
    Object = AirF_AmericaAirfield
Object = AirF_AmericaStrategyCenter
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
;--------------------------------------------------
  BuildCost = 2500 ;[‚ PR9.0 - 9.1.19 ·˚ÎÓ: 2000]*
  BuildTime = 25.0 ;[‚ PR9.0 - 9.1.19 ·˚ÎÓ: 20.0]*
;--------------------------------------------------
  MaxSimultaneousOfType = 8
;------------------------------------------------------------------------
  WeaponSet
    Conditions = None
    Weapon           = PRIMARY   AirF_RaptorJetMissileWeapon
    PreferredAgainst = PRIMARY   INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon           = PRIMARY   AirF_RaptorJetLaserGuidedMissileWeapon
    PreferredAgainst = PRIMARY   INFANTRY VEHICLE STRUCTURE AIRCRAFT
    ;;Weapon = SECONDARY Lasr_RaptorJetMissileWeaponDummyWeapon ;»Á Á‡ ˝ÚÓÈ ıÂÌË Ò‡ÏÓÎ∏Ú ÌÂ ÛÎÂÚ‡ÂÚ Ì‡ ÔÂÂÁ‡ˇ‰ÍÛ Ò‡ÁÛ, ÌÓ ÍÛÊËÚ ÔÛÒÚ˚Ï Ì‡‰ ÔÓÎÂÏ ·Óˇ ÚÛÔÓ ÒÎË‚‡ˇÒ¸(
  End
;------------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End
;------------------------------------------------------------------------
  ExperienceValue = 75 75 125 175    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400 ;Experience points needed to gain each level
  IsTrainable = Yes                  ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetRaptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = KingRaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = KingRaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner1 ;<===[Afterburner(‘ÓÒ‡Ê)- ‰ÓÔÓÎÌËÚÂÎ¸Ì‡ˇ ÓÁ‚Û˜Í‡ Â‡ÍÚË‚ÌÓ„Ó ‰‚ËÊÍ‡  ËÌ„–‡ÔÚÓ‡]
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 240.0
    InitialHealth = 240.0
  End
;--------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_25
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;--------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = WeaponBonusUpgrade ModuleTag_03
;    TriggeredBy = Upgrade_AmericaLaserMissiles
;  End
;  Behavior = WeaponSetUpgrade ModuleTag_27
;    TriggeredBy = Upgrade_JDAMS
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;================================================================================================================
;--------------- ¬Ë‰ ÍÛ¯ÂÌËˇ Ò‡ÏÓÎ∏Ú‡ -----------------------------------
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;================================================================================================================
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%    ; amount of damage to take per SEC (not per frame) when out of ammo
                                       ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%     ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3      ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000  ; if idle for this long, return to base, even if not out of ammo
  End
;-------------------------------------------------
  Locomotor = SET_NORMAL RaptorJetLocomotor1
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor1
;-------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
;=====================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;=====================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_1100
    TriggeredBy = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;=====================================================
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
;----------------------------------------------------------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_24 ;<============================================================[ƒ≈“≈ “Œ– Œ¡Õ¿–”∆≈Õ»ﬂ Õ≈¬»ƒ»ÃŒ ]
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
;------------------------------------------------------------
;  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
;    WeaponTemplate        = AirF_PointDefenseLaser ;<========================================================[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
;    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
;    ScanRate              = 0
;    ScanRange             = 200.0
;    PredictTargetVelocityFactor = 1.0
;  End
;------------------------------------------------------------
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.09 ;1.1 ;(ÌÓÏ ‡ÁÏÂ˜ËÍ) ;[ ÛÔÌÓ‚‡Ú˚: 1.11 ;1.12]

End

;------------------------------------------------------------------------------
Object AirF_AmericaDefenseLaser

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    ConditionState        = NONE
      Model               = None
    End
  End

  ; ***DESIGN parameters ***
  Side             = AmericaAirForceGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Geometry            = BOX
  GeometryMajorRadius = 0.0
  GeometryMinorRadius = 0.0
  GeometryHeight      = 0.0
  GeometryIsSmall     = No
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetRavager

  ; *** ART Parameters ***
  SelectPortrait         = SARavager_L
  ButtonImage            = SARavager

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo4 = Upgrade_AmericaCountermeasures
  
  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01 WeaponA02 WeaponA03 WeaponA04
    ProjectileBoneFeedbackEnabledSlots = PRIMARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = AVRavager
      WeaponLaunchBone    = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
      ParticleSysBone     = Wingtip05 JetContrail
      ParticleSysBone     = Wingtip06 JetContrail
      ParticleSysBone     = Wingtip07 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
      ParticleSysBone     = Wingtip05 JetContrail
      ParticleSysBone     = Wingtip06 JetContrail
      ParticleSysBone     = Wingtip07 JetContrail
      ; afterburner
      ParticleSysBone     = Exhaust01 JetLenzflare
      ParticleSysBone     = Exhaust01 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRavager_D
      ; damage
      ParticleSysBone     = Exhaust01 JetSmoke
      ParticleSysBone     = Exhaust01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRavager_D
      ; damage
      ParticleSysBone     = Exhaust01 JetSmoke
      ParticleSysBone     = Exhaust01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
      ParticleSysBone     = Wingtip05 JetContrail
      ParticleSysBone     = Wingtip06 JetContrail
      ParticleSysBone     = Wingtip07 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRavager_D
      ; damage
      ParticleSysBone     = Exhaust01 JetSmoke
      ParticleSysBone     = Exhaust01 JetEngineDamagedSmoke
      ; afterburner
      ParticleSysBone     = Exhaust01 JetLenzflare
      ParticleSysBone     = Exhaust01 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
      ParticleSysBone     = Wingtip05 JetContrail
      ParticleSysBone     = Wingtip06 JetContrail
      ParticleSysBone     = Wingtip07 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVRavager_D
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Ravager
  EditorSorting           = VEHICLE
  Side                    = AmericaAirForceGeneral
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0
  ShroudClearingRange     = 400
  Prerequisites
    Object                = AirF_AmericaAirfield
  End

  WeaponSet
    Conditions            = None
    Weapon              = PRIMARY     RavagerJetMissileWeapon
  End
  WeaponSet
    Conditions            = PLAYER_UPGRADE
    Weapon              = PRIMARY     RavagerJetLaserGuidedMissileWeapon
Weapon              = SECONDARY   Lasr_F-18JetLaserGuidedMissileWeaponDummyWeapon
  End
  ArmorSet
    Conditions            = None
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End

  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = ExclusiveAirplaneArmor
    DamageFX              = None
  End

  BuildCost               = 700
  BuildTime               = 12.0
  ExperienceValue         = 75 75 125 175   ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = KingRaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = KingRaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 250.0
    InitialHealth        = 250.0
  End

  Behavior                = WeaponSetUpgrade ModuleTag_03
    TriggeredBy          = Upgrade_AmericaLaserMissiles
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior                    = EjectPilotDie ModuleTag_06
    ExemptStatus         = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL RavagerJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = StealthDetectorUpdate ModuleTag_24
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetF-23

  ; *** ART Parameters ***
  SelectPortrait         = SuperStriker_L
  ButtonImage            = SuperStriker

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures

  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    DefaultConditionState
      Model               = AVF23
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF23_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF23_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF23_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVF23_d1
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF23_d1
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:F-23
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 ;[200.0]*
  ShroudClearingRange = 400
;------------------------------------
  BuildCost = 3400 ;3800 ;2600 ;2400
  BuildTime = 45.0 ;40.0 ;30.0
;------------------------------------
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank2
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue    = 75 75 125 175   ;Experience point value at each level
  ExperienceRequired = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable        = Yes             ;Can gain experience
  CrusherLevel       = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
 ;----------------------------
  MaxSimultaneousOfType = 8
 ;----------------------------
  CommandSet = GenericJetCommandSet ;AmericaJetF-23CommandSet
;=======================================================================================================================
  WeaponSet
    Conditions = None
   ;-----
    Weapon            = PRIMARY AirForceF-23MissilePR8XX ;<==================================[ 12 ‡ÍÂÚ  "‚ÓÁ‰Ûı-ÁÂÏÎˇ"]
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
   ;------
    Weapon            = SECONDARY AirForceF-23BombPR8XX ;<===================================[ 22 ·ÓÏ·˚ ]
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;=======================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect            = F-23VoiceSelect
  VoiceMove              = F-23VoiceMove
  VoiceAttack            = F-23VoiceAttack
  VoiceAttackAir         = F-23VoiceAttack
  VoiceGuard             = F-23VoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = F-23VoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = F-23VoiceMove
    VoicePrimaryWeaponMode = F-23VoiceMissiles
    VoiceSecondaryWeaponMode = F-23VoiceBombs
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 380.0 ;440.0 ;420.0 ;[PR9.1.6:440.0]* ;[PR8.2:420.0] ;[” ÍÓË˜ÌÂ‚Ó„Ó F-23: 440.0] ;;[PR9.0: 300.0]
    InitialHealth = 380.0 ;440.0 ;420.0 ;[PR9.1.6:440.0]* ;[PR8.2:420.0] ;[” ÍÓË˜ÌÂ‚Ó„Ó F-23: 440.0] ;;[PR9.0: 300.0]
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_F23DeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
  End
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus       = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList    = OCL_EjectPilotViaParachute
    VeterancyLevels    =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
;-----------------------------------------------
  Locomotor = SET_NORMAL F-23JetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;-----------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration     = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3     ; taking this much damage...
    AflameDamageDelay  = 500   ; this often.
  End
;====================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;====================================================
  Behavior = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;===========================================================================================
;-------------- À‡ÁÂÌ˚Â ÓÚ‡Ê‡ÚÂÎË ‡ÍÂÚ -------------------------------------------------
;-----------------------------------------------------------------------------------------
;  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
;    WeaponTemplate     = AirF_PointDefenseLaser ;<============[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
;    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
;    ScanRate           = 0
;    ScanRange          = 200.0
;    PredictTargetVelocityFactor = 1.0
;  End
;===========================================================================================
  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.11;1.1

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetPrototype

  ; *** ART Parameters ***
  SelectPortrait         = SARazor_L
  ButtonImage            = SARazor

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaBunkerBusters

  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01 WeaponA02 WeaponB01 WeaponC01 WeaponC03
    ProjectileBoneFeedbackEnabledSlots = SECONDARY TERTIARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = AVPrototype
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponB
      WeaponMuzzleFlash   = PRIMARY WeaponB
      WeaponFireFXBone    = PRIMARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponC
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVPrototype_d
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVPrototype_d
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End
    ConditionState      = ATTACKING USING_WEAPON_A
      Model             = AVPrototype_d
      WeaponLaunchBone  = PRIMARY WeaponB
      WeaponMuzzleFlash = PRIMARY WeaponB
      WeaponFireFXBone  = PRIMARY WeaponB
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Proto
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 ;200.0
  ShroudClearingRange = 400

  WeaponSet
    Conditions = None
   ;----
    Weapon            = PRIMARY   PrototypeMachinceGun
    PreferredAgainst  = PRIMARY   INFANTRY AIRCRAFT VEHICLE
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
   ;----
    Weapon            = SECONDARY PrototypeMissiles
    PreferredAgainst  = SECONDARY AIRCRAFT VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;----
    Weapon            = TERTIARY  PrototypeBombs
    AutoChooseSources = TERTIARY  NONE
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
   ;----
    Weapon            = PRIMARY   PrototypeMachinceGunUpgrade
    PreferredAgainst  = PRIMARY   INFANTRY AIRCRAFT VEHICLE
    AutoChooseSources = PRIMARY   FROM_PLAYER FROM_SCRIPT FROM_AI
   ;----
    Weapon            = SECONDARY PrototypeMissilesUpgrade
    PreferredAgainst  = SECONDARY AIRCRAFT VEHICLE STRUCTURE
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
   ;----
    Weapon            = TERTIARY  PrototypeBombs
    AutoChooseSources = TERTIARY  NONE
  End
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor
    DamageFX   = None
  End
  BuildCost = 7000 ;5000 ;4500 ;4400
  BuildTime = 55.0 ;45.0 ;40.0
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    ;Science = SCIENCE_Rank4 ;SCIENCE_Rank3
  End
;----------------------------------
  MaxSimultaneousOfType = 4 ;8 ;12
;----------------------------------
  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable    = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetPrototypeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = RZBackVoiceSelect
  VoiceMove              = RZBackVoiceMove
  VoiceAttack            = F-23VoiceAttack
  VoiceAttackAir         = F-23VoiceAttack
  VoiceGuard             = RZBackVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RZBackVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RZBackVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 280.0
    InitialHealth = 280.0
  End
  Behavior = ProductionUpdate ModuleTag_24
    MaxQueueEntries = 2; So you can't build multiple upgrades in the same frame
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_PrototypeDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus       = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList    = OCL_EjectPilotViaParachute
    VeterancyLevels    =  ALL -REGULAR ;only vet+ gives pilot
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; Behavior = WeaponSetUpgrade ModuleTag_LinearGunUpgrade1
;   TriggeredBy = Upgrade_Veterancy_HEROIC
; End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;-----------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_PRTABB ;_0867
    TriggeredBy = Upgrade_AmericaBunkerBusters
  End
;-----------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;====================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;====================================================
  Behavior = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 6
    AttackLocomotorType         = SET_NORMAL
    AttackLocomotorPersistTime  = 1000    ; we start slowing down almost immediately
    AttackersMissPersistTime    = 1000   ; but remain untargetable fer a bit longer
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000         ; if idle for this long, return to base, even if not out of ammo
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
  End
;------------------------------------------------
  Locomotor = SET_NORMAL PrototypeJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000      ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3     ; taking this much damage...
    AflameDamageDelay = 500    ; this often.
  End
  Behavior = ProductionUpdate ModuleTag_Prod01
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetB3

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVB3bmbr
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVB3bmbr_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End
  
;  Draw = W3DModelDraw ModuleTag_02
;    DefaultConditionState
;      Model           = AVB3bmbr_A2K
;    End
;    ConditionState = DOOR_1_OPENING
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_CLOSING
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE_BACKWARDS
;      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
;    End

;    ConditionState = REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_OPENING REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE_BACKWARDS
;      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
;    End
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresAirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B3BomberAmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  ; Behavior    = OCLSpecialPower ModuleTag_04
    ; SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    ; OCL                  = SUPERWEAPON_DaisyCutter
    ; CreateLocation       = USE_OWNER_OBJECT
    ; ScriptedSpecialPowerOnly = Yes
  ; End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponMOABSpecial ;SuperweaponMOAB  ;@@KRIS@@
    OCL                  = AirF_SUPERWEAPON_MOAB
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
    
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B3Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_12
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------------------
Object AirF_AmericaTankDefender
  SelectPortrait = SACrusader3_L
  ButtonImage = SACrusader3
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
 Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
 ConditionState = NONE
  Model = AVCrusader
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Drive
 End
 ConditionState = MOVING
  Model = AVCrusader
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Drive
  ParticleSysBone = TreadFX01 QuadCannonDust
  ParticleSysBone = TreadFX02 QuadCannonDust
 End
 ConditionState = REALLYDAMAGED
  Model = AVCrusader_D
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_DriveDamaged
 End
  AliasConditionState = DAMAGED
  AliasConditionState = MOVING DAMAGED
  AliasConditionState = MOVING REALLYDAMAGED
 ConditionState = RUBBLE
  Model = AVCrusader_D
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_Hover
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  ParticleSysBone = TreadFX01 QuadCannonDust
  ParticleSysBone = TreadFX02 QuadCannonDust
  TransitionKey = TRANS_Hover
 End
  TransitionState = TRANS_Drive TRANS_Hover
  Model = AVCrusader_A
  HideSubObject = TurretFX01
  Animation = AVCRUSADER_A.AVCRUSADER_A
  AnimationMode = ONCE
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  TransitionKey = TRANS_HoverDamaged
 End
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE DAMAGED
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING DAMAGED
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING REALLYDAMAGED
 ConditionState = WEAPONSET_PLAYER_UPGRADE RUBBLE
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
  TransitionState = TRANS_DriveDamaged TRANS_HoverDamaged
  Model = AVCrusader_A
  HideSubObject = TurretFX01
  Animation = AVCRUSADER_A.AVCRUSADER_A
  AnimationMode = ONCE
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE OVER_WATER
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
 End
 ConditionState = WEAPONSET_PLAYER_UPGRADE MOVING OVER_WATER
  Model = AVCrusader_H
  Turret = Turret
  WeaponFireFXBone = PRIMARY TurretMS
  WeaponRecoilBone = PRIMARY Barrel
  WeaponMuzzleFlash = PRIMARY TurretFX
  WeaponLaunchBone = PRIMARY TurretMS
  ParticleSysBone = TreadFX01 AmphibWave
 End
  AliasConditionState = WEAPONSET_PLAYER_UPGRADE MOVING OVER_WATER REALLYDAMAGED
  TrackMarks = EXTnkTrack.tga
 End
  DisplayName = OBJECT:Defender
  Side = AmericaAirForceGeneral
  EditorSorting = VEHICLE
  TransportSlotCount = 3
  WeaponSet
  Conditions = None
  Weapon = PRIMARY DefenderTankGun
  End
  WeaponSet
  Conditions = PLAYER_UPGRADE
  Weapon = PRIMARY DefenderTankGun
  End
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End
  ;ArmorSet
  ;  Conditions           = PLAYER_UPGRADE
  ;  Armor                = UpgradedTankArmor
  ;  DamageFX             = TankDamageFX
  ;End
  BuildCost              = 1200
  BuildTime              = 15.0          ;in seconds
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankCrusader2CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 350
    InitialHealth   = 350

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 960
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor
;  Locomotor = SET_NORMAL_UPGRADED AmphibiousDefenderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_05
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_20
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = MaxHealthUpgrade ModuleTag_09
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_17
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = MaxHealthUpgrade ModuleTag_18
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 20.0
  GeometryMinorRadius    = 12.5
  GeometryHeight         = 7.5
  GeometryIsSmall        = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaReinforcementPad

  ; *** ART Parameters ***
  SelectPortrait         = LandingPad_L
  ButtonImage            = LandingPad
  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = ZBLndBay
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay.ZBLndBay
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED
      Model              = ZBLndBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ZBLndBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_E.ZBLndBay_E
      AnimationMode      = LOOP
    End

    ConditionState       = NIGHT
      Model              = ZBLndBay_N
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_N.ZBLndBay_N
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT
      Model              = ZBLndBay_D
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_D.ZBLndBay_D
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ZBLndBay_E
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_E.ZBLndBay_E
      AnimationMode      = LOOP
    End

    ;----------- SNOW

    ConditionState       = SNOW
      Model              = ZBLndBay_S
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_S.ZBLndBay_S
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED SNOW
      Model              = ZBLndBay_DS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DS.ZBLndBay_DS

      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ZBLndBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ES.ZBLndBay_ES
      AnimationMode      = LOOP
    End

    ;---------- SNOW NIGHT

    ConditionState       = NIGHT SNOW
      Model              = ZBLndBay_NS
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_NS.ZBLndBay_NS
      AnimationMode      = LOOP
    End

    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ZBLndBay_DSN
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_DSN.ZBLndBay_DSN
      AnimationMode      = LOOP
    End

    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ZBLndBay_ES
      ;ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ZBLndBay_ES.ZBLndBay_ES
      AnimationMode      = LOOP
    End
  End
    ; ========================= Flag Model ===============================
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes

    ; DEFAULT & DAMAGED ************************************************
    ConditionState  = NONE
      Model         = ZBLndBay_F
      Animation     = ZBLndBay_F.ZBLndBay_F
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED

    ; REALLYDAMAGED*****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBLndBay_FE
      Animation     = ZBLndBay_FE.ZBLndBay_FE
      AnimationMode = LOOP
    End

    ; RUBBLE ***********************************************************
    ConditionState  = RUBBLE
      Model         = None
    End
  End
  PlacementViewAngle = 45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TechReinforcementPad
  EditorSorting       = STRUCTURE
  Side = AmericaAirForceGeneral
  Prerequisites
    Object = AirF_AmericaWarFactory
    Object = AirF_AmericaStrategyCenter
  End
  EnergyProduction = 0
  ShroudClearingRange = 200
  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level
  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf              = STRUCTURE SELECTABLE IMMOBILE SCORE TECH_BUILDING CAPTURABLE NO_COLLIDE AUTO_RALLYPOINT CONSERVATIVE_BUILDING
  RadarPriority       = STRUCTURE

  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 1000.0
    InitialHealth     = 1000.0
  End

  Behavior       = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
    MinDelay     = 360000
    MaxDelay     = 360000
    CreateAtEdge = Yes ; as opposed to just creating on self

    FactionTriggered = Yes ; This requires a controlling player before it works
    FactionOCL   = Faction:AmericaAirForceGeneral    OCL:OCL_AFGen_ReinforcementPadUSAVehicles
  End
  Behavior = DestroyDie ModuleTag_06
  End

  Behavior            = DefaultProductionExitUpdate ModuleTag_07
    NaturalRallyPoint = X: 0.0  Y:-60.0  Z:0.0 ;NaturalRallyPointX must always match GeometryMajorRadius! -ML
    UseSpawnRallyPoint = Yes
  End

  Behavior             = CreateObjectDie ModuleTag_08
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior             = FlammableUpdate ModuleTag_09
    AflameDuration     = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500       ; this often.
  End
  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End
  Behavior = TechBuildingBehavior ModuleTag_12
  End
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
  Behavior = BaseRegenerateUpdate ModuleTag_11
  End
  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End
  Geometry            = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 52.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME

End

Object AirF_AmericaVehicleHoverCraft
  SelectPortrait = Hover1_L
  ButtonImage = Hover1
  Draw = W3DModelDraw ModuleTag_01
    ConditionState = NONE
      Model = AVAMPHIB
      Animation = AVAMPHIB.AVAMPHIB
      AnimationMode = MANUAL
      Flags = START_FRAME_FIRST
    End
    ConditionState = OVER_WATER
      Model = AVAMPHIB
      ParticleSysBone = TreadFX01 AmphibWaveRest
      Animation = AVAMPHIB.AVAMPHIB
      AnimationMode = MANUAL
      Flags = START_FRAME_FIRST
    End
    ConditionState = MOVING
      Model = AVAMPHIB
       ParticleSysBone = Mist01 AmphibDirt
      Animation = AVAMPHIB.AVAMPHIB
      AnimationMode = LOOP
      Flags = START_FRAME_FIRST
    End
    ConditionState = MOVING OVER_WATER
      Model = AVAMPHIB
      ParticleSysBone = Mist01 AmphibMist
      ParticleSysBone = Mist02 AmphibMist
      ParticleSysBone = Mist03 AmphibMistSide
      ParticleSysBone = Mist04 AmphibMistSide
      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      Animation = AVAMPHIB.AVAMPHIB
      AnimationMode = LOOP
      Flags = START_FRAME_FIRST
    End
  End
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model = AVAMPHIB_A
      Animation = AVAMPHIB_A.AVAMPHIB_A
      AnimationMode = MANUAL
      Flags = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model = AVAMPHIB_A
      Animation = AVAMPHIB_A.AVAMPHIB_A
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model = AVAMPHIB_A1
      Animation = AVAMPHIB_A1.AVAMPHIB_A1
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
    End
  End
  VoiceSelect = ChinookVoiceSelect
  DisplayName = OBJECT:AmphibiousTransport
  Side = AmericaAirForceGeneral
  EditorSorting = VEHICLE
  CommandSet = CivilianTransportCommandSet
  Prerequisites
    Object = AirF_AmericaWarFactory
  End
  ArmorSet
    Armor = Adv.TankArmor
    DamageFX = DefaultDamageFX
  End
  BuildCost = 750
  BuildTime = 15.0
  VisionRange = 150
  CrusherLevel = 1
  CrushableLevel = 3
  SoundMoveLoop = AmphibiousTransportMoveLoop
   RadarPriority = UNIT
  ; *** ENGINEERING Parameters ***
  KindOf            = SELECTABLE VEHICLE TRANSPORT

  Body              = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End
  Behavior              = TransportContain ModuleTag_04
    Slots               = 12
    AllowInsideKindOf   = INFANTRY VEHICLE
    DoorOpenTime        = 2000
    ScatterNearbyOnExit = No ; I have bones for exiting
  End
  Behavior          = PhysicsBehavior ModuleTag_05
    Mass            = 30.0
  End
  Behavior = TransportAIUpdate ModuleTag_06
    ;<NO DATA>
  End
  Locomotor         = SET_NORMAL BasicAmphibiousLocomotor
  Behavior               = DestroyDie ModuleTag_07
    ;<NO DATA>
  End
  Behavior               = CreateObjectDie ModuleTag_08
    DeathTypes = ALL
    CreationList    = OCL_GenericCarExplode
  End
  Behavior               = FXListDie ModuleTag_09
    DeathTypes = ALL -FLOODED
    DeathFX         = FX_GenericCarExplode
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry            = BOX
  Scale = 0.7                            ;Scaling
  GeometryIsSmall     = No
  GeometryMajorRadius = 23.0
  GeometryMinorRadius = 17.0
  GeometryHeight      = 20.0
  Shadow              = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AirF_GPSSatelite

  ; *** ART Parameters ***
  SelectPortrait         = SAPrison_L
  ButtonImage            = SAPrison
  
  Draw                   = W3DModelDraw ModuleTag_01
  
    ExtraPublicBone      = PRISONYARD 
    OkToChangeModelColor = Yes
    
    ; day ****************************************
    ConditionState  = NONE
      Model         = ABPrison
      Animation     = ABPrison.ABPrison
      AnimationMode = LOOP
    End
    ConditionState    = DAMAGED
      Model           = ABPrison_D
      Animation       = ABPrison_D.ABPrison_D
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABPrison_E
      Animation       = ABPrison_E.ABPrison_E
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Smoke08 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke08 SmolderingFire
    End

    ; night ***************************************
    ConditionState    = NIGHT
      Model           = ABPrison_N
      Animation       = ABPrison_N.ABPrison_N
      AnimationMode   = LOOP
    End
    ConditionState    = DAMAGED NIGHT
      Model           = ABPrison_DN
      Animation       = ABPrison_DN.ABPrison_DN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT
      Model           = ABPrison_EN
      Animation       = ABPrison_EN.ABPrison_EN
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Smoke08 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke08 SmolderingFire
    End
   
    
        ; day snow ****************************************
    ConditionState  = SNOW
      Model         = ABPrison_S
      Animation     = ABPrison_S.ABPrison_S
      AnimationMode = LOOP
    End
    ConditionState    = DAMAGED SNOW
      Model           = ABPrison_DS
      Animation       = ABPrison_DS.ABPrison_DS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE SNOW
      Model           = ABPrison_ES
      Animation       = ABPrison_ES.ABPrison_ES
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Smoke08 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke08 SmolderingFire
    End

    ; night snow ***************************************
    ConditionState    = NIGHT SNOW
      Model           = ABPrison_NS
      Animation       = ABPrison_NS.ABPrison_NS
      AnimationMode   = LOOP
    End
    ConditionState    = DAMAGED NIGHT SNOW
      Model           = ABPrison_DNS
      Animation       = ABPrison_DNS.ABPrison_DNS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
    End
    ConditionState    = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = ABPrison_ENS
      Animation       = ABPrison_ENS.ABPrison_ENS
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Smoke05 SmolderingSmoke
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Smoke07 SmolderingSmoke
      ParticleSysBone = Smoke08 SmolderingSmoke
      ParticleSysBone = Smoke01 SmolderingFire
      ParticleSysBone = Smoke02 SmolderingFire
      ParticleSysBone = Smoke03 SmolderingFire
      ParticleSysBone = Smoke04 SmolderingFire
      ParticleSysBone = Smoke05 SmolderingFire
      ParticleSysBone = Smoke06 SmolderingFire
      ParticleSysBone = Smoke07 SmolderingFire
      ParticleSysBone = Smoke08 SmolderingFire
    End
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPrison
      Animation          = ABPrison.ABPrison
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPrison_D
      Animation          = ABPrison_D.ABPrison_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPrison_E
      Animation          = ABPrison_E.ABPrison_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABPrison_N
      Animation          = ABPrison_N.ABPrison_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABPrison_DN
      Animation          = ABPrison_DN.ABPrison_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABPrison_EN
      Animation          = ABPrison_EN.ABPrison_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPrison_S
      Animation          = ABPrison_S.ABPrison_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABPrison_DS
      Animation          = ABPrison_DS.ABPrison_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABPrison_ES
      Animation          = ABPrison_ES.ABPrison_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABPrison_NS
      Animation          = ABPrison_NS.ABPrison_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABPrison_DNS
      Animation          = ABPrison_DNS.ABPrison_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABPrison_ENS
      Animation          = ABPrison_ENS.ABPrison_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


  End

  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End 
   ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A4
      Animation       = ABPrison_A4.ABPrison_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A4N
      Animation       = ABPrison_A4N.ABPrison_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A4S
      Animation       = ABPrison_A4S.ABPrison_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End  
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A4SN
      Animation       = ABPrison_A4SN.ABPrison_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End  
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPrison_A4
      Animation       = ABPrison_A4.ABPrison_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPrison_A4N
      Animation       = ABPrison_A4N.ABPrison_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPrison_A4S
      Animation       = ABPrison_A4S.ABPrison_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPrison_A4SN
      Animation       = ABPrison_A4SN.ABPrison_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPrison_A4
      Animation       = ABPrison_A4.ABPrison_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPrison_A4N
      Animation       = ABPrison_A4N.ABPrison_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPrison_A4S
      Animation       = ABPrison_A4S.ABPrison_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPrison_A4SN
      Animation       = ABPrison_A4SN.ABPrison_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ Radar Extending -----------------
  Draw                = W3DModelDraw ModuleTag_0300
    ConditionState    = None
      Model           = ABBtCmdHQ_AC
      Animation       = ABBtCmdHQ_AC.ABBtCmdHQ_AC
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_ACD
      Animation       = ABBtCmdHQ_ACD.ABBtCmdHQ_ACD
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_ACD
      Animation       = ABBtCmdHQ_ACD.ABBtCmdHQ_ACD
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_AC
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_ACD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_ACE
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
    
  End


  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPrison_A6
      Animation       = ABPrison_A6.ABPrison_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPrison_A6N
      Animation       = ABPrison_A6N.ABPrison_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPrison_A6S
      Animation       = ABPrison_A6S.ABPrison_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPrison_A6SN
      Animation       = ABPrison_A6SN.ABPrison_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABPrison_A6
      Animation       = ABPrison_A6.ABPrison_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABPrison_A6N
      Animation       = ABPrison_A6N.ABPrison_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABPrison_A6S
      Animation       = ABPrison_A6S.ABPrison_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABPrison_A6SN
      Animation       = ABPrison_A6SN.ABPrison_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPrison_A6
      Animation       = ABPrison_A6.ABPrison_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPrison_A6N
      Animation       = ABPrison_A6N.ABPrison_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPrison_A6S
      Animation       = ABPrison_A6S.ABPrison_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPrison_A6SN
      Animation       = ABPrison_A6SN.ABPrison_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw                = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A5
      Animation       = ABPrison_A5.ABPrison_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A5N
      Animation       = ABPrison_A5N.ABPrison_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A5S
      Animation       = ABPrison_A5S.ABPrison_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPrison_A5SN
      Animation       = ABPrison_A5SN.ABPrison_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPrison_AB
      Animation       = ABPrison_AB.ABPrison_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPrison_ABN
      Animation       = ABPrison_ABN.ABPrison_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPrison_ABS
      Animation       = ABPrison_ABS.ABPrison_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPrison_ABSN
      Animation       = ABPrison_ABSN.ABPrison_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPrison_AB
      Animation       = ABPrison_AB.ABPrison_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPrison_ABN
      Animation       = ABPrison_ABN.ABPrison_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPrison_ABS
      Animation       = ABPrison_ABS.ABPrison_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPrison_ABSN
      Animation       = ABPrison_ABSN.ABPrison_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  Draw = W3DModelDraw ModuleTag_DoorAnimation
    DefaultConditionState
      Model = ABPrison_A7
      Animation = ABPrison_A7.ABPrison_A7
      AnimationMode = MANUAL
      Flags = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED
    AliasConditionState = SNOW REALLYDAMAGED
    AliasConditionState = NIGHT SNOW REALLYDAMAGED
    ConditionState = AWAITING_CONSTRUCTION 
      Model = NONE
    End
    AliasConditionState = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION REALLYDAMAGED RUBBLE
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = AWAITING_CONSTRUCTION SNOW
    AliasConditionState = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SOLD 
    AliasConditionState = SOLD DAMAGED
    AliasConditionState = SOLD REALLYDAMAGED
    AliasConditionState = SOLD NIGHT
    AliasConditionState = SOLD NIGHT DAMAGED
    AliasConditionState = SOLD NIGHT REALLYDAMAGED
    AliasConditionState = SOLD SNOW
    AliasConditionState = SOLD SNOW DAMAGED
    AliasConditionState = SOLD SNOW REALLYDAMAGED
    AliasConditionState = SOLD NIGHT SNOW
    AliasConditionState = SOLD NIGHT SNOW DAMAGED
    AliasConditionState = SOLD NIGHT SNOW REALLYDAMAGED
    ConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model = ABPrison_A7
      Flags = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT SNOW DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT REALLYDAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW REALLYDAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT SNOW REALLYDAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    ConditionState = DOOR_1_OPENING
      Model = ABPrison_A7
      Animation = ABPrison_A7.ABPrison_A7
      AnimationMode = ONCE
      Flags = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED DOOR_1_OPENING
    ConditionState = DOOR_1_CLOSING
      Model = ABPrison_A7
      Animation = ABPrison_A7.ABPrison_A7
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED DOOR_1_CLOSING
    ConditionState = DOOR_1_WAITING_OPEN
      Model = ABPrison_A7
      Animation = ABPrison_A7.ABPrison_A7
      AnimationMode = MANUAL
      Flags = START_FRAME_LAST
    End
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT REALLYDAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_OPEN
  End
 
 ;PlacementViewAngle = -45
  PlacementViewAngle = -135


  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:DetentionCamp
  Side          = AmericaAirForceGeneral
  EditorSorting = STRUCTURE
  BuildCost = 15000 ;18000 ;12000
  BuildTime = 120.0 ;60.0  ;55.0
  Prerequisites
    Object = AirF_AmericaStrategyCenter
  End
  EnergyProduction = -12 ;-8
  VisionRange    = 20000.0    ;Shroud clearing distance AND targeting range
  ShroudClearingRange = 20000
  ArmorSet
    Conditions = None
    Armor      = GPSArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
  MaxSimultaneousOfType = 1
  CommandSet = AirF_AmericaGPSCommandSet

 ; *** AUDIO Parameters ***
  VoiceSelect          = DetentionCampSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_FACTORY AUTO_RALLYPOINT POWERED
  RadarPriority = STRUCTURE

  Body = ActiveBody ModuleTag_44
    MaxHealth     = 4500.0 ;4000.0 ;2200.0
    InitialHealth = 4500.0 ;4000.0 ;2200.0
  End
 
  Behavior = DestroyDie ModuleTag_46
  End
;===============================================================================
  Behavior = CreateObjectDie ModuleTag_08
    CreationList = OCL_LargeStructureDebris
    CreationList = AirF_OCL_AmericanRangerDebris10 ;OCL_AmericanRangerDebris10
    ExemptStatus = UNDER_CONSTRUCTION
  End
;===============================================================================
;  Behavior = OCLSpecialPower ModuleTag_12012
;   SpecialPowerTemplate = SuperweaponClusterBomb
;   OCL                  = AirF_SUPERWEAPON_ClusterBomb
;  End
;================================================================================
  Behavior = FlammableUpdate ModuleTag_49
    AflameDuration     = 5000  ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5     ; taking this much damage...
    AflameDamageDelay  = 500   ; this often.
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_060
    UnitCreatePoint = X:-29.563 Y:50.707 Z:0.0
    NaturalRallyPoint = X:-29.528 Y:70.017 Z:0.0
  End
  Behavior = ProductionUpdate ModuleTag_070
    NumDoorAnimations = 1
    DoorOpeningTime = 3250
    DoorWaitOpenTime = 3000
    DoorCloseTime = 4000
    ConstructionCompleteDuration = 1500
  End

  Behavior = FXListDie ModuleTag_50
    DeathFX = FX_StructureMediumDeath
  End
  Behavior = BaseRegenerateUpdate ModuleTag_51
  End
  Behavior = TransitionDamageFX ModuleTag_52
    DamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    DamagedParticleSystem2 = Bone:None RandomBone:No PSys:SootySmokeColumn02
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
    ReallyDamagedParticleSystem4 = Bone:None RandomBone:No PSys:ForwardLightSmokePuffs
    ReallyDamagedParticleSystem5 = Bone:None RandomBone:No PSys:SootySmokeColumn03
  End

  Geometry            = BOX
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 56.0
  GeometryHeight      = 21.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetB2

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVB3bmbr
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVB3bmbr_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End

;  Draw = W3DModelDraw ModuleTag_02
;    DefaultConditionState
;      Model           = AVB3bmbr_A2K
;    End
;    ConditionState = DOOR_1_OPENING
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_CLOSING
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE_BACKWARDS
;      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
;    End

;    ConditionState = REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_OPENING REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE
;      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
;    End
;    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
;      Model           = AVB3bmbr_A2DU
;      Animation       = AVB3bmbr_A2K.AVB3bmbr_A2
;      AnimationMode   = ONCE_BACKWARDS
;      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
;    End
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = America
  ArmorSet
    Conditions      = None
    Armor           = CountermeasuresAirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = NewAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B3BomberAmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly
  ;from the transport without creating a transport. This is done
  ;via new code support and CreateLocation USE_OWNER_OBJECT --
  ;which also prevents creating the payload transport.
  ; Behavior    = OCLSpecialPower ModuleTag_04
    ; SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    ; OCL                  = SUPERWEAPON_DaisyCutter
    ; CreateLocation       = USE_OWNER_OBJECT
    ; ScriptedSpecialPowerOnly = Yes
  ; End
  ; Behavior    = OCLSpecialPower ModuleTag_05
    ; SpecialPowerTemplate = SuperweaponMOAB  ;@@KRIS@@
    ; OCL                  = SUPERWEAPON_MOAB
    ; CreateLocation       = USE_OWNER_OBJECT
    ; ScriptedSpecialPowerOnly = Yes
  ; End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL B3Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor
  End

  Behavior                = CountermeasuresBehavior ModuleTag_12
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AirF_AmericaGuardTower

  ; *** ART Parameters ***
  SelectPortrait         = GuardTower_L
  ButtonImage            = SNGatTower

  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04

;--------------------- IDLE --------------------------------------------------
;-------------------------------------------------------------------------------

    ; DAY
    DefaultConditionState
      Model               = Tower
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = Tower
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = Tower
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = Tower
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:GuardTower
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
    Object         = AirF_AmericaPowerPlant
  End
  BuildCost        = 500
  BuildTime        = 5.0           ; in seconds
  EnergyProduction = 0

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  VisionRange      = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360

  ArmorSet
    Conditions     = None
    Armor          = StructureArmor
    DamageFX       = StructureDamageFXNoShake
  End
  CommandSet       = AmericaFireBaseCommandSet

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect      = GattlingCannonSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
    VoiceRapidFire        = NoSound
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;These aren't playing properly (mdp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE GARRISONABLE_UNTIL_DESTROYED CAN_ATTACK IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_BASE_DEFENSE IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY

  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 200   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 540   ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250   ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = ProductionUpdate ModuleTag_07
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = GarrisonContain ModuleTag_15
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%

    IsEnclosingContainer          = No

  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End

  Behavior        = CreateObjectDie ModuleTag_11
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleCruiser
  SelectPortrait         = SACruiser_L
  ButtonImage            = SACruiser
  ; *** ART Parameters ***
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
;    InitialRecoilSpeed   = 120
;    MaxRecoilDistance    = 8
;    RecoilSettleSpeed    = 6
    DefaultConditionState
      Model              = AVCruiser
      Animation          = AVCruiser.AVCruiser
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVCruiser_D
      Animation          = AVCruiser_D.AVCruiser_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = OVER_WATER
      Model              = AVCruiser
      Animation          = AVCruiser.AVCruiser
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED OVER_WATER
      Model              = AVCruiser_D
      Animation          = AVCruiser_D.AVCruiser_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiser
      Animation          = AVCruiser.AVCruiser
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
    End

    ConditionState       = REALLYDAMAGED MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiser_D
      Animation          = AVCruiser_D.AVCruiser_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      AltTurret          = Turret02
      AltTurretPitch     = TurretEL02
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY Tur2Muzzle
      WeaponRecoilBone   = SECONDARY Tur2Barrel
      WeaponLaunchBone   = SECONDARY Tur2Muzzle
    End
  End

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:Cruiser
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  CommandSet             = CruiserCommandSet
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY CruiserGun
    Weapon               = SECONDARY CruiserGun
  End
  ArmorSet
    Conditions           = None
    Armor                = CruiserArmor
  End
  Prerequisites
    Object = AirF_AmericaNavalYard
  End
  BuildCost        = 1800
  BuildTime        = 10.0
  VisionRange     = 300
  ShroudClearingRange = 300
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleshipVoiceSelect
  VoiceMove = BattleshipVoiceMove
  VoiceGuard = BattleshipVoiceMove
  VoiceAttack = BattleshipVoiceAttack
  SoundAmbient = BattleshipAmbientLoop

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveLoop       = OverlordTankTurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate     = 80
      TurretPitchRate    = 80
      FirePitch          = 12            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 5000       ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle = 180  ; this turret points backwards normally
    End
    AltTurret
      TurretTurnRate     = 80
      TurretPitchRate    = 80
      FirePitch          = 15          ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 5000     ; how long to wait during idle before recentering
      ControlledWeaponSlots = SECONDARY
    End
    TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor       = SET_NORMAL CruiserLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = DestroyDie ModuleTag_05
                    ;nothing
  End
  Behavior               = CreateObjectDie ModuleTag_06
    DeathTypes = ALL
    CreationList    = OCL_GenericCarExplode
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes = ALL -FLOODED
    DeathFX         = FX_GenericCarExplode
  End

  Behavior = FloatUpdate UpdateTag_99
    Enabled = No ; 'no' because we dont want to be lifted by this update, just swayed around like a buoy
  End

  Behavior               = PhysicsBehavior ModuleTag_04
    Mass                 = 5000.0
  End

  Geometry               = BOX
  GeometryMajorRadius    = 110.0
  GeometryMinorRadius    = 20.0
  GeometryHeight         = 17.75
  GeometryIsSmall        = No
  Shadow                 = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleMissileCruiser
  SelectPortrait         = SACruiser_L
  ButtonImage            = SACruiser
  ; *** ART Parameters ***
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6
    DefaultConditionState
      Model              = AVCruiserV1
      Animation          = AVCruiserV1.AVCruiserV1
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVCruiserV1_D
      Animation          = AVCruiserV1_D.AVCruiserV1_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = OVER_WATER
      Model              = AVCruiserV1
      Animation          = AVCruiserV1.AVCruiserV1
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED OVER_WATER
      Model              = AVCruiserV1_D
      Animation          = AVCruiserV1_D.AVCruiserV1_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiserV1
      Animation          = AVCruiserV1.AVCruiserV1
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
    End

    ConditionState       = REALLYDAMAGED MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiserV1_D
      Animation          = AVCruiserV1_D.AVCruiserV1_D
      AnimationMode      = LOOP
      Turret             = Turret01
      TurretPitch        = TurretEL01
      WeaponFireFXBone   = PRIMARY Tur1Muzzle
      WeaponRecoilBone   = PRIMARY Tur1Barrel
      WeaponLaunchBone   = PRIMARY Tur1Muzzle
      WeaponFireFXBone   = SECONDARY WeaponA
      WeaponLaunchBone   = SECONDARY WeaponA
    End
  End

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:MissileCruiser
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  CommandSet             = CruiserCommandSet
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY MissileCruiserGun
    Weapon               = SECONDARY CruiserMissileWeapon
  End
  ArmorSet
    Conditions           = None
    Armor                = MissileCruiserArmor
  End
  Prerequisites
    Object = AirF_AmericaNavalYard
  End
  BuildCost        = 2000
  BuildTime        = 12.0
  VisionRange     = 300
  ShroudClearingRange = 300
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleshipVoiceSelect
  VoiceMove = BattleshipVoiceMove
  VoiceGuard = BattleshipVoiceMove
  VoiceAttack = BattleshipVoiceAttack
  SoundAmbient = BattleshipAmbientLoop

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveLoop       = OverlordTankTurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate     = 80
      TurretPitchRate    = 80
      FirePitch          = 12            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 5000       ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor       = SET_NORMAL CruiserLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = DestroyDie ModuleTag_05
                    ;nothing
  End
  Behavior               = CreateObjectDie ModuleTag_06
    DeathTypes = ALL
    CreationList    = OCL_GenericCarExplode
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes = ALL -FLOODED
    DeathFX         = FX_GenericCarExplode
  End

  Behavior = FloatUpdate UpdateTag_99
    Enabled = No ; 'no' because we dont want to be lifted by this update, just swayed around like a buoy
  End

  Behavior               = PhysicsBehavior ModuleTag_04
    Mass                 = 5000.0
  End

  Geometry               = BOX
  GeometryMajorRadius    = 110.0
  GeometryMinorRadius    = 20.0
  GeometryHeight         = 17.75
  GeometryIsSmall        = No
  Shadow                 = SHADOW_VOLUME

End

;----------------------------------------------------------------------
Object AirF_AmericaNavalYard

  ; *** ART Parameters ***
  SelectPortrait = SACWeaponsfact_L
  ButtonImage            = SACWeaponsfact

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model           = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
    End
    AliasConditionState  = NIGHT
    AliasConditionState  = SNOW
    AliasConditionState  = NIGHT SNOW

    ConditionState = DAMAGED
      Model           = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
   End
    AliasConditionState  = NIGHT DAMAGED
    AliasConditionState  = SNOW DAMAGED
    AliasConditionState  = NIGHT SNOW DAMAGED

    ConditionState = REALLYDAMAGED RUBBLE
      Model           = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
    End
    AliasConditionState  = NIGHT REALLYDAMAGED
    AliasConditionState  = SNOW REALLYDAMAGED
    AliasConditionState  = NIGHT SNOW REALLYDAMAGED

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = 12UNY
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = 12UNY_D
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFire
      ParticleSysBone = Fire01 SmolderingSmoke
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = 12UNY_E
      ParticleSysBone = Stack01 SteamVent
      ParticleSysBone = Stack02 SteamVent
      ParticleSysBone = Smoke01 SmolderingSmoke
      ParticleSysBone = Smoke02 SmolderingSmoke
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Fire01 SmolderingSmoke
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire02 SmolderingSmoke
      ParticleSysBone = SPARKS01 LiveWireSparks02
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************


  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:USANavalYard
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  VisionRange         = 200.0
  ShroudClearingRange = 200
  Prerequisites
     Object = AirF_AmericaSupplyCenter
  End
  BuildCost = 2500
  BuildTime = 15.0
  MaxSimultaneousOfType = 4
  EnergyProduction = 1
  CommandSet = AirF_AmericaNavalYardCommandSet
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY
  Body            = StructureBody ModuleTag_09
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_10
  ;EMPTY
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -255.844  Y:1.194   Z:0.257
    NaturalRallyPoint = X: -306.994  Y:-225.627   Z:0.257
  End

  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)
    NumberApproachPositions = 5
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End


  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = CreateObjectDie ModuleTag_16
    CreationList  = AirF_OCL_AmericanRangerDebris04 ;OCL_AmericanRangerDebris05
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 5000
    AflameDamageAmount = 5
    AflameDamageDelay = 500
  End

  Behavior             = CreateObjectDie ModuleTag_20
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior             = FXListDie ModuleTag_21
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior             = DestroyDie ModuleTag_22
    ;nothing
  End

  Geometry            = BOX
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 60.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleAACruiser
  SelectPortrait         = SACruiser_L
  ButtonImage            = SACruiser
  ; *** ART Parameters ***
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    InitialRecoilSpeed   = 120
    MaxRecoilDistance    = 8
    RecoilSettleSpeed    = 6
    DefaultConditionState
      Model              = AVCruiserV2
      Animation          = AVCruiserV2.AVCruiserV2
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED
      Model              = AVCruiserV2_D
      Animation          = AVCruiserV2_D.AVCruiserV2_D
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = OVER_WATER
      Model              = AVCruiserV2
      Animation          = AVCruiserV2.AVCruiserV2
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState       = REALLYDAMAGED OVER_WATER
      Model              = AVCruiserV2_D
      Animation          = AVCruiserV2_D.AVCruiserV2_D
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples1
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples1
    End

    ConditionState  = MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiserV2
      Animation          = AVCruiserV2.AVCruiserV2
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
    End

    ConditionState       = REALLYDAMAGED MOVING OVER_WATER
      ParticleSysBone = TreadFX01 AmphibWave
      Model              = AVCruiserV2_D
      Animation          = AVCruiserV2_D.AVCruiserV2_D
      AnimationMode      = LOOP
      Turret             = Turret02
      TurretPitch        = TurretEL02
      AltTurret          = Turret01
      AltTurretPitch     = TurretEL01
      WeaponFireFXBone   = PRIMARY Muzzle
      WeaponLaunchBone   = PRIMARY Muzzle
      WeaponFireFXBone   = SECONDARY Muzzle
      WeaponLaunchBone   = SECONDARY Muzzle
      WeaponFireFXBone   = TERTIARY WeaponC
      WeaponLaunchBone   = TERTIARY WeaponC
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:AACruiser
  Side                   = AmericaAirForceGeneral
  EditorSorting          = VEHICLE
  TransportSlotCount     = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  CommandSet             = CruiserCommandSet
  WeaponSet
    Conditions           = None
    Weapon               = PRIMARY GattlingBuildingGun
    Weapon               = SECONDARY GattlingBuildingGunAir
    PreferredAgainst     = SECONDARY BALLISTIC_MISSILE AIRCRAFT
    Weapon               = TERTIARY SAMMissileWeapon
    PreferredAgainst     = TERTIARY BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions           = None
    Armor                = CruiserArmor
  End
  Prerequisites
    Object = AirF_AmericaNavalYard
  End
  BuildCost        = 1200
  BuildTime        = 10
  VisionRange     = 300
  ShroudClearingRange = 300
  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleshipVoiceSelect
  VoiceMove = BattleshipVoiceMove
  VoiceGuard = BattleshipVoiceMove
  VoiceAttack = BattleshipVoiceAttack
  SoundAmbient = BattleshipAmbientLoop

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveLoop       = OverlordTankTurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = UNIT
  KindOf            = PRELOAD SELECTABLE ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth            = 1200.0
    InitialHealth        = 1200.0
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate     = 80
      TurretPitchRate    = 80
      FirePitch          = 12            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 5000       ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AltTurret
      TurretTurnRate     = 80
      TurretPitchRate    = 80
      FirePitch          = 15          ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch        = Yes
      RecenterTime       = 5000     ; how long to wait during idle before recentering
      ControlledWeaponSlots = TERTIARY
      NaturalTurretAngle = 180  ; this turret points backwards normally
    End
    TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor       = SET_NORMAL CruiserLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = DestroyDie ModuleTag_05
                    ;nothing
  End
  Behavior               = CreateObjectDie ModuleTag_06
    DeathTypes = ALL
    CreationList    = OCL_GenericCarExplode
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes = ALL -FLOODED
    DeathFX         = FX_GenericCarExplode
  End

  Behavior = FloatUpdate UpdateTag_99
    Enabled = No ; 'no' because we dont want to be lifted by this update, just swayed around like a buoy
  End

  Behavior               = PhysicsBehavior ModuleTag_04
    Mass                 = 5000.0
  End

  Geometry               = BOX
  GeometryMajorRadius    = 110.0
  GeometryMinorRadius    = 20.0
  GeometryHeight         = 10.0
  GeometryIsSmall        = No
  Shadow                 = SHADOW_VOLUME

End

;------------------------------------------------------------------------------
Object AirF_AmericaTankt

  ; *** ART Parameters ***
  SelectPortrait         = SATankBunker_L
  ButtonImage            = SATankBunker
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01

    DefaultConditionState
      Model               = ABTankBunkerA
      TransitionKey       = TRANS_IdleNormal
    End
    AliasConditionState = NIGHT

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleNormal TRANS_GarrisonedNormal
      Model           = ABTankBunker
      Animation       = ABTankBunker.ABTankBunker
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED
      Model             = ABTankBunkerB
      TransitionKey     = TRANS_GarrisonedNormal
    End
    AliasConditionState = NIGHT GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedNormal TRANS_IdleNormal
      Model           = ABTankBunker
      Animation       = ABTankBunker.ABTankBunker
      AnimationMode   = ONCE_BACKWARDS
    End

    ConditionState = DAMAGED
      Model               = ABTankBunkerA_d
      TransitionKey       = TRANS_IdleDamaged
    End
    AliasConditionState = NIGHT DAMAGED

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleDamaged TRANS_GarrisonedDamaged
      Model           = ABTankBunker_d
      Animation       = ABTankBunker_d.ABTankBunker_d
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED DAMAGED
      Model             = ABTankBunkerB_d
      TransitionKey     = TRANS_GarrisonedDamaged
    End
    AliasConditionState = NIGHT DAMAGED GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedDamaged TRANS_IdleDamaged
      Model           = ABTankBunker_d
      Animation       = ABTankBunker_d.ABTankBunker_d
      AnimationMode   = ONCE_BACKWARDS
    End

    ConditionState = REALLYDAMAGED
      Model               = ABTankBunkerA_d
      TransitionKey       = TRANS_IdleRDamaged
    End
    AliasConditionState = NIGHT DAMAGED REALLYDAMAGED

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleRDamaged TRANS_GarrisonedRDamaged
      Model           = ABTankBunker_d
      Animation       = ABTankBunker_d.ABTankBunker_d
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED REALLYDAMAGED
      Model             = ABTankBunkerB_d
      TransitionKey     = TRANS_GarrisonedRDamaged
    End
    AliasConditionState = NIGHT REALLYDAMAGED GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedRDamaged TRANS_IdleRDamaged
      Model           = ABTankBunker_d
      Animation       = ABTankBunker_d.ABTankBunker_d
      AnimationMode   = ONCE_BACKWARDS
    End

    ConditionState = SNOW
      Model               = ABTankBunkerA_s
      TransitionKey       = TRANS_IdleSnow
    End
    AliasConditionState = NIGHT SNOW

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleSnow TRANS_GarrisonedNormal
      Model           = ABTankBunker_s
      Animation       = ABTankBunker_s.ABTankBunker_s
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED SNOW
      Model             = ABTankBunkerB_s
      TransitionKey     = TRANS_GarrisonedSnow
    End
    AliasConditionState = NIGHT SNOW GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedSnow TRANS_IdleSnow
      Model           = ABTankBunker_s
      Animation       = ABTankBunker_s.ABTankBunker_s
      AnimationMode   = ONCE_BACKWARDS
    End

    ConditionState = SNOW DAMAGED
      Model               = ABTankBunkerA_ds
      TransitionKey       = TRANS_IdleDSnow
    End
    AliasConditionState = NIGHT SNOW DAMAGED

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleDSnow TRANS_GarrisonedDSnow
      Model           = ABTankBunker_ds
      Animation       = ABTankBunker_ds.ABTankBunker_ds
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED SNOW DAMAGED
      Model             = ABTankBunkerB_ds
      TransitionKey     = TRANS_GarrisonedDSnow
    End
    AliasConditionState = NIGHT SNOW DAMAGED GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedDSnow TRANS_IdleDSnow
      Model           = ABTankBunker_ds
      Animation       = ABTankBunker_ds.ABTankBunker_ds
      AnimationMode   = ONCE_BACKWARDS
    End

    ConditionState = SNOW REALLYDAMAGED
      Model               = ABTankBunkerA_ds
      TransitionKey       = TRANS_IdleRDSnow
    End
    AliasConditionState = NIGHT SNOW REALLYDAMAGED

    ; Tank Bunker out of the base
    TransitionState   = TRANS_IdleRDSnow TRANS_GarrisonedRDSnow
      Model           = ABTankBunker_ds
      Animation       = ABTankBunker_ds.ABTankBunker_ds
      AnimationMode   = ONCE
    End

    ; Attacking State
    ConditionState      = GARRISONED SNOW REALLYDAMAGED
      Model             = ABTankBunkerB_ds
      TransitionKey     = TRANS_GarrisonedRDSnow
    End
    AliasConditionState = NIGHT SNOW REALLYDAMAGED GARRISONED

    ; Patriot Poping back into the base
    TransitionState   = TRANS_GarrisonedRDSnow TRANS_IdleRDSnow
      Model           = ABTankBunker_ds
      Animation       = ABTankBunker_ds.ABTankBunker_ds
      AnimationMode   = ONCE_BACKWARDS
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    ;**************************************************************************************************************************

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABTankBunkerA
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABTankBunkerA_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABTankBunkerA_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABTankBunkerA_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ;**************************************************************************************************************************
  End




  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TankBunker
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  Prerequisites
    Object         = AirF_AmericaPowerPlant
  End
  BuildCost        = 300
  BuildTime        = 10.0           ; in seconds
  EnergyProduction = 0

  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  VisionRange      = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360

  ArmorSet
    Conditions      = None
    Armor           = FireBaseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = AmericaFireBaseCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = FireBaseSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK GARRISONABLE_UNTIL_DESTROYED IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_BASE_DEFENSE POWERED IMMUNE_TO_CAPTURE MP_COUNT_FOR_VICTORY

  Body                 = HiveStructureBody ModuleTag_04;
    MaxHealth          = 1000.0
    InitialHealth      = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   = 200   ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 540   ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250   ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = ProductionUpdate ModuleTag_07
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior             = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = FXListDie ModuleTag_09
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = GarrisonContain ModuleTag_15
    ContainMax                    = 1
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%
    AllowInsideKindOf             = VEHICLE
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    IsEnclosingContainer          = No
  End

  Behavior = ProductionUpdate ModuleTag_10
    ; nothing
  End

  Behavior        = CreateObjectDie ModuleTag_11
    CreationList  = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaBunker

  ; *** ART Parameters ***
  SelectPortrait = SABunker_L
  ButtonImage    = SABunker

  UpgradeCameo1 = Upgrade_GarrisonRangers
  UpgradeCameo2 = Upgrade_GarrisonSMD
  UpgradeCameo3 = Upgrade_GarrisonMissileDefenders
  UpgradeCameo4 = Upgrade_GarrisonPathfinders

  Draw                    = W3DModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    IgnoreConditionStates = NIGHT

    ;day
    DefaultConditionState
      Model              = ABBunker
      HideSubObject      = SANDBAGS
    End
    ConditionState       = GARRISONED
      Model              = ABBunker
      ShowSubObject      = SANDBAGS
    End
    ConditionState       = DAMAGED
      Model              = ABBunker_D
      HideSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Fire02  SmolderingFlameCore
    End
    ConditionState       = DAMAGED GARRISONED
      Model              = ABBunker_D
      ShowSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABBunker_E
      HideSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Fire02  SmolderingFlameCore
      ParticleSysBone    = Fire03  SmolderingFire
      ParticleSysBone    = Fire03  SmolderingFlameCore
      ParticleSysBone    = Fire04  SmolderingFire
      ParticleSysBone    = Fire04  SmolderingFlameCore
      ParticleSysBone    = Fire05  SmolderingFire
      ParticleSysBone    = Fire05  SmolderingFlameCore
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED RUBBLE GARRISONED
      Model              = ABBunker_E
      ShowSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Fire02  SmolderingFlameCore
      ParticleSysBone    = Fire03  SmolderingFire
      ParticleSysBone    = Fire03  SmolderingFlameCore
      ParticleSysBone    = Fire04  SmolderingFire
      ParticleSysBone    = Fire04  SmolderingFlameCore
      ParticleSysBone    = Fire05  SmolderingFire
      ParticleSysBone    = Fire05  SmolderingFlameCore
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
    End

    ConditionState       = SNOW
      Model              = ABBunker_S
      HideSubObject      = SANDBAGS
    End
    ConditionState       = SNOW GARRISONED
      Model              = ABBunker_S
      ShowSubObject      = SANDBAGS
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABBunker_DS
      HideSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Fire02  SmolderingFlameCore
    End
    ConditionState       = DAMAGED SNOW GARRISONED
      Model              = ABBunker_DS
      ShowSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Fire02  SmolderingFlameCore
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABBunker_ES
      HideSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Fire02  SmolderingFlameCore
      ParticleSysBone    = Fire03  SmolderingFire
      ParticleSysBone    = Fire03  SmolderingFlameCore
      ParticleSysBone    = Fire04  SmolderingFire
      ParticleSysBone    = Fire04  SmolderingFlameCore
      ParticleSysBone    = Fire05  SmolderingFire
      ParticleSysBone    = Fire05  SmolderingFlameCore
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW GARRISONED
      Model              = ABBunker_ES
      ShowSubObject      = SANDBAGS
      ParticleSysBone    = Fire01  SmolderingFire
      ParticleSysBone    = Fire01  SmolderingFlameCore
      ParticleSysBone    = Fire02  SmolderingFire
      ParticleSysBone    = Fire02  SmolderingFlameCore
      ParticleSysBone    = Fire03  SmolderingFire
      ParticleSysBone    = Fire03  SmolderingFlameCore
      ParticleSysBone    = Fire04  SmolderingFire
      ParticleSysBone    = Fire04  SmolderingFlameCore
      ParticleSysBone    = Fire05  SmolderingFire
      ParticleSysBone    = Fire05  SmolderingFlameCore
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBunker
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBunker_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBunker_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABBunker_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABBunker_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABBunker_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD GARRISONED
    AliasConditionState  = SOLD DAMAGED GARRISONED
    AliasConditionState  = SOLD REALLYDAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW GARRISONED
    AliasConditionState  = SOLD SNOW DAMAGED GARRISONED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED GARRISONED
    ;**************************************************************************************************************************


  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle     = -135

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Bunker
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  VisionRange         = 300.0         ; Shroud clearing distance
  ShroudClearingRange = 200
  Prerequisites
    Object = AirF_AmericaBarracks
  End
  BuildCost = 500 ;1700 ;[500]*
  BuildTime = 8.0 ;26.0 ;[8.0]* ; in seconds
  EnergyProduction = 0
  ExperienceValue = 30 30 30 30  ; Experience point value at each level
  ArmorSet
    Conditions = None
    Armor      = BunkerArmor
    DamageFX   = StructureDamageFXNoShake
  End
  CommandSet = AirF_AmericaBunkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect          = BunkerSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED
  Body              = StructureBody ModuleTag_05
    MaxHealth       = 800.0
    InitialHealth   = 800.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = DestroyDie ModuleTag_06
    ;nothing
  End
;============================================================================================================
  Behavior = GarrisonContain ModuleTag_07
    ContainMax                   = 4
    EnterSound                   = GarrisonEnter
    ExitSound                    = GarrisonExit
    ImmuneToClearBuildingAttacks = Yes
    DamagePercentToUnits         = 100%
    IsEnclosingContainer         = Yes
    ;InitialPayload = AirF_AmericaInfantryMissileDefender 4
  End
;============================================================================================================
  Behavior = ProductionUpdate ModuleTag_08 ;_12 ;_11***
    ;MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

;============================================================================================================
;---------------------------------------------------------
;----------[ 2Marine + 2Missile Defender Upgrade ]---------------(1)
;---------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_CreateMMD01
    UpgradeObject = OCL_AirF_America2Marine    ;-πππππππππππππππ ƒ‚‡ ÃÓÔÂı‡ πππππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonRangers
  End
  Behavior = ObjectCreationUpgrade ModuleTag_CreateMMD02
    UpgradeObject = OCL_AirF_America2MD        ;-πππππππππππππππ ƒ‚‡ –‡ÍÂÚ˜ËÍ‡ πππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonRangers
  End

  Behavior = CommandSetUpgrade ModuleTag_ABGSet01
    CommandSet    = AirF_AmericaBunkerCommandSetG
    TriggeredBy   = Upgrade_GarrisonRangers
  End
;---------------------------------------------------------
;----------[ 1SpecOps + 3Missile Defender Upgrade ]--------------(2)
;---------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_CreateSMD01
    UpgradeObject = OCL_AirF_AmericaSpecOps         ;-πππππππππππππππππ Œ‰ËÌ –ÂÈÌ‰ÊÂ πππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonSMD
  End
  Behavior = ObjectCreationUpgrade ModuleTag_CreateSMD02
    UpgradeObject = OCL_AirF_AmericaMissileDefender ;-πππππππππππππππππ “Ë –‡ÍÂÚ˜ËÍ‡ πππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonSMD
  End

  Behavior = CommandSetUpgrade ModuleTag_ABGSet02
    CommandSet    = AirF_AmericaBunkerCommandSetG
    TriggeredBy   = Upgrade_GarrisonSMD
  End
;---------------------------------------------------------
;----------[ 4Missile Defender Upgrade ]-------------------------(3)
;---------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_CreateMD01
    UpgradeObject = OCL_AirF_AmericaBunker4MD ;-πππππππππππππππ ◊ÂÚ˚Â –‡ÍÂÚ˜ËÍ‡ ππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonMissileDefenders
  End

  Behavior = CommandSetUpgrade ModuleTag_ABGSet03
    CommandSet    = AirF_AmericaBunkerCommandSetG
    TriggeredBy   = Upgrade_GarrisonMissileDefenders
  End
;---------------------------------------------------------
;----------[ 1Missile Defender + 3Pathfinder Upgrade ]-----------(4)
;---------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_CreateMDP01
    UpgradeObject = OCL_AirF_AmericaMDP1        ;-ππππππππππππππ Œ‰ËÌ –‡ÍÂÚ˜ËÍ ππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonPathfinders
  End

  Behavior = ObjectCreationUpgrade ModuleTag_CreateMDP02
    UpgradeObject = OCL_AirF_AmericaMDP2        ;-ππππππππππππππ “Ë —Ì‡ÈÔÂ‡ πππππππππππππππ
    TriggeredBy   = Upgrade_GarrisonPathfinders
  End

  Behavior = CommandSetUpgrade ModuleTag_ABGSet04
    CommandSet    = AirF_AmericaBunkerCommandSetG
    TriggeredBy   = Upgrade_GarrisonPathfinders
  End
;===============================================================================================================

  Behavior = BaseRegenerateUpdate ModuleTag_12 ;_1400
    ;No data
  End

  Behavior = CreateObjectDie ModuleTag_13
    CreationList = OCL_LargeStructureDebris
  End
  Behavior = FXListDie ModuleTag_14
    DeathFX = FX_StructureSmallDeath
  End

  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = FlammableUpdate ModuleTag_16 ;_12***
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry            = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 20.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER

End

;------------------------------------------------------------------------------
Object AirF_AmericaAvengerBattery

  ; *** ART Parameters ***
  SelectPortrait         = AvengerBattery
  ButtonImage            = AvengerBattery
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = IBLaserTrt
      Turret            = TURRET01
      TurretPitch       = TURRETEL01
      WeaponFireFXBone = PRIMARY TURRETMS01
      WeaponFireFXBone = SECONDARY TURRETMS02
      WeaponRecoilBone = PRIMARY Barrel01
      WeaponRecoilBone = SECONDARY Barrel01
      WeaponLaunchBone = PRIMARY TURRETMS01
      WeaponLaunchBone = SECONDARY TURRETMS02
    End
    AliasConditionState = NIGHT
    
    ConditionState      = DAMAGED
      Model             = IBLaserTrt_D
    End
    AliasConditionState = DAMAGED NIGHT
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = IBLaserTrt_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    
    
    ConditionState      = SNOW
      Model             = IBLaserTrt
    End
    AliasConditionState = SNOW NIGHT
    
    ConditionState      = DAMAGED SNOW
      Model             = IBLaserTrt_D
    End
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = IBLaserTrt_E
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
   
    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = IBLaserTrt
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = IBLaserTrt
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = IBLaserTrt_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = IBLaserTrt_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = IBLaserTrt_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = IBLaserTrt_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************
       

    
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:AvengerBattery
  Side              = AmericaAirForceGeneral
  EditorSorting     = STRUCTURE
  Prerequisites
    Object = AirF_AmericaPowerPlant
  End
  BuildCost        = 800
  BuildTime        = 9.0           ; in seconds
  EnergyProduction = -2
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     AvengerBattAirLaserOne
    Weapon              = SECONDARY   AvengerBattAirLaserTwo
  End
  VisionRange    = 360.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions      = None
    Armor           = BaseDefenseArmor
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = AmericaPatriotBatteryCommandSet
  ExperienceValue     = 200 200 200 200  ; Experience point value at each level

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body            = StructureBody ModuleTag_04
    MaxHealth     = 1000.0
    InitialHealth = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End 
  Behavior = AIUpdateInterface ModuleTag_0300
    Turret
      ControlledWeaponSlots = PRIMARY SECONDARY
      TurretTurnRate      = 200 ;[180]* ;Turn rate, in degrees per sec
      TurretPitchRate     = 200 ;[180]*
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500 ; default is 2000
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
  Behavior             = CreateObjectDie ModuleTag_09
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;----------------------------------------------------------------------
Object AirF_AmericaVehicleMobileDronecar

  ; *** ART Parameters ***
  SelectPortrait         = SADronecar
  ButtonImage            = SADronecar

  UpgradeCameo1 = Upgrade_AmericaBattleDrone

  Draw                   = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVDronecar
      ParticleSysBone   = SMOKE07 DozerSmokeLight
      ParticleSysBone   = SMOKE01 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVDronecar_D
      ParticleSysBone   = SMOKE07 DozerSmokeLight
      ParticleSysBone   = SMOKE08 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVDronecar_D
    End

    ConditionState       = MOVING
      Model              = AVDronecar
      ParticleSysBone   = SMOKE07 DozerSmokeHeavy
      ParticleSysBone   = SMOKE01 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVDronecar_D
      ParticleSysBone   = SMOKE07 DozerSmokeHeavy
      ParticleSysBone   = SMOKE08 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVDronecar_D
    End
    CabRotationMultiplier = 1.5

    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire04
    LeftRearTireBone           = Tire05
    RightRearTireBone          = Tire06
    MidRightRearTireBone       = Tire07
    LeftRearTireBone           = Tire08
    RightRearTireBone          = Tire09
    RightRearTireBone          = Tire10
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:Dronecar ;CONTROLBAR:ConstructAmericaVehicleDronecar
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 8  ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  ArmorSet
    Conditions = None
    Armor      = HumveeArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 2000
  BuildTime = 20.0          ;in seconds
  VisionRange     = 150.0
  ShroudClearingRange = 320
  Prerequisites
    Object = AirF_AmericaWarFactory
    Science = SCIENCE_AMERICA_AIRF_GENERAL
    ;;;Object  = AirF_AmericaAirfield
    ;;;Object  = AirF_AmericaStrategyCenter
    ;;;Science = SCIENCE_AmericaDronecar
  End
  MaxSimultaneousOfType = 4 ;3
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes   ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AirF_AmericaMobileDronecarCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = POWTruckUSAVoiceSelect
  VoiceMove = POWTruckUSAVoiceMove
  VoiceGuard = POWTruckUSAVoiceMove
  SoundEnter = POWTruckEnter
  SoundExit = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = POWTruckUSAVoiceCreate
    TurretMoveLoop       = TurretMoveLoop
    SoundMoveStart       = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    VoiceCrush           = POWTruckUSAVoiceCrush
    ; Required for the W3DTruckDraw module
    TruckLandingSound    = RocketBuggyLand
    TruckPowerslideSound = POWTruckUSAMoveStart
    VoiceEnter           = POWTruckUSAVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT FS_FACTORY

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 500.0 ;300.0*
    InitialHealth   = 500.0 ;300.0*

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 660
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL DronecarLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;--------------------------------------------------------------------------------------------------
  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
;---------------------------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = HealContain ModuleTag_09
    ContainMax          = 1
    TimeForFullHeal     = 10000  
    AllowInsideKindOf   = DRONE
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_60
    UnitCreatePoint    = X: -13.024 Y: 0.416 Z: 13.423
    NaturalRallyPoint  = X: -13.024 Y: 0.416 Z: 13.423
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_AmericanDronecarDeathEffect
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 14.0
  GeometryHeight = 6.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.15 ;1.2*

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSuicideDrone

  ; *** ART Parameters ***
  SelectPortrait         = SASuicideDrone_L
  ButtonImage            = SASuicideDrone

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
    
  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVSDron
      Animation = AVSDron.AVSDron
      AnimationMode = LOOP
      WeaponFireFXBone = PRIMARY Firepoint
      WeaponLaunchBone = PRIMARY Firepoint
    End

    ConditionState = REALLYDAMAGED
      Model = AVSDron_D
      Animation = AVSDron_D.AVSDron_D
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = CONTROLBAR:ConstructAmericaVehicleSuicideDrone
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0 
  ShroudClearingRange = 200
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     DroneSuicideWeapon
    AutoChooseSources = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = AttackDroneArmor
    DamageFX        = None
  End
  BuildCost           = 300
  BuildTime           = 8              ; in seconds  
  ExperienceValue     = 25 25 25 25   ; Experience point value at each level
  ExperienceRequired  = 500 500 500 500   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AirF_SuicideDroneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = BattleDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED DRONE

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate        = 360   // turn rate, in degrees per sec
      TurretPitchRate       = 360
      MinPhysicalPitch      = -75 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY
    End

  End
  Locomotor = SET_NORMAL  AttackDroneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 50.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Bomb01
    DeathWeapon   = SuicideDroneDetonationWeapon
    StartsActive  = Yes
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleStingerDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAStingerDrone_L
  ButtonImage            = SAStingerDrone

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
    
  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVStingDR
      Animation = AVStingDR.AVStingDR
      AnimationMode = LOOP
      WeaponFireFXBone = PRIMARY Firepoint
      WeaponLaunchBone = PRIMARY Firepoint
    End

    ConditionState = REALLYDAMAGED
      Model = AVStingDR_D
      Animation = AVStingDR_D.AVStingDR_D
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = CONTROLBAR:ConstructAmericaVehicleStingerDrone
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0 
  ShroudClearingRange = 200
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY StingerMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = AttackDroneArmor
    DamageFX        = None
  End
  BuildCost           = 510
  BuildTime           = 8              ; in seconds  
  ExperienceValue     = 25 25 25 25   ; Experience point value at each level
  ExperienceRequired  = 500 500 500 500   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = BattleDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED DRONE

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 170.0
    InitialHealth   = 170.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate        = 360   // turn rate, in degrees per sec
      TurretPitchRate       = 360
      MinPhysicalPitch      = -75 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY
    End

  End
  Locomotor = SET_NORMAL  AttackDroneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 50.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleHellfireDroneRobo

  ; *** ART Parameters ***
  SelectPortrait         = SAHellfire_L
  ButtonImage            = SAHellfire

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
    
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVHellDrone
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState = REALLYDAMAGED
      Model = AVHellDrone_d
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:HellfireDrone
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 300
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     HellfireDroneMissiles
  End
  ArmorSet
    Conditions      = None
    Armor           = AttackDroneArmor
    DamageFX        = None
  End
  BuildCost           = 510
  BuildTime           = 10              ; in seconds  
  ExperienceValue     = 35 35 35 35   ; Experience point value at each level
  ExperienceRequired  = 500 500 500 500   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = HellfireDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY 
    End
  End
  Locomotor = SET_NORMAL  AttackDroneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 50.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSpyDrone2

  ; *** ART Parameters ***
  SelectPortrait         = SAScout_L
  ButtonImage            = SAScout

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
    
  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVSpyDrone
      Animation = AVSpyDrone.AVSpyDrone
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVSpyDrone
      Animation = AVSpyDrone.AVSpyDrone
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpyDrone
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 400
  ArmorSet
    Conditions      = None
    Armor           = AttackDroneArmor
    DamageFX        = None
  End
  BuildCost = 500 ;[‚ 9.1.19_Fix5 ·˚ÎÓ: 300] ;[‚ 9.0 - 9.1.18 ·˚ÎÓ: 100]
  BuildTime = 4.0 ; in seconds
 ;--------------------------------
  MaxSimultaneousOfType = 12
 ;-------------------------------- 
  ExperienceValue     = 25 25 25 25   ; Experience point value at each level
  ExperienceRequired  = 500 500 500 500   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AirF_SpyDroneCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = BattleDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED DRONE HARVESTER
;[HARVESTER - ÔÂÂ‚Ó‰:" ÓÏ·‡ÈÌ,Û·ÓÓ˜Ì‡ˇ Ï‡¯ËÌ‡"-ÍÓ‰ ‰Îˇ ÓÚ‰ÂÎÂÌËˇ ˛ÌËÚ‡ ÓÚ ·ÓÂ‚˚ı ˛ÌËÚÓ‚.≈ÒÎË Ì‡Ê‡Ú¸ Q Ë W - ÚÓ ‚˚‰ÂÎˇÚÒˇ ‚ÒÂ ·ÓÂ‚˚Â ˛ÌËÚ˚ Ì‡ Í‡Ú‡ ÍÓÏÂ ÚÂı Û ÍÓ„Ó ËÏÂÂÚÒˇ ÍÓ‰ HARVESTER]
  Body = ActiveBody ModuleTag_04
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate        = 360   ;Turn rate, in degrees per sec
      TurretPitchRate       = 360
      MinPhysicalPitch      = -75 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY
    End

  End
  Locomotor = SET_NORMAL  AttackDroneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 50.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthUpdate ModuleTag_0979
    StealthDelay                = 0 ; msec
    StealthForbiddenConditions  = NONE
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = StealthDetectorUpdate ModuleTag_1360
    DetectionRate     = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange   =  200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleAttackDrone

  ; *** ART Parameters ***
  SelectPortrait         = SABattleDrone
  ButtonImage            = SABattleDrone

  UpgradeCameo1 = Upgrade_AmericaDroneArmor
    
  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AVBATTLEDR
      Animation = AVBATTLEDR.AVBATTLEDR
      AnimationMode = LOOP
      Turret = Turret01
      TurretPitch = TurretEL01
      WeaponMuzzleFlash = PRIMARY TurretFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = REALLYDAMAGED
      Model = AVBATTLEDR_D
      Animation = AVBATTLEDR_D.AVBATTLEDR_D
      AnimationMode = LOOP
    End
    OkToChangeModelColor = Yes 
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BattleDrone
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 200.0 
  ShroudClearingRange = 300
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     AttackDroneMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = AttackDroneArmor
    DamageFX        = None
  End
  BuildCost           = 310
  BuildTime           = 8              ; in seconds  
  ExperienceValue     = 25 25 25 25   ; Experience point value at each level
  ExperienceRequired  = 500 500 500 500   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = GenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundMoveStart        = SentryDroneMoveStart
  SoundMoveStartDamaged = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = BattleDroneVoiceCreate
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD POWERED

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate = 360      ; this "turret" does not turn
      TurretPitchRate = 360     ; nor does it pitch
      MinPhysicalPitch      = -75
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY 
    End

  End
  Locomotor = SET_NORMAL  AttackDroneLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior                 = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList      = OCL_AmericaBattleDroneExplode
  End
  
  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  
  Behavior                 = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX           = FX_AmericaBattleDroneExplode
  End
  Behavior = PhysicsBehavior ModuleTag_22
    Mass = 50.0
    KillWhenRestingOnGround = No
    AllowBouncing = No
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = MaxHealthUpgrade ModuleTag_23
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 50.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_CarpetBomb

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = EXBombA
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:CarpetBomb
  Side = America
  EditorSorting   = SYSTEM
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 300.0  
  ArmorSet
    Conditions      = None
    Armor           = ProjectileArmor
    DamageFX        = None
  End

  ; *** AUDIO Parameters ***
  SoundFallingFromPlane = DaisyCutterWeapon

  ; *** ENGINEERING Parameters ***
  KindOf            = PROJECTILE
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
  End
  Locomotor = SET_NORMAL None

  Behavior = PhysicsBehavior ModuleTag_04

    Mass                  = 75.0
    AerodynamicFriction   = 1     ; this is now friction-per-sec
    ForwardFriction       = 33    ; this is now friction-per-sec
    CenterOfMassOffset    = 2     ; Default of 0 means nothing tips as it falls.  Positive tips forward, negative tips back
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_05
    DeathWeapon   = CarpetBombWeapon
    StartsActive  = Yes
  End

  Behavior = HeightDieUpdate ModuleTag_06
    TargetHeight = 1.0
    TargetHeightIncludesStructures = No
  End

  Behavior = SpecialPowerCompletionDie ModuleTag_07
    SpecialPowerTemplate = SuperweaponCarpetBomb
  End

  Behavior = FXListDie ModuleTag_08
    DeathFX = FX_AirF_CarpetBomb
  End
  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End

End

;---------------------------------------------------------------
Object AirF_AmericaVehicleMobileAirfbaseZapas

  ; *** ART Parameters ***
  SelectPortrait         = SAAirfbase
  ButtonImage            = SAAirfbase

  Draw                   = W3DOverlordTankDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
    End

    ConditionState       = MOVING
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbaseZapas ;OBJECT:MobileAirfbase
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 800
  BuildTime = 12.0          ;in seconds
  VisionRange         = 300.0
  ShroudClearingRange = 320
  Prerequisites
    Object  = AirF_AmericaWarFactory
    Science = SCIENCE_AMERICA_AIRF_GENERAL
    ;;Object = AirF_AmericaAirfield
    ;;Science = SCIENCE_Rank3
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet ;AirF_AmericaMobileAirfbasePystCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1000.0 ;1500.0*
    InitialHealth = 1000.0 ;1500.0*

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 80.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End

  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = ReplaceObjectUpgrade ModuleTag_80
    ReplaceObject = AirF_AmericaVehicleMobileAirfbaseZapasActive
    TriggeredBy = UpgradeMobileTunnelNetwork
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------
Object AirF_AmericaVehicleMobileAirfbaseZapasActive

  ; *** ART Parameters ***
  SelectPortrait         = SAAirfbase
  ButtonImage            = SAAirfbase

  Draw                   = W3DTruckDraw ModuleTag_01
    ReceivesDynamicLights = No

    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayLDEnd1 
    ExtraPublicBone = RunwayLDStart1 
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Taxi1 
    ExtraPublicBone = Hanger1
    ExtraPublicBone = CIPOW

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBaseP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBaseP_d
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
   End

  Draw = W3DModelDraw ModuleTag_0208

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = CIPOW

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = CIPOW_SKN
      IdleAnimation = CIPOW_SKL.CIPOW_STA 0 6
      IdleAnimation = CIPOW_SKL.CIPOW_IDA
      IdleAnimation = CIPOW_SKL.CIPOW_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
    End

    ConditionState = MOVING
      Animation = CIPOW_SKL.CIPOW_STA
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbaseZapas ;OBJECT:MobileAirfbase  ;-ππππ Base Zapas Active ππππ
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 10 ;how many "slots" we take in a transport (0 == not transportable)
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  WeaponSet                                       ;;
;;    Conditions = None                             ;;
;;    Weapon = PRIMARY AircraftCarrierOrderLaunch   ;;
;;  End                                             ;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  ArmorSet
    Conditions = None
    Armor      = AirfbaseArmor
    DamageFX   = TankDamageFX
  End
  BuildCost        = 0    ;4000
  BuildTime        = 0.0  ;40.0          ;in seconds
  EnergyProduction = -0.4 ;-1 ;-2*
  VisionRange         = 300.0 ;[150.0]*
  ShroudClearingRange = 320
  Prerequisites
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  ;;Object = AirF_AmericaAirfield
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbasePystCommandSet ;AirF_AmericaMobileAirfbaseCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD POWERED CAN_ATTACK AIRCRAFT_CARRIER FS_FACTORY STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE MP_COUNT_FOR_VICTORY
;--------------------------------
; Œƒ ÓÚ —“¿Õƒ¿–“ÕŒ√Œ ¿›–Œƒ–ŒÃ¿ :
;PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT FS_AIRFIELD

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1000.0 ;1500.0*
    InitialHealth = 1000.0 ;1500.0*

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 10000.0 ;80.0*
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  Behavior = CommandButtonHuntUpdate  ModuleTag_2478 ; allows use of command button hunt script with this unit.
;;  End ;ππππππππππππ(œÓÁ‚ÓÎˇÂÚ ËÒÔÓÎ¸ÁÓ‚‡Ú¸ ÍÓÏ‡Ì‰Ì˚È ÒˆÂÌ‡ËÈ ÍÌÓÔÍÛ ÓıÓÚÂ Ò ‰‡ÌÌ˚Ï ÛÒÚÓÈÒÚ‚ÓÏ.)πππππππππππππ
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = ProductionUpdate ModuleTag_120
;   NumDoorAnimations            = 1
;   DoorOpeningTime              = 1000 ;matches the dock animation timing.
;   DoorWaitOpenTime = 33;add a single frame to hold the plane because there is a one frame delay before we;see the new plane
;   DoorCloseTime                = 0  ;in mSeconds
;   ConstructionCompleteDuration = 0  ;in mSeconds
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = FlightDeckBehavior ModuleTag_110
    NumRunways              = 1
    NumSpacesPerRunway      = 1
    Runway1Spaces           = RUNWAY1PREP1 Runway1Prep1
    Runway1Takeoff          = RUNWAY1PREP1 RunwayEnd1
    Runway1Landing          = RunwayLDStart1 RunwayLDEnd1
    Runway1Creation         = Taxi1
    Runway1Taxi             = Hanger1
; Runway1CatapultSystem   = AircraftCarrierCatapultSteamParent

    HealAmountPerSecond     = 80
    ApproachHeight          = 20
    LandingDeckHeightOffset = 10.0
    ParkingCleanupPeriod    = 533  ;How often the carrier checks to move planes forward in the queue to fill empty spaces
    HumanFollowPeriod       = 333  ;Human factor for delay like a traffic jam.. takes time to react when the guy in front moves.

    ;Template of payload, and how quickly destroyed ones get replaced.
    PayloadTemplate         = None ;Airf_AmericaJetMobileCarrierSupBBAurora ;;Airf_AmericaJetMobileCarrierFulArAurora*
    ReplacementDelay        = 3500
    DockAnimationDelay      = 4500

    ;How quickly a wave of fighters can be launched.
    LaunchWaveDelay         = 2000
    LaunchRampDelay         = 400
    LowerRampDelay          = 500
    CatapultFireDelay       = 700
 End

  Behavior = SlowDeathBehavior ModuleTag_11
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Behavior = CreateCrateDie ModuleTag_CratesChange ;<======πππππππ ??????????? πππππππ
;    CrateData = SalvageCrateData
;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = ReplaceObjectUpgrade ModuleTag_80
    ReplaceObject = AirF_AmericaVehicleMobileAirfbaseZapas
    TriggeredBy = UpgradeMobileTunnelNetwork ;Upgrade_GLAWorkerFakeCommandSet*** ;-#########
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleBradley

  ; *** ART Parameters ***
  SelectPortrait = ¡˝‰ÎË ;SACBradley_L
  ButtonImage    = ¡˝‰ÎË ;SACBradley

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaBattleDrone
  UpgradeCameo3 = Upgrade_AmericaHellfireDrone
  UpgradeCameo4 = Upgrade_AmericaScoutDrone
  UpgradeCameo5 = Upgrade_AmericaBradleyGarnison ;Upgrade_AmericaTOWMissile

  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVBradley
;      Animation           = AVBradley.AVBradley
;      AnimationMode       = ONCE
      Turret              = TURRET01
      WeaponFireFXBone    = PRIMARY MUZZLE01
      WeaponRecoilBone    = PRIMARY TURRETEL01
      WeaponMuzzleFlash   = PRIMARY MUZZLE01
      WeaponLaunchBone    = PRIMARY MUZZLE01
      WeaponFireFXBone    = SECONDARY WEAPONA
      WeaponLaunchBone    = SECONDARY WEAPONA
      WeaponFireFXBone    = TERTIARY MUZZLEMG01
      WeaponLaunchBone    = TERTIARY MUZZLEMG01
    End
    ConditionState        = REALLYDAMAGED
      Model               = AVBradley_D
;      Animation           = AVBradley_D.AVBradley_D
;      AnimationMode       = ONCE
    End
    ConditionState        = RUBBLE
      Model               = AVBradley_D
;      Animation           = AVBradley_D.AVBradley_D
;      AnimationMode       = ONCE   
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Bradley
  Side                  = AmericaAirForceGeneral ;America*
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None ;PLAYER_UPGRADE 
    Weapon              = PRIMARY BradlyCannonWeapon
    ;PreferredAgainst = PRIMARY VEHICLE INFANTRY
    Weapon              = SECONDARY BradleyMissileWeapon
    PreferredAgainst    = SECONDARY VEHICLE STRUCTURE
    Weapon              = TERTIARY BradleyGun
    ;PreferredAgainst = TERTIARY
  End
  ArmorSet
    Conditions = None
    Armor      = BradleyArmor
    DamageFX   = TruckDamageFX
  End
  BuildCost = 1400 ;[1200]*
  BuildTime = 22.0 ;in seconds
  VisionRange         = 150.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = AirF_AmericaWarFactory
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_TrojanTank
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaVehicleBradleyCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BradleyVoiceSelect
  VoiceMove = BradleyVoiceMove
  VoiceGuard = BradleyVoiceGuard
  VoiceAttack = BradleyVoiceAttack
  VoiceAttackAir = BradleyVoiceAttackTOW
  SoundMoveStart        = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;HumveeMoveStart]*
  SoundMoveStartDamaged = ScorpionTankMoveStart ;;[BattleMasterTankMoveStart ;HumveeMoveStart]*
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = BradleyVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = BradleyVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = BradleyVoiceUnload
    VoiceEnter = BradleyVoiceMove
  End


   ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 320.0
    InitialHealth   = 320.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  
    Behavior = WeaponSetUpgrade ModuleTag_709
    TriggeredBy = Upgrade_AmericaHumLaser
  End
  
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL CrusaderLocomotor ;BradleyLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
;---------------------------------------------------------------------
;;;  Behavior = TransportContain ModuleTag_05
;;;    PassengersAllowedToFire = No ;Yes
;;;    Slots                = 6
;;;    EnterSound           = GarrisonEnter
;;;    ExitSound            = GarrisonExit
;;;    InitialPayload       = AirF_AmericaInfantryMarine 6
;;;    ScatterNearbyOnExit  = Yes
;;;    HealthRegen%PerSec   = 10
;;;    DamagePercentToUnits = 100% ;50% ;10%
;;;    AllowInsideKindOf    = INFANTRY
;;;    ExitDelay            = 250
;;;    NumberOfExitPaths    = 3
;;; ;Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
;;;    GoAggressiveOnExit   = Yes ; AI Will tell people to set their mood to Aggressive on exiting
;;;    ArmedRidersUpgradeMyWeaponSet = No ;Yes*;<-------???
;;;  End
;---------------------------------------------------------------------------------------------
  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = No
    Slots                = 6
    EnterSound           = GarrisonEnter
    ExitSound            = GarrisonExit
    DamagePercentToUnits = 100% ;10%
    AllowInsideKindOf    = INFANTRY
    ExitDelay            = 250
    NumberOfExitPaths    = 3
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_GarnisonSpawn01
    UpgradeObject = OCL_AirF_BradleyGarnison
    TriggeredBy = Upgrade_AmericaBradleyGarnison
  End
;-----------------------------------------------------------------------------------------------

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End

  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_MicrowaveTankDeath
    FX  = FINAL    FX_GattlingExplosionOneFinalTank
    OCL = FINAL    OCL_FinalBradDebris
    ;OCL = MIDPOINT OCL_GenericTankDeathEffect
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 35.0
  GeometryMinorRadius = 30.0
  GeometryHeight = 20.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.04 ;1.06 ;1.08*

End

;=================================================================================================================
Object AirF_AmericaJetAC-130

  ; *** ART Parameters ***
  SelectPortrait = AirF_AC-130_L ;AirF_AC-130v1 ;SASpGunship3
  ButtonImage    = AirF_AC-130   ;AirF_AC-130v1 ;SASpGunship3

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;Upgrade_AmericaCountermeasures ;AirF_Upgrade_AmericaJetArmor

  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = AVCargoPln
      Animation       = AVCargoPln.AVCargoPln
      AnimationMode   = LOOP
      ParticleSysBone = Propeller01 JetBlackTrailThin
      ParticleSysBone = Propeller02 JetBlackTrailThin
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End

    ConditionState = DAMAGED
      Model           = AVCargoPln_D
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState = REALLYDAMAGED
      Model           = AVCargoPln_D
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Propeller03 JetBlackTrailThin
      ParticleSysBone = Propeller04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVCargoPln_D1
      Animation       = AVCargoPln_D.AVCargoPln_D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke06 JetFireLarge
      ParticleSysBone = Smoke03 JetFireLarge
      ParticleSysBone = Smoke05 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke06 JetSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke05 JetSmokeLarge
    End
    
    OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 

  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:JetAC-130
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0
  ShroudClearingRange = 600 ;400
;-------------------------------------------
  BuildCost           = 3800 ;[2750]*
  BuildTime           = 45.0 ;35.0 ;[27.5]*
;-------------------------------------------
  MaxSimultaneousOfType = 8 ;6 ;4
;-------------------------------------------
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue    = 187 249 331 442 ;Experience point value at each level
  ExperienceRequired = 0 560 746 992   ;Experience points needed to gain each level
  IsTrainable        = Yes             ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;----------------ŒË„ËÌ‡Î¸Ì‡ˇ ÔÓÍ‡˜Í‡ SpectreGunshipPR8------------------------------
;  ExperienceValue    = 50 100 150 400 ;Experience point value at each level
;  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
;  IsTrainable = No                    ;Not Player built, so no veterancy
;----------------------------------------------------------------------------????????
  CommandSet = AmericaJetAuroraCommandSet
;=====================================================================================
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY   AirF_AC130SpectreHowitzerGun
    Weapon     = SECONDARY AirF_AC130CannonWeapon
  End
;-------------------------------------------------------------------------------------
  ArmorSet ;-πππππππ [OBJECT:SpectreGunship ;-πππ ORIGINAL πππ] ππππππππππππππππππππππ
    Conditions = None
    Armor      = CountermeasuresSpectreGunshipArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = NewSpectreGunshipArmor
    DamageFX   = None
  End
;-------------------------------------------------------------------------------------
;  ArmorSet ;-πππππππ [Object AirF_AmericaJetCargoPlane*(BabLosbros_SamoLet)] ππππππππ
;    Conditions = None
;    Armor      = CountermeasuresAirplaneArmor
;    DamageFX   = TankDamageFX
;  End
;  ArmorSet
;    Conditions = PLAYER_UPGRADE
;    Armor      = NewAirplaneArmor
;    DamageFX   = None
;  End
;=====================================================================================

 ; *** AUDIO Parameters ***
  VoiceSelect        = SpectreGunshipVoiceSelect
  VoiceAttack        = SpectreGunshipVoiceAttack
  VoiceMove          = SpectreGunshipVoiceMove
  SoundAmbient       = C130AmbientLoop ;SpectreGunshipAmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate      = C130SpectreGunshipVoiceCreate ;<=============[ƒŒ¡¿¬»À Œ«¬”◊ ” –Œ∆ƒ≈Õ»ﬂ ﬁÕ»“¿]ππππππππ
    Afterburner      = SpectreGunshipAfterburnerLoop
    HowitzerFire     = SpectreHowitzerWeapon
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER
 ;-----------------------------------------
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 400.0 ;600.0
    InitialHealth   = 400.0 ;600.0
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End
;=====================================»ÌÚÂÎÎÂÍÚ ˛ÌËÚ‡=================AC-130
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 0%
    TakeoffDistForMaxLift    = 0%
    TakeoffPause             = 500
    MinHeight                = 5
    ReturnToBaseIdleTime     = 5000 ;[100]* ;[¬ÂÏˇ Ò‚Ó·Ó‰ÌÓ„Ó ÔÓÎ∏Ú‡ Ò‡ÏÓÎ∏Ú‡]ππππππππππ
    AutoAcquireEnemiesWhenIdle = Yes ;[¿‚ÚÓÏÓ·ËÎ¸ ÔËÓ·ÂÚ‡ÂÚ ‚‡„Ó‚ ÍÓ„‰‡ ÌÂ‡·ÓÚ‡˛˘ËÈ = ‰‡]
    KeepsParkingSpaceWhenAirborne = Yes ;No* ;ππππππππππ[—Óı‡ÌˇÂÚ ÏÂÒÚÓ ‰Îˇ ÒÚÓˇÌÍË ÍÓ„‰‡ ‚ ‚ÓÁ‰ÛıÂ = ‰‡ ;ÌÂÚ]ππππππππππ
    MoodAttackCheckRate = 100 ;[¿Ú‡Í‡ Õ‡ÒÚÓÂÌËÂ œÓ‚ÂËÚ¸ ÍÛÒ]
  End
;=====================================»ÌÚÂÎÎÂÍÚ ˛ÌËÚ‡=================A-10
;  Behavior = JetAIUpdate ModuleTag_09
;    OutOfAmmoDamagePerSecond  = 10%  ; Amount of damage to take per SEC (not per frame) when out of ammo ; Note that it's ;expressed as a percent of max health, not an absolute
;    TakeoffDistForMaxLift     = 0%     ; Larger numbers give more lift sooner when taking off
;    TakeoffPause              = 500
;    MinHeight                 = 5
;    LockonTime                = 1500
;    LockonFreq                = 800
;    ParkingOffset             = 3      ; Scooch it a little forward so the tail doesn't hit the doors
;    ReturnToBaseIdleTime      = 10000  ; If idle for this long, return to base, even if not out of ammo
;  End
;-----------------------------------------------------------
  Locomotor = SET_NORMAL  AirF_AC-130JetLocomotor
  Locomotor = SET_TAXIING AirF_AC-130BasicJetTaxiLocomotor
;-----------------------------------------------------------
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor
  End

  Behavior = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;  Behavior = ArmorUpgrade ModuleTag_Armor01
;    TriggeredBy = Upgrade_AmericaCountermeasures
;  End
;  Behavior = CountermeasuresBehavior ModuleTag_99
;    TriggeredBy       = Upgrade_AmericaCountermeasures
;    FlareTemplateName = CountermeasureFlare
;    FlareBoneBaseName = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
;    VolleySize        = 4     ; Number of flares launched per volley (requires bones)
;    VolleyArcAngle = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always ;goesstraight back).
;    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
;    DelayBetweenVolleys   = 1000  ; Time between flare volleys
;    NumberOfVolleys       = 4     ; Number of times the volleys will fire before reloading
;    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at ;airstrip only.
;    EvasionRate           = 90%   ; With active flares, the specified percentage will be diverted.
;    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before ;acquiring countermeasures.
;  End

  Behavior = ExperienceScalarUpgrade ModuleTag_0367
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = JetSlowDeathBehavior ModuleTag_11
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-----------------------------------------------------------------------------------------
Object AirF_AmericaAntitanksGuardianTurret ;;[Boss_GattlingCannon ;AmericaGuardianTurret]

  ; *** ART Parameters ***
  SelectPortrait = SAGuardian_L
  ButtonImage    = SAGuardian

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = ABGardTur
      Turret            = TURRET
      TurretPitch       = TURRETEL
      WeaponRecoilBone   = PRIMARY BARREL01 BARREL02
      WeaponRecoilBone   = SECONDARY BARREL01 BARREL02
;      WeaponMuzzleFlash  = PRIMARY MUZZLEFX
;      WeaponMuzzleFlash  = SECONDARY MUZZLEFX

      WeaponLaunchBone  = PRIMARY   WeaponA01 WeaponA02
      WeaponLaunchBone  = SECONDARY WeaponA01 WeaponA02
      WeaponFireFXBone  = PRIMARY   WeaponA01 WeaponA02
      WeaponFireFXBone  = SECONDARY WeaponA01 WeaponA02
    End
    AliasConditionState = NIGHT

    ConditionState      = DAMAGED
      Model             = ABGardTur_D
    End
    AliasConditionState = DAMAGED NIGHT

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABGardTur_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT


    ConditionState      = SNOW
      Model             = ABGardTur_S
    End
    AliasConditionState = SNOW NIGHT

    ConditionState      = DAMAGED SNOW
      Model             = ABGardTur_DS
    End
    AliasConditionState = SNOW NIGHT DAMAGED

    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABGardTur_ES
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABGardTur
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABGardTur_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABGardTur_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT



    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABGardTur_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW



    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABGardTur_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = ABGardTur_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW



    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************



  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:GuardianTurret
  Side          = AmericaAirForceGeneral
  EditorSorting = STRUCTURE
  Prerequisites
    Object = AirF_AmericaPowerPlant
    ;;;Science = SCIENCE_AmericaDronecar ;;Science = SCIENCE_TrojanTank
  End
  BuildCost = 1000 ;900  ;[1200]*
  BuildTime = 12.0 ;15.0 ;in seconds
  EnergyProduction = -2
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY     GuardianTurretGun
    Weapon              = SECONDARY   GuardianTurretGunAssist
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_AI FROM_SCRIPT
    PreferredAgainst    = PRIMARY     VEHICLE INFANTRY
    PreferredAgainst    = SECONDARY   VEHICLE INFANTRY
    ShareWeaponReloadTime = Yes
  End
  VisionRange    = 360.0     ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 360
  ArmorSet
    Conditions = None
    Armor      = BaseDefenseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  CommandSet = AirF_AmericaGuardianTurretCommandSet
  ExperienceValue = 100 100 100 100  ; Experience point value at each level

  ;Behavior = AIUpdateInterface ModuleTag_20
  ;  AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  ;  MoodAttackCheckRate        = 250
  ;End

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop ;???????
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE
  Body = StructureBody ModuleTag_04
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_0700
    ; nothing, but is required if we have any Object-level Upgrades!
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
    ;No data
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate       = 220 ;180 ;60   ;ππππππππππ[ — Œ–Œ—“‹ œŒ¬Œ–Œ“¿ ¡¿ÿÕ»+Œ–”ƒ»ﬂ ]πππππππππ ;Turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;--------------------------------------------------???
  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 2                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = PatriotBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = PatriotBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
    ;nothing
  End
;================================================================================
  Behavior = CreateObjectDie ModuleTag_09
    CreationList  = AirF_OCL_AmericanRangerDebris03 ;OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
;================================================================================
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 5000     ;If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5    ;Taking this much damage...
    AflameDamageDelay = 500   ;This often.
  End

  Behavior = StealthDetectorUpdate ModuleTag_13
    DetectionRate  = 500          ;How often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200          ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained  = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = GenerateMinefieldBehavior     ModuleTag_040
;;  TriggeredBy           = Upgrade_ChinaMines
;;  MineName              = ChinaStandardMine
;;  SmartBorder           = Yes
;;  AlwaysCircular        = Yes
;;  Upgradable            = Yes
;;  UpgradedTriggeredBy   = Upgrade_ChinaEMPMines
;;  UpgradedMineName      = ChinaEMPMine
;;End
;;Behavior = CommandSetUpgrade ModuleTag_250
;;  CommandSet = ChinaGattlingCannonCommandSetUpgrade
;;  TriggeredBy = Upgrade_ChinaMines
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = RebuildHoleExposeDie ModuleTag_09001
;;  HoleName      = GLAHoleTunnelNetwork
;;  HoleMaxHealth = 400.0
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry            = CYLINDER
  GeometryMajorRadius = 12.0
  GeometryMinorRadius = 1.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;-------------------------------------------------------------
Object AirF_AmericaOilDerrick ;Boss_ChinaOilDerrick*

  ; *** ART Parameters ***
  SelectPortrait         = SSTechOilDerrick_L
  ButtonImage            = SSTechOilDerrick_L

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

     ; DAY **************************************************************
    ConditionState  = NONE
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End
    ConditionState  = CAPTURED
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode = LOOP
    End
    
    ; DAMAGED **********************************************************
    ConditionState  = DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED CAPTURED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode = LOOP
    End
    
    ; REALLYDAMAGED ****************************************************
    ConditionState  = REALLYDAMAGED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode = LOOP
    End

    ; NIGHT ************************************************************
    ConditionState  = NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End
    ConditionState  = NIGHT CAPTURED
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode = LOOP
    End
    
    ; NIGHT DAMAGED ****************************************************
    ConditionState  = DAMAGED NIGHT
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode = LOOP
    End
    
    ; NIGHT REALLYDAMAGED **********************************************
    ConditionState  = REALLYDAMAGED NIGHT
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED NIGHT CAPTURED
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode = LOOP
    End
    
    ; SNOW *************************************************************
    ConditionState  = SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End
    ConditionState  = SNOW CAPTURED
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode = LOOP
    End
    
    ; SNOW DAMAGED *****************************************************
    ConditionState  = DAMAGED SNOW
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End
    ConditionState  = DAMAGED SNOW CAPTURED
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_DS
      AnimationMode = LOOP
    End
    
    ; SNOW REALLYDAMAGED ***********************************************
    ConditionState  = REALLYDAMAGED SNOW
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End
    ConditionState  = REALLYDAMAGED SNOW CAPTURED
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT *******************************************************
    ConditionState  = SNOW NIGHT
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT CAPTURED
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT DAMAGED ***********************************************
    ConditionState  = SNOW NIGHT DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT DAMAGED CAPTURED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode = LOOP
    End
    
    ; SNOW NIGHT REALLYDAMAGED *****************************************
    ConditionState  = SNOW NIGHT REALLYDAMAGED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End
    ConditionState  = SNOW NIGHT REALLYDAMAGED CAPTURED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_EN.ZBODerrick_ENS
      AnimationMode = LOOP
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model         = ZBODerrick
      Animation     = ZBODerrick.ZBODerrick
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model         = ZBODerrick_D
      Animation     = ZBODerrick_D.ZBODerrick_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model         = ZBODerrick_E
      Animation     = ZBODerrick_E.ZBODerrick_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model         = ZBODerrick_N
      Animation     = ZBODerrick_N.ZBODerrick_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model         = ZBODerrick_DN
      Animation     = ZBODerrick_DN.ZBODerrick_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model         = ZBODerrick_EN
      Animation     = ZBODerrick_EN.ZBODerrick_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model         = ZBODerrick_S
      Animation     = ZBODerrick_S.ZBODerrick_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model         = ZBODerrick_DS
      Animation     = ZBODerrick_DS.ZBODerrick_Ds
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model         = ZBODerrick_ES
      Animation     = ZBODerrick_ES.ZBODerrick_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model         = ZBODerrick_NS
      Animation     = ZBODerrick_NS.ZBODerrick_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model         = ZBODerrick_DNS
      Animation     = ZBODerrick_DNS.ZBODerrick_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model         = ZBODerrick_ENS
      Animation     = ZBODerrick_ENS.ZBODerrick_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************    
    
 

  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4N
      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = NBPwrPlant_A4N
      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPwrPlant_A4
      Animation       = NBPwrPlant_A4.NBPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A4N

      Animation       = NBPwrPlant_A4N.NBPwrPlant_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPwrPlant_A4S
      Animation       = NBPwrPlant_A4S.NBPwrPlant_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A4SN
      Animation       = NBPwrPlant_A4SN.NBPwrPlant_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Dust01 BuildingDustChina
      ParticleSysBone = Smoke01 BuildUpSmokeChina
      ParticleSysBone = Smoke02 BuildUpSmokeChina
      ParticleSysBone = Smoke03 BuildUpSmokeChina
      ParticleSysBone = Smoke04 BuildUpSmokeChina
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Dust01 BuildingSnowDust
      ParticleSysBone = Smoke01 BuildUpSnowSmoke
      ParticleSysBone = Smoke02 BuildUpSnowSmoke
      ParticleSysBone = Smoke03 BuildUpSnowSmoke
      ParticleSysBone = Smoke04 BuildUpSnowSmoke
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Dust01 BuildingNightSnowDust
      ParticleSysBone = Smoke01 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke02 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke03 BuildUpNightSnowSmoke
      ParticleSysBone = Smoke04 BuildUpNightSnowSmoke
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = NBPwrPlant_A6
      Animation       = NBPwrPlant_A6.NBPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A6N
      Animation       = NBPwrPlant_A6N.NBPwrPlant_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = NBPwrPlant_A6S
      Animation       = NBPwrPlant_A6S.NBPwrPlant_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = NBPwrPlant_A6SN
      Animation       = NBPwrPlant_A6SN.NBPwrPlant_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45



  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:OilDerrick
  Side                = AmericaAirForceGeneral ;[Boss]*
  EditorSorting       = STRUCTURE
  BuildCost           = 4500 ;[5000]*
  BuildTime           = 40.0 ;[30.0]*           ; in seconds
  EnergyProduction    = 0
  VisionRange         = 200.0           ; Shroud clearing distance AND targeting range
  ShroudClearingRange = 200
  MaxSimultaneousOfType = 1 ;2
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End
  Prerequisites
    Object = AirF_AmericaStrategyCenter
  End
  ExperienceValue = 200 200 200 200  ; Experience point value at each level
  CommandSet = SellOnlyGenericCommandSet ;AirF_AmericaOilDerrickCommandSet ;;ChinaOilDerrickCommandSet*

  ; *** AUDIO Parameters ***
  VoiceSelect          = OilDerrickSound ;FireBaseSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;These aren't playing properly, will revisit (mp) TurretMoveLoopLoud
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SCORE FS_TECHNOLOGY

  Body = HiveStructureBody ModuleTag_04;
    MaxHealth     = 2200.0 ;[‚ Ô‡Ú˜Â 9.1.18 ·˚ÎÓ: 3000.0] ;[1000.0]*
    InitialHealth = 2200.0 ;[‚ Ô‡Ú˜Â 9.1.18 ·˚ÎÓ: 3000.0] ;[1000.0]*

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap        = 1200
    SubdualDamageHealRate   = 500
    SubdualDamageHealAmount = 100
    ;**Careful with these damage types -- because area damage types will already
    ;**damage slaves.
    ;PropagateDamageTypesToSlavesWhenExisting = NONE +SMALL_ARMS +SNIPER +POISON +RADIATION +SURRENDER
    ;SwallowDamageTypesIfSlavesNotExisting = NONE +SNIPER +POISON +SURRENDER; Take no damage if no one to pass this to
  End

  Behavior = ProductionUpdate ModuleTag_05
  End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = AutoDepositUpdate ModuleTag_06
    DepositTiming       = 2000 ;5000 ;[1000 = 1 ÒÂÍÛÌ‰‡] ;in milliseconds
    DepositAmount       = 250  ;1000 ;[—”ÃÃ¿ ƒ≈Õ≈√]      ; cash amount to deposit every DepositTiming
    InitialCaptureBonus = 0                              ; no initial bonus
    ActualMoney = Yes 
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Behavior = CreateObjectDie ModuleTag_07
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = BaseRegenerateUpdate ModuleTag_08
    ;No data
  End

  Behavior = DestroyDie ModuleTag_09
    ;nothing
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration     = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay  = 500     ; this often.
  End

  Behavior = CreateObjectDie ModuleTag_12
    CreationList = OCL_LargeStructureDebris
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-----------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;----------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;===============================================================
Object AirF_AmericaInfantryRanger ;AirF_AmericaInfantryMarine

;**** ART Parameters ***
  SelectPortrait         = Marine_L
  ButtonImage            = Marine
  
  UpgradeCameo1 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo2 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  UpgradeCameo5 = Upgrade_AmericaInfantryHealth

  Draw = W3DModelDraw DrawTag_01
    OkToChangeModelColor = Yes

    ; WHILE CARRYING PISTOL
    ;---------------------------------------------------------
    DefaultConditionState ;Idle with Pistol Holstered
      Model = AIMarine
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD1 0 12
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD2 0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_CHD  0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_STD  0 5
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_A
      WeaponFireFXBone = PRIMARY MuzzleAK
      WeaponMuzzleFlash = PRIMARY MuzzleAKFX
      WeaponFireFXBone  = SECONDARY   "UIMOB01 R HAND"
    End

    ConditionState = MOVING
      Animation = UIMOB01_SKL.UIMOB01_RND
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING_AK
    End

    ConditionState = DYING
      Animation = UIMOB01_SKL.UIMOB01_DD1
      Animation = UIMOB01_SKL.UIMOB01_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ; Drawing AK47
    ConditionState  = PREATTACK_A
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ST ; start firing
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_A FIRING_A
    AliasConditionState = PREATTACK_A BETWEEN_FIRING_SHOTS_A

    ; Firing Gun
    ConditionState = FIRING_A
      Animation = UIMOB01_SKL.UIMOB01_ATD1_LP ; looping firing
      AnimationMode = LOOP
;      WeaponFireFXBone = PRIMARY Muzzle
;      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_FIRING_AK
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_A


    ConditionState  = RELOADING_A
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ED ; end firing
      AnimationMode = ONCE
    End


    ; This transition allows him to put his gun away when he's finished attacking.
    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ED ; end firing
      AnimationMode = ONCE
    End

    ;Throwing bottle----------------------------------------------------------------
    ConditionState = PREATTACK_B
      Animation     = UIMOB01_SKL.UIMOB01_ATCD_BF ; the wind up
    End
    AliasConditionState = PREATTACK_B FIRING_A
    AliasConditionState = PREATTACK_B RELOADING_A
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_A

    ConditionState = FIRING_B
      Animation     = UIMOB01_SKL.UIMOB01_ATCD_AF ; the release and follow-thru
      TransitionKey = TRANS_THROW
      WeaponFireFXBone  = SECONDARY   "UIMOB01 R HAND"
    End
    AliasConditionState = FIRING_B BETWEEN_FIRING_SHOTS_A

    ConditionState RELOADING_B
      Animation =UIMOB01_SKL.UIMOB01_IDD1
      WaitForStateToFinishIfPossible = TRANS_THROW ; universal hub for follow-thru
    End
    AliasConditionState = RELOADING_B RELOADING_A
    AliasConditionState = RELOADING_B FIRING_A
    AliasConditionState = RELOADING_B BETWEEN_FIRING_SHOTS_A


;    TransitionState = TRANSXXX TRANS_THROW
;      Animation     = UIMOB01_SKL.UIMOB01_XXXXXXXXputaway gun and take out bottle
;    End
;
;    TransitionState = TRANS_THROW TRANS_FIRING_A
;      Animation     = UIMOB01_SKL.UIMOB01_XXXXXXXXputaway bottle and get PISTOL
;    End
;
;    TransitionState = TRANSXXXAK TRANS_THROW
;      Animation     = UIMOB01_SKL.UIMOB01_XXXXXXXXputaway AK and take out bottle
;    End

;    TransitionState = TRANS_THROW TRANS_FIRING_AK
;      Animation     = UIMOB01_SKL.UIMOB01_XXXXXXXXputaway bottle and get AK
;    End

    ;--------------------------------------------------------

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE1
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE2
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE3
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End
  End


;**** DESIGN parameters ***

  DisplayName        = OBJECT:Marine
  Side               = AmericaAirForceGeneral ;AmericaSuperWeaponGeneral*
  EditorSorting      = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 150.0
  ShroudClearingRange = 150
 ;------------------------------------
  WeaponSet
    Conditions = None
    Weapon            = PRIMARY SIG551Weapon ;;SupW_SIG551Weapon
    ;AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    ;Weapon            = TERTIARY MarineGrenadeWeapon
    ;AutoChooseSources = SECONDARY None
    ;WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon            = PRIMARY SIG551Weapon ;;SupW_SIG551Weapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    Weapon            = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = SECONDARY None
    ;Weapon            = TERTIARY MarineGrenadeWeapon
    ;AutoChooseSources = TERTIARY None
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  ArmorSet
    Conditions = None
    Armor      = HumanArmor
    DamageFX   = InfantryDamageFX
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = ChemSuitHumanArmor
    DamageFX   = None
  End
  Prerequisites
    Object = AirF_AmericaBarracks AirF_AmericaVehicleMobileBarracks
    ;;Object = AirF_AmericaStrategyCenter
    ;;;;;;Science = SCIENCE_AmericaMarine
  End
 ;-------------------------------------
  BuildCost = 200 ;250
  BuildTime = 5.0 ;10.0
;;;--------------------------PR8.3 - ÔÓÍ‡˜Í‡:-----------------------------------------
;;;;;ExperienceValue = 0 150 450 900  ;Experience point value at each level***
;------------------------------------------------------------------------------------
;;;-----------------------RedDragoN8.4 - ÔÓÍ‡˜Í‡:-------------------------------------
;;ExperienceValue    = 50 100 100 150 ; Experience point value at each level
;;ExperienceRequired = 0 200 300 600  ; Experience points needed to gain each level
;------------------------------------------------------------------------------------
;----------------------Ranger/SpecOps/SEAL - ÔÓÍ‡˜Í‡:---------------------------------
  ExperienceValue    = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120    ;Experience points needed to gain each level
;------------------------------------------------------------------------------------
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AirF_AmericaInfantryMarineCommandSet ;SupW_AmericaInfantryMarineCommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect       = ArmorRangerVoiceSelect
  VoiceMove         = ArmorRangerVoiceMove
  VoiceGuard        = ArmorRangerVoiceMove
  VoiceAttack       = ArmorRangerVoiceAttack
  VoiceTaskComplete = ArmorRangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter        = ArmorRangerVoiceMove
    VoiceEnterHostile = ArmorRangerVoiceMove
    VoiceGarrison     = ArmorRangerVoiceGarrison
    VoiceCreate       = ArmorRangerVoiceCreate
    VoiceGetHealed    = ArmorRangerVoiceMove
  End

;**** ENGINEERING Parameters *** ;MOB01
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER CAN_RAPPEL
;NO_COLLIDE ;Lorenzen disables

  Body = ActiveBody BodyTag_01
    MaxHealth       = 180.0 ;-[ ‡Í Û –ÂÈ‰Ê˝‡—“¿–» ¿ ;;150.0 ;140.0 ;130.0]
    InitialHealth   = 180.0 ;-[ ‡Í Û –ÂÈ‰Ê˝‡—“¿–» ¿ ;;150.0 ;140.0 ;130.0]
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL AmericaMarineLocomotor ;AngryMobNormalLocomotor

  Behavior = PhysicsBehavior BehaviorTag_01
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_08  ;›ÚÓÚ “˝„ ÓÚ‚Â˜‡ÂÚ Á‡ ÚÓ ÏÓÊÂÚ ÎË ÔÂıÓÚËÌÂˆ ·˚Ú¸ ‡Á‰‡‚ÎÂÌ ÚÂıÌËÍÓÈ
    ;nothing ;ππππππ *≈ÒÎË ˝ÚÓÚ “˝„ ‚˚ÔËÎËÚ¸ ÚÓ ÚÓ„‰‡ ÔÂıÓÚËÌˆ‡ ÌÂÎ¸Áˇ ·Û‰ÂÚ ‡Á‰‡‚ËÚ¸ ÚÂıÌËÍÓÈ πππππππ
  End

  Behavior = ProductionUpdate ModuleTag_08012
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_009 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10012
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_030110
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaChemicalSuits
  End

  Behavior = SpecialAbility ModuleTag_181322
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_1912231
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 15
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_202111
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = LockWeaponCreate ModuleTag_210121
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabMaleDie
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 6000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabMaleDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GIDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior BehaviorTag_02
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = AutoHealBehavior ModuleTagHealt2
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_AmericaInfantryHealth
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0 ; very thin
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0
  GeometryIsSmall = Yes
  Scale = 0.9
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;--------------------------------------------------------------
Object AirF_AmericaJetRPDX45B

  ; *** ART Parameters ***
  SelectPortrait = SAB3Bomber ;SAB3Carpet ;SAB3Bomber ;SAHellFire
  ButtonImage    = SAB3Bomber ;SAB3Carpet ;SAB3Bomber ;SAHellFire

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaBunkerBusters ;;Upgrade_AmericaLaserMissiles
  UpgradeCameo5 = Upgrade_MilitiaSpearTank ;-[—ÚÂÎÒ-„ÂÈ‰_2] ;;;AirF_Upgrade_StealthComanche;-[—ÚÂÎÒ-„ÂÈ‰_1]

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVB3bmbr
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVB3bmbr_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVB3bmbr_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_JetRPDX-45B ;;[OBJECT:HellBomber]*
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral ;;[Boss]*
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 ;[200.0]*
  ShroudClearingRange = 400
  BuildCost = 4500 ;6000 ;4000 ;[PR9.1.1: 2500]*
  BuildTime = 50.0 ;25.0
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank3
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
 ;---------------------------
  MaxSimultaneousOfType = 4
 ;---------------------------
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable        = Yes             ;Can gain experience
  CrusherLevel       = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetAuroraCommandSet ;CruiserCommandSet ;AirF_AmericaJetRPDX45bCommandSet
;----------------------------------------------------------------------------------------------------------
  WeaponSet
    Conditions = None
    Weapon     = PRIMARY AirF_AmericaJetRPDX45bWeapon    ;(20 ·ÓÏ·,Á‡‰ÂÊÍ‡ Ò·ÓÒ‡:500) ;HellBombWeaponBB
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon     = PRIMARY AirF_AmericaJetRPDX45bWeaponUpg ;(30 ·ÓÏ·,Á‡‰ÂÊÍ‡ Ò·ÓÒ‡:500) ;HellBombWeaponBB
  End
;-----------------------------------------------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
;--------------------------------------------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect        = RaptorVoiceSelect
  VoiceMove          = RaptorVoiceMove
  VoiceAttack        = RaptorVoiceAttack
  VoiceAttackAir     = RaptorVoiceAttackAir
  VoiceGuard         = RaptorVoiceAirPatrol
  SoundAmbient       = RaptorAmbientLoop
  SoundAmbientRubble = NoSound
  ;SoundMoveLoop = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ;SoundAmbient  = NoSound
  SoundStealthOn  = StealthOn  ;<===============ππππππ[ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ¬ÍÎ. ÓÚ F-117 ]ππππππ
  SoundStealthOff = StealthOff ;<===============ππππππ[ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ¬˚ÍÎ.ÓÚ F-117 ]ππππππ
  UnitSpecificSounds
    VoiceCreate   = RaptorVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = RaptorVoiceLowFuel
    VoiceGarrison = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 500.0 ;280.0
    InitialHealth = 500.0 ;280.0
  End
;====================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;====================================================
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor ;Upgrade_AmericaCountermeasures
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;---------------------------------------------------------------
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                = FX_JetOnGroundDeath
    OCLOnGroundDeath               = OCL_RaptorDeathFinalBlowUp
    DestructionDelay               = 99999999; destruction will happen when we
    RollRate                       = 0.2
    RollRateDelta                  = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                      = 0.0
    FallHowFast                    = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                 = FX_RaptorDeathInitial
    OCLInitialDeath                = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath = 500  ; in milliseconds
    FXSecondary                    = FX_JetDeathSecondary
    OCLSecondary                   = OCL_RaptorDeathSecondary
    FXHitGround                    = FX_JetDeathHitGround
    OCLHitGround                   = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround  = 200 ; in milliseconds
    FXFinalBlowUp                  = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                 = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                 = MICAL NEEDS TO MAKE ME
  End
;-----------------------------------------------------------------
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus       = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList    = OCL_EjectPilotViaParachute
    VeterancyLevels    =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift    = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause             = 500
    MinHeight                = 5
    ParkingOffset            = 3         ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime     = 10000     ; if idle for this long, return to base, even if not out of ammo
  End
;----------------------------------------------------------------------------
  Locomotor = SET_NORMAL AirF_AmericaRPDX45bJetLocomotor ;RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;----------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration     = 5000   ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3      ; taking this much damage...
    AflameDamageDelay  = 500    ; this often.
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = StealthUpgrade ModuleTag_BX45BS1 ;_23*  ;-[—ÚÂÎÒ-„ÂÈ‰_2]
    TriggeredBy = Upgrade_MilitiaSpearTank ;AirF_Upgrade_StealthComanche*
  End
  Behavior = StealthUpdate ModuleTag_BX45BS2 ;_22* ;-[—ÚÂÎÒ-„ÂÈ‰_2]
    StealthDelay               = 1500 ; msec;πππππππππ ¬–≈Ãﬂ ¬’Œ∆ƒ≈Õ»ﬂ ‚ —“≈À—-–≈∆»Ã: 1500 msec = 1,5ÒÂÍ.πππππππππππ
    StealthForbiddenConditions = FIRING_PRIMARY ATTACKING USING_ABILITY
    FriendlyOpacityMin         = 50.0%
    FriendlyOpacityMax         = 100.0%
    InnateStealth              = No ;«Ì‡˜ËÚ ˜ÚÓ ÒÚÂÎÒ ÔÓÎÛ˜‡ÂÚ ÚÓÎ¸ÍÓ ÔÓÒÎÂ „ÂÈ‰‡ ππππππππππ
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;----------------------------------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_RPDBB ;_0867
    TriggeredBy = Upgrade_AmericaBunkerBusters ;;Upgrade_AmericaImpulseBombs
  End
;----------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;;Behavior = WeaponSetUpgrade ModuleTag_08
;;;;  TriggeredBy = Upgrade_AmericaLaserMissiles
;;;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;--------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate              = AirF_PointDefenseLaser
    PrimaryTargetTypes          = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate                    = 0
    ScanRange                   = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;----------------------------------------------------------

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow              = SHADOW_VOLUME
  ShadowSizeX         = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 0.65

End

;πππππππππππππππππππππππππππππππππππππππππ ¬€–≈«¿Õ¿ﬂ »Ã¡ﬂ“»Õ¿:ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;ππππππππ ÃÓ·ËÎ¸Ì‡ˇ ¿‚Ë‡¡‡Á‡ - –Œ¡-¿¬»¿ÕŒ—≈÷ ‰Ó –¿«¬®–“ »[OBJECT:MobileAirfbase]πππππππ
;--------------------------------------------------------------------------------------
Object AirF_AmericaAircraftCarrierRob

  ; *** ART Parameters ***
  SelectPortrait = SACarrier_L ;AuroraB* ;SAAirfbase**
  ButtonImage    = SAcarrier   ;AuroraB* ;SAAirfbase**

  Draw = W3DOverlordTankDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
    End

    ConditionState       = MOVING
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MobileAirfbase ;-[OBJECT:AircraftCarrierRob]πππππππππ –Œ¡-¿¬»¿ÕŒ—≈÷ ππππππππππ
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 10  ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0
  ShroudClearingRange = 320
  BuildCost = 15000 ;[PR9.1_v.01: 10000]*
  BuildTime = 60.0  ;[PR9.1_v.01: 50.0]*      ;in seconds
  MaxSimultaneousOfType = 1 ;[PR9.1_v.01: 2]*
  Prerequisites
    Object  = AirF_AmericaWarFactory ;AirF_AmericaAirfield
    Object  = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank3
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet
 ;-----------------------------
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
 ;-----------------------------
  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 80.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_08
  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End
;-------------------------------------------------
  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
;-------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  Behavior = EjectPilotDie ModuleTag_16
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;-----------------------------------------------------------------------------------------
  Behavior = ReplaceObjectUpgrade ModuleTag_AAACRBA ;_80
    ReplaceObject = AirF_AmericaAircraftCarrierRobBaseActive ;πππππ –¿«¬®–“€¬¿Õ»≈ πππππππ
    TriggeredBy = UpgradeMobileTunnelNetwork
  End
;-----------------------------------------------------------------------------------------
  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.15 ;ππππππππππππππ
;----------------------------
End

;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;ππππππππ –Œ¡-¿¬»¿ÕŒ—≈÷ - –¿«¬®–“ ¿[OBJECT:AircraftCarrierRob]πππππππ
;-------------------------------------------------------------
Object AirF_AmericaAircraftCarrierRobBaseActive

  ; *** ART Parameters ***
  SelectPortrait         = SACarrier_L
  ButtonImage            = SACarrier

  Draw = W3DModelDraw ModuleTag_01
    ReceivesDynamicLights = No

    ExtraPublicBone = Runway1Prep1 
    ;ExtraPublicBone = Runway1Prep2 
    ExtraPublicBone = Runway1Prep3 
    ;ExtraPublicBone = Runway1Prep4 
    ExtraPublicBone = Runway1Prep5 
    ;ExtraPublicBone = Runway1Prep6 
    ExtraPublicBone = Runway1Prep7 
    ;ExtraPublicBone = Runway1Prep8
    ExtraPublicBone = Runway1Prep9
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayLDEnd1 
    ExtraPublicBone = RunwayLDStart1 
    ExtraPublicBone = Runway2Prep1
    ;ExtraPublicBone = Runway2Prep2
    ExtraPublicBone = Runway2Prep3 
    ;ExtraPublicBone = Runway2Prep4 
    ExtraPublicBone = Runway2Prep5 
    ;ExtraPublicBone = Runway2Prep6 
    ExtraPublicBone = Runway2Prep7 
    ;ExtraPublicBone = Runway2Prep8 
    ExtraPublicBone = Runway2Prep9
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = RunwayLDEnd2 
    ExtraPublicBone = RunwayLDStart2 
    ExtraPublicBone = Taxi1 
    ExtraPublicBone = Taxi2 
    ExtraPublicBone = Taxi3 
    ExtraPublicBone = Taxi4
    ExtraPublicBone = Taxi5 
    ExtraPublicBone = Taxi6 
    ExtraPublicBone = Hanger1

    OkToChangeModelColor = Yes

      ; day ********************************************
    DefaultConditionState
      Model               = PSAirCarrier
      Animation           = PSAirCarrier.PSAirCarrier
      AnimationMode       = LOOP
      ;;;;ParticleSysBone = BOWWAKE      AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = LEFTWAKE     AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = RIGHTWAKE    AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = BOWWAKEL     AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = BOWWAKERB    AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
    End
    ; day moving********************************************
    ConditionState = MOVING
      Model               = PSAirCarrier
      Animation           = PSAirCarrier.PSAirCarrier
      AnimationMode       = LOOP
      ;;;;ParticleSysBone = BOWWAKE       AirCarrierBowWake       ;-[—ÎÂ‰ ÔÓÍÎÓÌ‡]
      ;;;;ParticleSysBone = LEFTWAKE      AirCarrierSideWake      ;-[¡ÓÍÓ‚ÓÈ ÒÎÂ‰]
      ;;;;ParticleSysBone = RIGHTWAKE     AirCarrierSideWake      ;-[¡ÓÍÓ‚ÓÈ ÒÎÂ‰]
      ;;;;ParticleSysBone = PROPELLERWAKE AirCarrierPropWake      ;-[—ÎÂ‰ ÓÔÓ˚]
      ;;;;ParticleSysBone = BOWWAKEL      AirCarrierWaterWake     ;-[¬Ó‰Ì˚È ÒÎÂ‰]
      ;;;;ParticleSysBone = BOWWAKERB     AirCarrierWaterWakePort ;-[¬Ó‰Ì˚È ÒÎÂ‰ - ÔÓÚ]    
    End
    ; night ******************************************
    ConditionState        = NIGHT
      Model               = PSAirCarrier_N
      Animation           = PSAirCarrier_N.PSAirCarrier_N
      AnimationMode       = LOOP
    End    
    ConditionState        = NIGHT SNOW
      Model               = PSAirCarrier_NS
      Animation           = PSAirCarrier_NS.PSAirCarrier_NS
      AnimationMode       = LOOP
    End
  End
  ;Below deck hangar
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    ReceivesDynamicLights = No
    DefaultConditionState
      Model               = PSAirCarrier_A2
      Animation           = PSAirCarrier_A2.PSAirCarrier_A2
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_1_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_1_WAITING_OPEN
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
    End    
  End
  ;Launch blast blocks
  Draw = W3DModelDraw ModuleTag_03
   ReceivesDynamicLights = No
   DefaultConditionState
      Model               = PSAirCarrier_A3
      Animation           = PSAirCarrier_A3.PSAirCarrier_A3
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_2_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_2_CLOSING
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
    End
  End
  Draw = W3DModelDraw ModuleTag_04
    ReceivesDynamicLights = No
    DefaultConditionState
      Model               = PSAirCarrier_A1
      Animation           = PSAirCarrier_A1.PSAirCarrier_A1
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_3_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_3_CLOSING
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:AircraftCarrier ;-[OBJECT:AircraftCarrierRob]ππππππππ –Œ¡-¿¬»¿ÕŒ—≈÷ πππππππππ
  Side          = AmericaAirForceGeneral ;America
  EditorSorting = STRUCTURE
  VisionRange         = 300.0 ;200.0 ;Shroud clearing distance
  ShroudClearingRange = 400   ;200
  Prerequisites
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  BuildCost = 0
  BuildTime = 0.0 ;30.0  ;in seconds
  EnergyProduction = -10 ;-5
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AircraftCarrierOrderLaunch
  End
  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 150 150 150 150  ;Experience point value at each level

  CommandSet = AirF_AmericaAircraftCarrierRobStatikCommandSet ;AmericaAircraftCarrierCommandSet*

  ; *** AUDIO Parameters ***
  VoiceSelect          = AircraftCarrierVoiceSelect
  VoiceAttack          = AircraftCarrierVoiceAttack
  VoiceMove            = AircraftCarrierVoiceMove
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
 ;----------------------
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
 RadarPriority = STRUCTURE
 KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD AIRCRAFT_CARRIER SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY CAN_ATTACK ;<===[ Ó‰ ÓÚ AmericaAircraftCarrier ËÁ  ‡ÏÔ‡ÌËË Á‡ —ÿ¿]
;---------------------------------------------------------------------------------------------------------------------------
;;;[ Ó‰ ÃÓ·¿‚Ë‡·‡Á˚ ƒŒ –¿«¬®–“€¬¿Õ»ﬂ: PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT]
;---------------------------------------------------------------------------------------------------------------------------
;;;[ Ó‰ ÃÓ·¿‚Ë‡·‡Á˚ œŒ—À≈ –¿«¬®–“€¬¿Õ»ﬂ: PRELOAD POWERED CAN_ATTACK AIRCRAFT_CARRIER FS_FACTORY STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE MP_COUNT_FOR_VICTORY]
;---------------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Body = ImmortalBody ModuleTag_10
;;  MaxHealth     = 1.0
;;  InitialHealth = 1.0
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;--------------------------------------
  Body = StructureBody ModuleTag_07
    MaxHealth     = 3000.0 ;5000.0
    InitialHealth = 3000.0 ;5000.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap        = 5200
    SubdualDamageHealRate   = 500
    SubdualDamageHealAmount = 100
  End
;==========================================================================================================================
  Behavior = FlightDeckBehavior ModuleTag_11
 ;-------------------------------------------------------------------
    NumRunways            = 2      ;-[ ÓÎË˜ÂÒÚ‚Ó ÔÓÎÓÒ Ì‡ ¿‚Ë‡ÌÓÒˆÂ]
    NumSpacesPerRunway    = 6 ;10* ;-[Œ„‡ÌË˜ÂÌËÂ ÍÓÎË˜ÂÒÚ‚‡ ÏÂÒÚ ‰Îˇ Ò‡ÏÓÎ∏ÚÓ‚ Ì‡ Í‡Ê‰ÓÈ ÔÓÎÓÒÂ ¿‚Ë‡ÌÓÒˆ‡]
   ;----------------------------------------------------------------------------------------------------------------------
    Runway1Spaces         = RunwayStart1 Runway1Prep1 Runway1Prep3 Runway1Prep5 Runway1Prep7 Runway1Prep9 ;RunwayStart1 Runway1Prep1 Runway1Prep2 Runway1Prep3 Runway1Prep4 Runway1Prep5 Runway1Prep6 Runway1Prep7 Runway1Prep8 Runway1Prep9
    Runway1Takeoff        = RunwayStart1 RunwayEnd1
    Runway1Landing        = RunwayLDStart1 RunwayLDEnd1
    Runway1Taxi           = Taxi2 Taxi3 Taxi4 Taxi6
    Runway1Creation       = Hanger1 Taxi4 Taxi6
    Runway1CatapultSystem = AircraftCarrierCatapultSteamParent
   ;-----------------------------------------------------------[—ÓÚËÓ‚Í‡ ÍÓÌÍÂÚÌ˚ı ÏÂÒÚ ÔÓ‰ Ò‡ÏÓÎ∏Ú˚]------------------
    Runway2Spaces         = RunwayStart2 Runway2Prep1 Runway2Prep3 Runway2Prep5 Runway2Prep7 Runway2Prep9 ;RunwayStart2 Runway2Prep1 Runway2Prep2 Runway2Prep3 Runway2Prep4 Runway2Prep5 Runway2Prep6 Runway2Prep7 Runway2Prep8 Runway2Prep9
    Runway2Takeoff        = RunwayStart2 RunwayEnd2
    Runway2Landing        = RunwayLDStart2 RunwayLDEnd2
    Runway2Taxi           = Taxi1 Taxi3 Taxi5
    Runway2Creation       = Hanger1 Taxi4
    Runway2CatapultSystem = AircraftCarrierCatapultSteamParent
 ;-------------------------------------------------------------------------------------------------------------------------
    HealAmountPerSecond     = 20
    ApproachHeight          = 50
    LandingDeckHeightOffset = 45.0
    ParkingCleanupPeriod    = 533  ;How often the carrier checks to move planes forward in the queue to fill empty spaces
    HumanFollowPeriod       = 333  ;Human factor for delay like a traffic jam.. takes time to react when the guy in front moves.
    ;Template of payload, and how quickly destroyed ones get replaced.
    PayloadTemplate         = AirF_AmericaJetAircraftCarrierRaptorRob ;ππππππππ[AmericaJetAircraftCarrierRaptor]*πππππππππ
    ReplacementDelay        = 4000
    DockAnimationDelay      = 3000
    ;How quickly a wave of fighters can be launched.
    LaunchWaveDelay         = 3000
    LaunchRampDelay         = 667
    LowerRampDelay          = 600
    CatapultFireDelay       = 750
  End
;==========================================================================================================================
  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000 ;matches the dock animation timing.
    DoorWaitOpenTime             = 33  ;add a single frame to hold the plane because there is a one frame delay before we see the new plane
    DoorCloseTime                = 0  ;in mSeconds
    ConstructionCompleteDuration = 0  ;in mSeconds
  End
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 

  Behavior = DestroyDie ModuleTag_14
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = FXListDie ModuleTag_17
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 112.0
  GeometryMinorRadius = 74.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;==================================================================================
Object AirF_AmericaJetAircraftCarrierRaptorRob

  ; *** ART Parameters ***
  SelectPortrait = SACRaptor_L
  ButtonImage    = SACRaptor

  ; ***DESIGN parameters *** ;OBJECT: .........
  Side = AmericaAirForceGeneral ;America*
  EditorSorting = VEHICLE
 ;-------------------------------------------------------------------------
  BuildVariations = AirF_JetFX22StealthRaptorHunterRob
 ;-------------------------------------------------------------------------
  ;Set cost and time fields here or else they won't work
  BuildCost = 0           ;The Rank 3 UBER ππππππππππππππππππππππππππππππππ
  BuildTime = 6.0 ;[4.0]* ;in seconds
;--------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar1;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar2;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar3;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar4;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar5;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar6;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar7;;;
;;;AirF_AmericaJetAircraftCarrierRaptorVar8;;;
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;---------------------------------------------
  ; *** ENGINEERING Parameters ***
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE AIRCRAFT ;[  Ó‰ ‚˚‰ËÎÂÌËˇ ˛ÌËÚ‡: SELECTABLE ]
;-------------------------------------------------------------------------------------------------------------------
  Behavior = DeletionUpdate ModuleTag_Delete ;Not LifetimeUpdate, since I can't die. This will DestroyObject me.
    MinLifetime = 396000
    MaxLifetime = 398000
  End
End

;======================================================================================
Object AirF_JetFX22StealthRaptorHunterRob ;;[AirF_AmericaJetAircraftCarrierRaptorVar1]

  ; *** ART Parameters ***
  SelectPortrait = SACRaptorLZR ;SACRaptor_L
  ButtonImage    = SACRaptorLZR ;SACRaptor
  
  ;UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = AirF_Upgrade_AmericaJetArmor ;Upgrade_AmericaCountermeasures
  ;UpgradeCameo3 = Upgrade_AmericaBunkerBusters ;Upgrade_AmericaLaserMissiles
  ;UpgradeCameo4 = Upgrade_GLAWorkerShoes       ;-[MLRS_Upgrade]*
  
  Draw = W3DModelDraw ModuleTag_01
 
    DefaultConditionState
      Model               = AVRaptor
      AnimationMode       = MANUAL
      Animation           = AVRaptor.AVRaptor
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D1B
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
;======================================================
    ConditionState      = ATTACKING USING_WEAPON_B
      Animation         = AVRaptor.AVRaptor
      AnimationMode     = ONCE
 ;    TransitionKey     = TRANS_Firing
    End

    ConditionState      = ATTACKING USING_WEAPON_B REALLYDAMAGED
      Animation         = AVRaptor_D.AVRaptor_D
      AnimationMode     = ONCE
 ;    TransitionKey     = TRANS_FiringDamaged
    End
;======================================================
    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:FX-22StealthRaptorHunter ;-[PR2005]
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 350.0 
  ShroudClearingRange = 400
  BuildCost = 0   ;The Rank 3 UBER πππππππππππππππππππππππππππππππππππππππππππ
  BuildTime = 6.0
  Prerequisites
    ;Object = AirF_AmericaAirfield ;;;;;AirF_AmericaAircraftCarrierBaseActive
    ;Object = AirF_AmericaCommandCenter
    ;Object = AirF_AmericaStrategyCenter
    ;Science = SCIENCE_Rank2
  End
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable        = Yes            ;Can gain experience
  CrusherLevel       = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;;;;;;CommandSet = AirF_AmericaJetFX-22HunterCommandSet ;AmericaJetRaptorCommandSet22 ;AmericaJetRaptorCommandSet
;==========================================================================================================================
  WeaponSet
    Conditions = None 
  ;--------
    Weapon            = PRIMARY AirF_FX22HunterRobJetMissileWeapon1 ;[HunterJetMissileWeapon]* ;[RaptorJetMissileWeapon]**
    PreferredAgainst  = PRIMARY VEHICLE AIRCRAFT STRUCTURE          ;[INFANTRY VEHICLE STRUCTURE]*
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ;--------
    Weapon     = SECONDARY AirF_FX22HunterRobJetMissileWeapon2 ;[HunterJetMissileWeaponAir]* ;[RaptorJetMissileWeaponAir]**
    PreferredAgainst  = SECONDARY VEHICLE AIRCRAFT STRUCTURE        ;[AIRCRAFT]*
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ;--------
    ShareWeaponReloadTime = Yes
  End
;==========================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor ;AirplaneArmor
    DamageFX   = None
  End
;;ArmorSet
;;  Conditions = PLAYER_UPGRADE
;;  Armor      = CountermeasuresAirplaneArmor
;;  DamageFX   = None
;;End

  ; *** AUDIO Parameters ***
  VoiceSelect        = RaptorVoiceSelect
  VoiceMove          = RaptorVoiceMove
  VoiceAttack        = RaptorVoiceAttack
  VoiceAttackAir     = RaptorVoiceAttackAir
  VoiceGuard         = RaptorVoiceAirPatrol
  SoundAmbient       = RaptorAmbientLoop
  SoundAmbientRubble = NoSound
  ; SoundMoveLoop = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient  = NoSound
 ;--------------------------------------
  UnitSpecificSounds
    VoiceCreate   = RaptorVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = RaptorVoiceLowFuel
    VoiceGarrison = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE AIRCRAFT ;<====ππππππ[ Ó‰ –Ó·Ó-Ò‡ÏÓÎ∏Ú‡]ππππππ
;;ππππππ[ Ó‰ ÒÚ‡Ì‰‡ÚÌÓ„Ó Ò‡ÏÓÎ∏Ú‡ : PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT ]ππππππ
;---------------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 300.0 ;160.0
    InitialHealth = 300.0 ;160.0
  End
;--------------------------------------------------------------------------------
;;Behavior = WeaponSetUpgrade ModuleTag_03
;;  TriggeredBy = Upgrade_AmericaBunkerBusters ;;Upgrade_AmericaLaserMissiles*
;;End
;;Behavior = WeaponSetUpgrade ModuleTag_27
;;  TriggeredBy = Upgrade_JDAMS
;;End
;================================================================================
  Behavior = ProductionUpdate ModuleTag_03 ;_25
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;--------------------------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;;  DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;-----------------------------------------------
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 10%
  ;Amount of damage to take per SEC (not per frame) when out of ammo
  ;Note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift = 0%     ;Larger numbers give more lift sooner when taking off
    TakeoffPause          = 500
    MinHeight             = 5
    ParkingOffset         = 3      ;Scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime  = 10000  ;If idle for this long, return to base, even if not out of ammo
  End
;-----------------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL  FX-22RaptorHunterRobJetLocomotor ;[Speed = 250] ;[Õ‡ ÓÒÌÓ‚Â: RaptorJetLocomotor]*
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;-----------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
;---------------------------------------------------------------------------------------------------------
  Behavior = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;------------------------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = StealthUpdate ModuleTag_STLZFXH
    StealthDelay                = 1500 ;msec ;[¬–≈Ãﬂ ¬’Œ∆ƒ≈Õ»ﬂ ¬ —“≈À—-–≈∆»Ã: 1,5 ÒÂÍÛÌ‰˚]πππππππππππππππ
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes 
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;-----------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_25
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;-----------------------------------------------------------
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                   = 1
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AirF_AmericaFA-XXDetector ;[=====> ππππππ Object AirF_AmericaFA-XXDetector ππππππ]
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.14 ;[1.07]**

End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;ππππππππ ÃÓ·ËÎ¸Ì‡ˇ ¿‚Ë‡¡‡Á‡ - ¿¬»¿ÕŒ—≈÷ ‰Ó –¿«¬®–“ »[OBJECT:AircraftCarrier]πππππππππππππππππππππ
;--------------------------------------------------------------------------------------
Object AirF_AmericaAircraftCarrier

  ; *** ART Parameters ***
  SelectPortrait         = SACarrier_L ;AuroraB* ;SAAirfbase**
  ButtonImage            = SAcarrier   ;AuroraB* ;SAAirfbase**

  Draw = W3DOverlordTankDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
    End

    ConditionState       = MOVING
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AircraftCarrier ;ππππππππππππ[¿¬»¿ÕŒ—≈÷ - ƒŒ –¿«¬®–“ »]πππππππππππ
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 10  ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0
  ShroudClearingRange = 320
  BuildCost = 8000 ;4000 ;2000
  BuildTime = 50.0 ;45.0 ;30.0 ;20.0 ;in seconds
 ;-------------------------------------------
  MaxSimultaneousOfType = 1 ;[+1|+1|+1|...]
 ;-------------------------------------------
  Prerequisites
    Object = AirF_AmericaWarFactory
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank2
    Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet
 ;-----------------------------
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
 ;-----------------------------
  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 80.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_234325
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_08
  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End
;-------------------------------------------------
  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
;-------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  Behavior = EjectPilotDie ModuleTag_16
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;------------------------------------------------------------------------
  Behavior = ReplaceObjectUpgrade ModuleTag_80
    ReplaceObject = AirF_AmericaAircraftCarrierBaseActive ;ππππππππππππ
    TriggeredBy = UpgradeMobileTunnelNetwork
  End
;------------------------------------------------------------------------
  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.15 ;ππππππππππππππ
;----------------------------
End

;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;ππππππππ ¿¬»¿ÕŒ—≈÷ - –¿«¬®–“ ¿[OBJECT:AircraftCarrier]πππππππ
;----------------------------------------------------------
Object AirF_AmericaAircraftCarrierBaseActive

  ; *** ART Parameters ***
  SelectPortrait         = SACarrier_L
  ButtonImage            = SACarrier

  Draw = W3DModelDraw ModuleTag_01
    ReceivesDynamicLights = No

    ExtraPublicBone = Runway1Prep1 
    ;ExtraPublicBone = Runway1Prep2 
    ExtraPublicBone = Runway1Prep3 
    ;ExtraPublicBone = Runway1Prep4 
    ExtraPublicBone = Runway1Prep5 
    ;ExtraPublicBone = Runway1Prep6 
    ExtraPublicBone = Runway1Prep7 
    ;ExtraPublicBone = Runway1Prep8
    ExtraPublicBone = Runway1Prep9
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayLDEnd1 
    ExtraPublicBone = RunwayLDStart1 
    ExtraPublicBone = Runway2Prep1
    ;ExtraPublicBone = Runway2Prep2
    ExtraPublicBone = Runway2Prep3 
    ;ExtraPublicBone = Runway2Prep4 
    ExtraPublicBone = Runway2Prep5 
    ;ExtraPublicBone = Runway2Prep6 
    ExtraPublicBone = Runway2Prep7 
    ;ExtraPublicBone = Runway2Prep8 
    ExtraPublicBone = Runway2Prep9
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = RunwayLDEnd2 
    ExtraPublicBone = RunwayLDStart2 
    ExtraPublicBone = Taxi1 
    ExtraPublicBone = Taxi2 
    ExtraPublicBone = Taxi3 
    ExtraPublicBone = Taxi4
    ExtraPublicBone = Taxi5 
    ExtraPublicBone = Taxi6 
    ExtraPublicBone = Hanger1

    OkToChangeModelColor = Yes

      ; day ********************************************
    DefaultConditionState
      Model               = PSAirCarrier
      Animation           = PSAirCarrier.PSAirCarrier
      AnimationMode       = LOOP
      ;;;;ParticleSysBone = BOWWAKE      AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = LEFTWAKE     AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = RIGHTWAKE    AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = BOWWAKEL     AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
      ;;;;ParticleSysBone = BOWWAKERB    AirCarrierWaterRipples   ;-[–ˇ·¸ ‚Ó‰˚]
    End
    ; day moving********************************************
    ConditionState = MOVING
      Model               = PSAirCarrier
      Animation           = PSAirCarrier.PSAirCarrier
      AnimationMode       = LOOP
      ;;;;ParticleSysBone = BOWWAKE       AirCarrierBowWake       ;-[—ÎÂ‰ ÔÓÍÎÓÌ‡]
      ;;;;ParticleSysBone = LEFTWAKE      AirCarrierSideWake      ;-[¡ÓÍÓ‚ÓÈ ÒÎÂ‰]
      ;;;;ParticleSysBone = RIGHTWAKE     AirCarrierSideWake      ;-[¡ÓÍÓ‚ÓÈ ÒÎÂ‰]
      ;;;;ParticleSysBone = PROPELLERWAKE AirCarrierPropWake      ;-[—ÎÂ‰ ÓÔÓ˚]
      ;;;;ParticleSysBone = BOWWAKEL      AirCarrierWaterWake     ;-[¬Ó‰Ì˚È ÒÎÂ‰]
      ;;;;ParticleSysBone = BOWWAKERB     AirCarrierWaterWakePort ;-[¬Ó‰Ì˚È ÒÎÂ‰ - ÔÓÚ]    
    End
    ; night ******************************************
    ConditionState        = NIGHT
      Model               = PSAirCarrier_N
      Animation           = PSAirCarrier_N.PSAirCarrier_N
      AnimationMode       = LOOP
    End    
    ConditionState        = NIGHT SNOW
      Model               = PSAirCarrier_NS
      Animation           = PSAirCarrier_NS.PSAirCarrier_NS
      AnimationMode       = LOOP
    End
  End
  ;Below deck hangar
  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    ReceivesDynamicLights = No
    DefaultConditionState
      Model               = PSAirCarrier_A2
      Animation           = PSAirCarrier_A2.PSAirCarrier_A2
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_1_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_1_WAITING_OPEN
      AnimationMode       = ONCE
      Flags               = START_FRAME_LAST
    End    
  End
  ;Launch blast blocks
  Draw = W3DModelDraw ModuleTag_03
   ReceivesDynamicLights = No
   DefaultConditionState
      Model               = PSAirCarrier_A3
      Animation           = PSAirCarrier_A3.PSAirCarrier_A3
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_2_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_2_CLOSING
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
    End
  End
  Draw = W3DModelDraw ModuleTag_04
    ReceivesDynamicLights = No
    DefaultConditionState
      Model               = PSAirCarrier_A1
      Animation           = PSAirCarrier_A1.PSAirCarrier_A1
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_3_OPENING
      AnimationMode       = ONCE
      Flags               = START_FRAME_FIRST
    End
    ConditionState        = DOOR_3_CLOSING
      AnimationMode       = ONCE_BACKWARDS
      Flags               = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:AircraftCarrier ;ππππππππ[¿¬»¿ÕŒ—≈÷ - –¿«¬®–“ ¿]πππππππ
  Side          = AmericaAirForceGeneral ;;[America]*
  EditorSorting = STRUCTURE
  VisionRange         = 300.0      ; Shroud clearing distance
  ShroudClearingRange = 600 ;[300]*
  Prerequisites
    ;None
  End
  BuildCost = 0
  BuildTime = 0.0 ;30.0 ; in seconds
;-----------------------------------
  EnergyProduction = -10 ;-15 ;-8
;-----------------------------------
  ExperienceValue = 150 150 150 150  ; Experience point value at each level
  CommandSet = AirF_AmericaAircraftCarrierCommandSet
;---------------------------------------------------------
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY None ;AircraftCarrierOrderLaunch
  End
;---------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = StructureArmorTough ;StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect          = AircraftCarrierVoiceSelect
  VoiceAttack          = AircraftCarrierVoiceAttack
  VoiceMove            = AircraftCarrierVoiceMove
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy
  UnitSpecificSounds
    UnderConstruction = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY POWERED AUTO_RALLYPOINT ;+[ AIRCRAFT_CARRIER CAN_ATTACK ]*
;---------------------------------------------------------------------------------------------------------------------
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Body = ImmortalBody ModuleTag_10
;;  MaxHealth     = 1.0
;;  InitialHealth = 1.0
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;-------------------------------------------
  Body = StructureBody ModuleTag_07
    MaxHealth     = 3500.0 ;3000.0 ;5000.0
    InitialHealth = 3500.0 ;3000.0 ;5000.0
   ;Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
   ;The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap        = 5200
    SubdualDamageHealRate   = 500
    SubdualDamageHealAmount = 100
  End
;==========================================================================================================================
  Behavior = FlightDeckBehavior ModuleTag_11
 ;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
 ;;ERROR;;NumRows    = 2     ;[÷»‘–Œ¬€≈ –ﬂƒ€] ;<=========================================[¬œ»À-“›—“ ÓÚ OBJECT:Airfield]
 ;;ERROR;;NumCols    = 6 ;2* ;[÷»‘–Œ¬€≈ —®ƒÀ¿] ;<========================================[¬œ»À-“›—“ ÓÚ OBJECT:Airfield]
 ;;ERROR;;HasRunways = Yes   ;[»Ã≈≈“ ¬«À®“ÕŒ-œŒ—¿ƒŒ◊Õ€≈ œŒÀŒ—€ = ƒ‡] ;<==================[¬œ»À-“›—“ ÓÚ OBJECT:Airfield]
 ;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
 ;---------------------------------------------------------------------------------------------------------
    NumRunways         = 2        ;-[ ÓÎË˜ÂÒÚ‚Ó ÔÓÎÓÒ Ì‡ ¿‚Ë‡ÌÓÒˆÂ]
    NumSpacesPerRunway = 6 ;[10]* ;-[Œ„‡ÌË˜ÂÌËÂ ÍÓÎË˜ÂÒÚ‚‡ ÏÂÒÚ ‰Îˇ Ò‡ÏÓÎ∏ÚÓ‚ Ì‡ Í‡Ê‰ÓÈ ÔÓÎÓÒÂ ¿‚Ë‡ÌÓÒˆ‡]
 ;------------------------------------------------------------------------------------------------------------------------
    Runway1Spaces         = RunwayStart1 Runway1Prep1 Runway1Prep3 Runway1Prep5 Runway1Prep7 Runway1Prep9 ;RunwayStart1 Runway1Prep1 Runway1Prep2 Runway1Prep3 Runway1Prep4 Runway1Prep5 Runway1Prep6 Runway1Prep7 Runway1Prep8 Runway1Prep9
    Runway1Takeoff        = RunwayStart1 RunwayEnd1
    Runway1Landing        = RunwayLDStart1 RunwayLDEnd1
    Runway1Taxi           = Taxi2 Taxi3 Taxi4 Taxi6
    Runway1Creation       = Hanger1 Taxi4 Taxi6
    Runway1CatapultSystem = AircraftCarrierCatapultSteamParent
   ;------------------------------------------------------------
    Runway2Spaces         = RunwayStart2 Runway2Prep1 Runway2Prep3 Runway2Prep5 Runway2Prep7 Runway2Prep9 ;RunwayStart2 Runway2Prep1 Runway2Prep2 Runway2Prep3 Runway2Prep4 Runway2Prep5 Runway2Prep6 Runway2Prep7 Runway2Prep8 Runway2Prep9
    Runway2Takeoff        = RunwayStart2 RunwayEnd2
    Runway2Landing        = RunwayLDStart2 RunwayLDEnd2
    Runway2Taxi           = Taxi1 Taxi3 Taxi5
    Runway2Creation       = Hanger1 Taxi4
    Runway2CatapultSystem = AircraftCarrierCatapultSteamParent
 ;-------------------------------------------------------------------------------------------------------------------------
    HealAmountPerSecond     = 80 ;[20]* ;[›ÙÙÂÍÚË‚ÌÓÒÚ¸ ÎÂ˜ÂÌËˇ ‚ ÒÂÍÛÌ‰Û]
    ApproachHeight          = 50   ;[¬˚ÒÓÚ‡ ÔÓ‰ıÓ‰‡]
    LandingDeckHeightOffset = 45.0 ;[œÓÒ‡‰Í‡ ¬˚ÒÓÚ‡ ·ÓÚ‡ —ÏÂ˘ÂÌËÂ/œËÁÂÏÎˇ˛˘ÂÂÒˇ ŒÚ‚ÂÚ‚ÎÂÌËÂ œ‡ÎÛ·ÌÓÈ ¬˚ÒÓÚ˚/œÓÒ‡‰Í‡ ¬˚ÒÓÚ‡ ·ÓÚ‡ —ÏÂ˘ÂÌËÂ]
    ParkingCleanupPeriod    = 533  ;How often the carrier checks to move planes forward in the queue to fill empty spaces
    HumanFollowPeriod       = 333  ;Human factor for delay like a traffic jam.. takes time to react when the guy in front moves.
    ;Template of payload, and how quickly destroyed ones get replaced.
    PayloadTemplate         = NONE ;;πππππππ[AmericaJetAircraftCarrierRaptorMyltik]* πππππππ[ Õ¿◊»Õ ¿ ]πππππππ
    ReplacementDelay        = 4000
    DockAnimationDelay      = 3000
    ;How quickly a wave of fighters can be launched.
    LaunchWaveDelay         = 3000
    LaunchRampDelay         = 667
    LowerRampDelay          = 600
    CatapultFireDelay       = 750
  End
;===========================================================================================================================
  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3000 ;matches the dock animation timing.
    DoorWaitOpenTime             = 33  ;add a single frame to hold the plane because there is a one frame delay before we see the new plane
    DoorCloseTime                = 0  ;in mSeconds
    ConstructionCompleteDuration = 0  ;in mSeconds
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  Behavior = ProductionUpdate ModuleTag_12 ;[“˝„ ÓÚ OBJECT:Airfield]
;;    NumDoorAnimations            = 4
;;    DoorOpeningTime              = 2000  ;in mSeconds
;;    DoorWaitOpenTime             = 3000  ;in mSeconds
;;    DoorCloseTime                = 2000  ;in mSeconds
;;    ConstructionCompleteDuration = 1000  ;in mSeconds
;;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = BaseRegenerateUpdate ModuleTag_13
    ;No data
  End 
  Behavior = DestroyDie ModuleTag_14
    ;nothing
  End
  Behavior = CreateObjectDie ModuleTag_15
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior = FXListDie ModuleTag_17
    DeathFX = FX_StructureMediumDeath
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;  Behavior = GrantUpgradeCreate ModuleTag_18            ;[¬œ»À-“›—“ ÓÚ OBJECT:OBJECT:HelicopterBase]
;    UpgradeToGrant = Upgrade_AmericaCountermeasures
;    ExemptStatus = UNDER_CONSTRUCTION
;  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End
  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = ReplaceObjectUpgrade ModuleTag_80 ;-[“˝„ —‚∏Ú˚‚‡ÌËˇ ‚ ÔÓ‰‚ËÊÌÛ˛ ¿‚Ë‡¡‡ÁÛ]
;;  ReplaceObject = AirF_AmericaAircraftCarrier ;;AmericaAircraftCarrierMyltik
;;  TriggeredBy = UpgradeMobileTunnelNetwork
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
;  Behavior = DefaultProductionExitUpdate ModuleTag_1221 ;[¬œ»À-“›—“ ÓÚ OBJECT:OBJECT:HelicopterBase]
;    UnitCreatePoint   = X: -7.2   Y:18.5   Z:0.0
;    NaturalRallyPoint = X: -12.2  Y:18.5   Z:0.0
;  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Geometry            = BOX
  GeometryMajorRadius = 112.0
  GeometryMinorRadius = 74.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End


;============================================================================================================
Object AirF_AmericaJetFA-XXKingHunter

  ; *** ART Parameters ***

  SelectPortrait = SAFA-XX_L ;SACRaptorLZR ;SACRaptor_L
  ButtonImage    = SAFA-XX   ;SACRaptorLZR ;SACRaptor

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaLaserMissiles
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaBunkerBusters ;;Upgrade_GLAWorkerShoes
  UpgradeCameo5 = Upgrade_MilitiaSpearTank ;[—ÚÂÎÒ-„ÂÈ‰ 2] ;;AirF_Upgrade_AmericaJetArmor


  Draw = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
 
    DefaultConditionState;πππππ Models: (1) EVFA-XX (2) EVFA-XX_D (3) AVFA-XX_D1 + Â˘Â ‰ÓÔ.: (4) AVTalon_D1 πππππ
      Model               = EVFA-XX
      WeaponLaunchBone    = PRIMARY Missile
      HideSubObject       = BurnerFX01 BurnerFX02
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ShowSubObject       = BurnerFX01 BurnerFX02

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End

    ConditionState        = JETEXHAUST ATTACKING
      ; exhaust
      Model               = EVFA-XX
      WeaponLaunchBone    = PRIMARY Missile
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ShowSubObject       = BurnerFX01 BurnerFX02
;      ParticleSysBone     = Creo JetCreoWingtip

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End


    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ShowSubObject       = BurnerFX01 BurnerFX02

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End


    ConditionState        = REALLYDAMAGED
      Model               = EVFA-XX_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      HideSubObject       = BurnerFX01 BurnerFX02
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = EVFA-XX_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ShowSubObject       = BurnerFX01 BurnerFX02

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST ATTACKING
      Model               = EVFA-XX_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ShowSubObject       = BurnerFX01 BurnerFX02
;      ParticleSysBone     = Creo JetCreoWingtip

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = EVFA-XX_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ShowSubObject       = BurnerFX01 BurnerFX02

      ParticleSysBone     = FLUSE01 CreogenicColdAtmosphereLightPulseAir;==========> [›ÙÙÂÍÚ „ÓÎÛ·Ó„Ó ÍÂÓ-¯ÎÂÈÙ‡, ÒÏ. ‚ ParticleSystem ]ππππππππππππππππ
    End

    ConditionState        = RUBBLE
      Model               = AVFA-XX_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVFA-XX_D1
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_JetFA-XXKingHunter
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 350.0 ;[200.0]* 
  ShroudClearingRange = 400
;-------------------------------------------------------------------------------
  Prerequisites
    Object = AirF_AmericaAirfield
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank4
    ;;;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
;-------------------------------------------------------------------------------
  BuildCost = 7500
  BuildTime = 55.0
 ;------------------------------
  MaxSimultaneousOfType = 2 ;4
 ;------------------------------
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable        = Yes            ;Can gain experience
  CrusherLevel       = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
;---------------------------------------------------------------------------------------------------
  CommandSet = AmericaJetFA-XXKingHunterCommandSet ;AmericaJetF-23CommandSet
;==================================================================================================================================================
  WeaponSet ;ππππππ[Õ‡ ÓÒÌÓ‚Â FX22KingHunter(PR2005)]ππππππ
    Conditions = None 
   ;------
    Weapon            = PRIMARY AirF_FA-XXKingHunterJetMissileWeaponHardA      ;-[ÃÂÚÍ‡: F-23Missile];(14 ‡ÍÂÚ: ƒËÒÚ‡ÌˆËˇ: 500.0, «‡‰ÂÊÍ‡: 500)
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
   ;------
    Weapon            = SECONDARY AirF_FA-XXKingHunterJetF117MissileWeapon     ;-[ÃÂÚÍ‡: F-23Bomb];(14‡ÍÂÚ: 14x165.0/500.0/1500/500/8000)
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
   ;------
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End

  WeaponSet ;ππππππ[Õ‡ ÓÒÌÓ‚Â F-23(Ò ‰Ó·‡‚ÎÂÌËÂÏ TERTIARY)]ππππππ
    Conditions = PLAYER_UPGRADE 
   ;------
    Weapon            = PRIMARY AirF_FA-XXKingHunterJetMissileWeaponUpgHardA   ;-[ÃÂÚÍ‡: F-23Missile];(18 ‡ÍÂÚ: ƒËÒÚ‡ÌˆËˇ: 600.0, «‡‰ÂÊÍ‡: 600)
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
   ;------
    Weapon            = SECONDARY AirF_FA-XXKingHunterJetRavagerMissileWeapon  ;-[ÃÂÚÍ‡: F-23Bomb] ;(4 ·ÓÏ·˚: ƒËÒÚ‡ÌˆËˇ: 600.0)
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
   ;------
    Weapon            = TERTIARY AirF_FA-XXKingHunterJetMissileWeaponHardB     ;(√»¡–»ƒÕ€≈ –¿ ≈“€ F-117 Ò ˝ÙÙÂÍÚÓÏ ›Ã»-Á‡ÏÓÓÁÍË ÚÂıÌËÍË)
    AutoChooseSources = TERTIARY FROM_SCRIPT FROM_AI                           ;(18‡ÍÂÚ: 18x165.0/600.0/1500/600/8000)
   ;------
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;----------------------------------------------------------------------------------------
  ArmorSet
    Conditions = None ;PLAYER_UPGRADE
    Armor      = ExclusiveAirplaneArmor ;;[CountermeasuresAirplaneArmor ;AirplaneArmor]
    DamageFX   = None
  End
;=========================================================================================================================

  ; *** AUDIO Parameters ***

  VoiceSelect        = FA-XX_Select
  VoiceMove          = FA-XX_Move
  VoiceAttack        = FA-XX_Attack
  VoiceAttackAir     = FA-XX_Attack
  VoiceGuard         = FA-XX_Guard
 ;-----------------------------------------------
  SoundAmbient       = StealthFighterAmbientLoop ;<========[ ŒÁ‚Û˜Í‡ ‰‚ËÊÍ‡ ‚Ó ‚ÂÏˇ ÔÓÎ∏Ú‡ Í‡Í Û ÒÚ‡Ì‰‡ÚÌÓ„Ó F-117"Stealth"]ππππππ
  SoundAmbientRubble = NoSound
 ;-----------------------------------------------
  SoundStealthOn = StealthOn  ;<===========================[ ŒÁ‚Û˜Í‡ —ÚÂÎÒ-‚ÍÎ.  ÓÚ F-117 ]ππππππ
  SoundStealthOff= StealthOff ;<===========================[ ŒÁ‚Û˜Í‡ —ÚÂÎÒ-‚˚ÍÎ. ÓÚ F-117 ]ππππππ
 ;-------------------------------------
  UnitSpecificSounds
    VoiceCreate      = FA-XX_Create
   ;-----------------------------------
    SoundEject       = PilotSoundEject
    VoiceEject       = PilotVoiceEject
   ;--------------------------------------
    Afterburner      = RaptorAfterburner
   ;--------------------------------------
    VoiceLowFuel     = RaptorVoiceLowFuel
   ;--------------------------------------
    VoiceGarrison    = FA-XX_Garrison
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
;------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 400.0 ;300.0
    InitialHealth = 400.0 ;300.0
  End
;==========================================================================================
  Behavior = ProductionUpdate ModuleTag_000
    ;MaxQueueEntries = 1 ;So you can't build multiple upgrades in the same frame
  End
;-----------------------------------------------
  Behavior = WeaponBonusUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
;-----------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_BB
    TriggeredBy = Upgrade_AmericaBunkerBusters ;;Upgrade_AmericaMissileStormShadow
  End
  Behavior = CommandSetUpgrade ModuleTag_BB2
    CommandSet = AmericaJetFA-XXKingHunterUpgradeCommandSet  ;;SupW_AmericaFA-XXStormShadowCommandSet
    TriggeredBy = Upgrade_AmericaBunkerBusters          ;;Upgrade_AmericaMissileStormShadow
  End
;===========================================================================================
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;===================[ ¬»ƒ  –”ÿ≈Õ»ﬂ —¿ÃŒÀ®“¿ ]====================================================================================
;----------------------------------------------------------------------------[≈ÒÎË ˜ÚÓ-ÚÓ ÌÂ ÓÚÏÂ˜ÂÌÓ ÓÒÓ·Ó - ÁÌ‡˜ËÚ —“¿Õƒ¿–“]
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_Fa-XXDeathFinalBlowUp;=================>[ OCL/Hulk/Model = AVFA-XX_D1 ]ππππππππππππ
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;===============================================================================================================================
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus       = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList    = OCL_EjectPilotViaParachute
    VeterancyLevels    = ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;=============================================================================================================
;=============[ »Õ“≈ÀÀ≈ “ —¿ÃŒÀ®“¿ ]==========================================================================
;-----------------------------------------------------------------------------------------------------------
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 10%   ;Amount of damage to take per SEC (not per frame) when out of ammo
   ;---------------------------------;Note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift    = 0%    ;Larger numbers give more lift sooner when taking off
    TakeoffPause             = 50    ;œ‡ÛÁ‡ ‚ÁÎ∏Ú‡ ;[500]*
    MinHeight                = 5     ;
    ParkingOffset            = 3     ;Scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime     = 20000 ;If idle for this long, return to base, even if not out of ammo
   ;---------------------------------;
    LockonTime        = 1000
    LockonCursor      = LockonCursor
    LockonBlinky      = No
    LockonAngleSpin   = 1000
    LockonInitialDist = 450
    LockonFreq        = 1000
  End
;==========================================================================================================
;-----------------------------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL  AirF_FA-XXKingHunterJetLocomotorV1 ;[AirF_FA-XXKingHunterJetLocomotorV2 ;RaptorJetLocomotor]*
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;-----------------------------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000    ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3   ; taking this much damage...
    AflameDamageDelay = 500  ; this often.
  End
;--------------À‡ÁÂÌ˚Â ÓÚ‡Ê‡ÚÂÎË ‡ÍÂÚ-----------------------------------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;==========================================================================================================================
;;---------------«‡˘ËÚÌÓÂ ÔÓÎÂ--------------------------------------------------------------------------------------------
  Behavior = FireWeaponUpdate ModuleTag_23
    Weapon = ECMTankMissileJammer ;<-----------[ Œ“–¿∆¿“≈À‹ –¿ ≈“ ]
    ExclusiveWeaponDelay = 1000 ;1000 = 1 ÒÂÍÛÌ‰‡ ;If we fire a real weapon, we turn this module off for this long
  End
;-------------------------------------------------------------------------------------------------------------------------
;;--------------[ ŒÚÍÎ˛˜ÂÌËÂ ‚‡ÊÂÒÍÓÈ ÚÂıÌËÍË ]---------------------
;;Behavior = FireWeaponUpdate ModuleTag_28
;;  Weapon = ECMTankVehicleRadiusDisabler ;<-πππ ¬€–”¡¿À ¿ ‚‡ÊÂÒÍÓÈ “≈’Õ» » ‚ ÓÔÂ‰ÂÎÂÌÌÓÏ ‡‰ËÛÒÂ ‚ÓÍÛ„ ˝ÚÓ„Ó ˛ÌËÚ‡ πππ
;;  ExclusiveWeaponDelay = 600 ;1000 = 1 ÒÂÍÛÌ‰‡ ;If we fire a real weapon, we turn this module off for this long
;;End
;;=========================================================================================================================
;---------- —ÚÂÎÒ-‰ÂÚÂÍÚÓ: Ó·Ì‡ÛÊÂÌËÂ ÌÂ‚Ë‰ËÏÓÍ ----------------------------------------------------------
;  Behavior = StealthDetectorUpdate ModuleTag_24
;    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
;    ;DetectionRange = 250 ;Dustin, enable this for independant balancing!
;    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
;    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
;  End
;-----------------------------------------------------------------------------------------------------------
  Behavior = GrantUpgradeCreate ModuleTag_CSFAXX1 ;_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;-----------------------------------------------------------
  Behavior = CountermeasuresBehavior ModuleTag_CSFAXX2 ;[===> ;...* “‡ÍËÂ Ô‡‡ÏÂÚ˚ ‚˚ÒÚ‡‚ÎÂÌ˚ ‚ Revolution]:
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4 ;[3]* ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0 ;[1.0]* ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30% ;[50%]* ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100 ;[0]*   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;-----------------------------------------------------------?
  Behavior = ProductionUpdate ModuleTag_25
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
;-----------------------------------------------------------
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                   = 1
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AirF_AmericaFA-XXDetector ;[=====> ππππππ Object AirF_AmericaFA-XXDetector ππππππ]
    ExperienceSinkForRider  = Yes ; I get the Exp for things my turret friend kills
  End
;============================================================================================
  Behavior = StealthUpgrade ModuleTag_FA-XXKHST2MT1
    TriggeredBy = Upgrade_MilitiaSpearTank ;AirF_Upgrade_StealthComanche
  End
  Behavior = StealthUpdate ModuleTag_FA-XXKHST2MT2
    StealthDelay               = 3000 ;[¬ÂÏˇ ‚ıÓÊ‰ÂÌËˇ ‚ ÒÚÂÎÒ-ÂÊËÏ: 3000 msec = 3 ÒÂÍÛÌ‰˚] ;1500
    StealthForbiddenConditions = ATTACKING ;[FIRING_PRIMARY ATTACKING USING_ABILITY]*
    FriendlyOpacityMin         = 50.0%
    FriendlyOpacityMax         = 100.0%
    InnateStealth              = No ;«Ì‡˜ËÚ ˜ÚÓ ÒÚÂÎÒ ÔÓÎÛ˜‡ÂÚ ÚÓÎ¸ÍÓ ÔÓÒÎÂ „ÂÈ‰‡ ππππππππππ
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End
;============================================================================================

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX              = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  Scale = 1.04

End

;------------------------------------------------------------------------------
Object AirF_AmericaFA-XXDetector ; Seperate turret object so it can attack independantly [œË·ÎËÁËÚÂÎ¸Ì˚È ÔÂÂ‚Ó‰: "¡‡¯ÂÌÍ‡ Seperate ‚ÓÁ‡Ê‡ÂÚ,Ú‡ÍËÏ Ó·‡ÁÓÏ,ÓÌ‡ ÏÓÊÂÚ Ì‡Ô‡ÒÚ¸ Ì‡ independantly"]

  ; *** ART Parameters ***
 
  Draw = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = WEAPONA

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model = NONE ;AVTalon_L* ;ππππππππππππππππππππππ
    End

    ConditionState = REALLYDAMAGED
      Model = NONE ;AVTalon_L* ;ππππππππππππππππππππππ
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters *** ;; OBJECT:Ã≈“ ¿
;;;Side = AmericaAirForceGeneral ;[AmericaLaserGeneral]*;;;
  EditorSorting      = SYSTEM
  TransportSlotCount = 1  
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY Lasr_RaptorJetMissileWeaponDummyWeapon ;TalonTargetDesignator
  End
  ArmorSet
    Conditions = None
    Armor      = FA-XXInvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body          = StructureBody ModuleTag_02
    MaxHealth     = 100.0
    InitialHealth = 100.0
  End
  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes 
  End
  Behavior = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object AirF_HardMissileFA-XX ;[SupW_HardMissile*]

  ExperienceValue = 5 5 5 5

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = AMSide
      ParticleSysBone = None RocketPodMissileLenzflareMD
      ParticleSysBone = None RocketPodMissileFlameMD
    End
    ConditionState = JAMMED
      ParticleSysBone = None SparksMedium
    End
  End

  ; ***DESIGN parameters ***
  DisplayName   = OBJECT:Missile
  Side          = AmericaAirForceGeneral ;America
  EditorSorting = SYSTEM
  VisionRange = 1.0  

  ArmorSet
    Conditions = None
    Armor      = ProjectileArmor
    DamageFX   = None
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT ;LOCAL_UNIT_ONLY
  KindOf = PRELOAD CAN_CAST_REFLECTIONS PROJECTILE SMALL_MISSILE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0
    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    ; A projectile is not disabled, but instead loses target and scatters
    SubdualDamageCap = 400
    SubdualDamageHealRate = 100000
    SubdualDamageHealAmount = 50
  End

; ---- begin Projectile death behaviors
  Behavior = SlowDeathBehavior DeathModuleTag_01
    DeathTypes = NONE +DETONATED +SUICIDED +NORMAL +TOPPLED ;+LASERED
    DestructionDelay         = 3
    DestructionDelayVariance = 1
    Weapon     = INITIAL FA-XXHardMissileDamageWeapon ;[HardMissileDamageWeapon*] ;<===ππππ[ 1. Weapon]
    OCL        = MIDPOINT OCL_GenericMissileDisintegrate ;<============================ππππ[ 2. OCL]
  End

  Behavior = InstantDeathBehavior DeathModuleTag_02
    DeathTypes = ALL -DETONATED -SUICIDED -NORMAL -TOPPLED ;-LASERED
    ; shot down
    FX         = FX_GenericMissileDisintegrate  ;<=====================================ππππ[ A. FX]
    OCL        = OCL_GenericMissileDisintegrate ;<=====================================ππππ[ 3. OCL]
  End
; ---- end Projectile death behaviors

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 1
  End

  Behavior = MissileAIUpdate ModuleTag_08
    TryToFollowTarget     = Yes
    FuelLifetime          = 15000
    DetonateOnNoFuel      = Yes
    InitialVelocity       = 200       ; in dist/sec
    IgnitionDelay         = 50
    IgnitionFX            = FX_HMissileIgnition ;<======================================ππππ[ ¡. FX]
    DistanceToTravelBeforeTurning = 30
    DistanceToTargetBeforeDiving = 150 ;When I get this close to target, I ignore PreferredHeight.
    DistanceToTargetForLock = 100
    DetonateCallsKill     = Yes
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
;-------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL FA-XXHardJetMissileLocomotorV2 ;[RaptorJetMissileLocomotor*]
;-------------------------------------------------------------------------------------
  Geometry = Box
  GeometryIsSmall = Yes
  GeometryMajorRadius = 15 ;make it big so it might collide with aurora
  GeometryMinorRadius = 25
  GeometryHeight      = 25

End

;-------------------------------------------------------------------
Object AirF_AmericaJetJSF

  ; *** ART Parameters ***

  SelectPortrait = IconJetJSF_L ;SAJSF_L
  ButtonImage    = IconJetJSF   ;SAJSF

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaLaserMissiles
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor


  Draw                   = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model               = AVF35A
;      Animation         = AVF35A.AVF35A
;      AnimationMode     = ONCE
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponMuzzleFlash = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
;      Animation         = AVF35A.AVF35A
;      AnimationMode     = LOOP
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
;      Animation         = AVF35A.AVF35A
;      AnimationMode     = LOOP
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF35A_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      WeaponLaunchBone = PRIMARY WeaponA
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponMuzzleFlash = PRIMARY WeaponA
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF35A_D
;      Animation         = AVF35A_D.AVF35A_D
;      AnimationMode     = LOOP
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF35A_D
;      Animation         = AVF35A_D.AVF35A_D
;      AnimationMode     = LOOP
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVF35A_D
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF35A_D
      ;HideSubObject is needed cause there're inherited from default condition state
;      Animation         = AVF35A_D.AVF35A_D
;      AnimationMode     = ONCE
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:JSF
  EditorSorting           = VEHICLE
  Side                    = AmericaAirForceGeneral
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 220.0 ;180.0
  ShroudClearingRange     = 400
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  BuildCost = 1000
  BuildTime = 15.0
  ExperienceValue    = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable    = Yes                ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GenericJetCommandSet

  WeaponSet
    Conditions = None
    Weapon           = PRIMARY  AirF_JSFMissileWeapon
    PreferredAgainst = PRIMARY  INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon           = PRIMARY  AirF_JSFLaserGuidedMissileWeapon
    PreferredAgainst = PRIMARY  INFANTRY VEHICLE STRUCTURE AIRCRAFT
  End
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End


  ; *** AUDIO Parameters ***
  VoiceSelect        = USGenericVoiceSelect
  VoiceMove          = USGenericVoiceMove
  VoiceGuard         = USGenericVoiceMove
  VoiceAttack        = USGenericVoiceAttack
  VoiceAttackAir     = USGenericVoiceAttack
  SoundAmbient       = RaptorAmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate   = USGenericVoiceCreate ;πππππππππππ[ƒÓ·‡‚ËÎ ÓÚ‰ÂÎ¸ÌÛ˛ ÓÁ‚Û˜ÍÛ ÔË ÒÓÁ‰‡ÌËË ˛ÌËÚ‡]ππππππππππ
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = RaptorVoiceLowFuel
    VoiceGarrison = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 180.0
    InitialHealth        = 180.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_05
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 500.0
  End
  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End
  Behavior = WeaponSetUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
;=======================================================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;------------------------------------------------------------------------
  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
;------------------------------------------------------------------------
  Behavior                = CountermeasuresBehavior ModuleTag_1100 ;_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;------------------------------------------------------
  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End
  Behavior = OverlordContain ModuleTag_001 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
Object AirF_AmericaJetF18

  ; *** ART Parameters ***
  SelectPortrait = SASuperHornet ;SACHornet2
  ButtonImage    = SASuperHornet ;SACHornet2

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaLaserMissiles
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor

  
  Draw = W3DModelDraw ModuleTag_01

  ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY
 
    DefaultConditionState
      Model               = F-18E
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA 
      WeaponFireFXBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      Animation           = F-18E.F-18E   
      AnimationMode       = LOOP
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = F-18E_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = F-18E_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = F-18E_D
      Animation       = F-18E.F-18E   
      AnimationMode   = LOOP
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
      ParticleSysBone     = Engine01 AAOWJetAfterburner
      ParticleSysBone     = Engine02 AAOWJetAfterburner
    End

    ConditionState        = RUBBLE
      Model               = F-18E_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = F-18E_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 SmolderingFireTower
      ParticleSysBone     = Engine02 SmolderingFireTower
    End

  End

  Draw = W3DModelDraw ModuleTag_99

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = CHASSIS

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model               = AVJetF18Hous
    End

    ConditionState = REALLYDAMAGED RUBBLE
      Model               = AVJetF18Hous
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_AmericaJetF18
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral ;[America]*
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0 ;[200.0]*
  ShroudClearingRange = 400.0
  Prerequisites
    Object = AirF_AmericaAirfield
  End
  BuildCost = 1300 ;[PR9.1.19: 1200] ;[PR9.1.18: 1500] ;[PR9.1.17: 1200] ;[PR9.0: 1000]*
  BuildTime = 20.0 ;[‚ PR 9.1.18 - 9.1.19 ·˚ÎÓ: 15.0] ;[PR9.1.17: 12.0]  ;[PR9.0: 30.0]*
 ;========================================================================
  WeaponSet
    Conditions = None
    Weapon     = PRIMARY AirF_F-18JetMissileWeapon ;;F-18JetMissileWeapon
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon     = PRIMARY AirF_F-18JetMissileWeaponUpg
  End
 ;========================================================================
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End

  ExperienceValue    = 50 50 100 150 ;Experience point value at each level
  ExperienceRequired = 0 100 200 400 ;Experience points needed to gain each level
  IsTrainable    = Yes               ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetF-18CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect        = UKVoiceSelect ;πππππππππ[«¿Ã≈Õ¿]ππππππππππ ;USGenericVoiceSelect
  VoiceMove          = UKVoiceMove   ;πππππππππ[«¿Ã≈Õ¿]ππππππππππ ;USGenericVoiceMove
  VoiceGuard         = UKVoiceAttack ;πππππππππ[«¿Ã≈Õ¿]ππππππππππ ;USGenericVoiceMove
  VoiceAttack        = UKVoiceAttack ;πππππππππ[«¿Ã≈Õ¿]ππππππππππ ;USGenericVoiceAttack
  VoiceAttackAir     = UKVoiceAttack ;πππππππππ[«¿Ã≈Õ¿]ππππππππππ ;USGenericVoiceAttack
  SoundAmbient       = RaptorAmbientLoop
  SoundAmbientRubble = NoSound
  UnitSpecificSounds
    VoiceCreate   = UKVoiceCreate ;πππππππππππ[ƒŒ¡¿¬»À]ππππππππππ
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = RaptorVoiceLowFuel
    VoiceGarrison = RaptorVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
;------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 230.0
    InitialHealth = 230.0
  End
;----------------------------------------------
  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = WeaponBonusUpgrade ModuleTag_03
;;  TriggeredBy = Upgrade_AmericaLaserMissiles
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
  Behavior = ProductionUpdate ModuleTag_000
    MaxQueueEntries = 1 ; So you can't build multiple upgrades in the same frame
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%
 ;Amount of damage to take per SEC (not per frame) when out of ammo
 ;Note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%    ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    LockonTime                = 1500
    LockonFreq                = 800
    ParkingOffset             = 3     ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000 ; if idle for this long, return to base, even if not out of ammo
  End
;===========================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;----------------------------------------------------------
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaAirlinerArmor ;AirF_Upgrade_AmericaJetArmor
  End
;===========================================================
  Behavior = CountermeasuresBehavior ModuleTag_11378289 ;_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;------------------------------------------------
  Locomotor = SET_NORMAL HornetJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow      = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;-------------------------------------------------------------------
Object AirF_AmericaJetFA-20B

  ; *** ART Parameters ***

  SelectPortrait = SARazor_L
  ButtonImage    = SARazor

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaBunkerBusters
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = Upgrade_AmericaLaserMissiles

  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01 WeaponA02 WeaponB01 WeaponC01 WeaponC03
    ProjectileBoneFeedbackEnabledSlots = SECONDARY TERTIARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset
    DefaultConditionState
      Model               = AVPrototype
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone    = PRIMARY WeaponB
      WeaponMuzzleFlash   = PRIMARY WeaponB
      WeaponFireFXBone    = PRIMARY WeaponB
      WeaponLaunchBone    = SECONDARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponC
    End

  ;==================================================
    ConditionState = MOVING
     ;-----------------------------------------------[œ‡‡ÏÂÚ˚ ÓÚ ÒÂÓ„Ó –‡ÔÚÓ‡  ÓÏ‡Ì‰Û˛˘Â„Ó —ÿ¿]---------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;[¬ÒÔ˚¯Í‡ ÔËÁ‡˜ÌÓ„Ó ‰‚Ë„‡ÚÂÎˇ(ˇÍËÂ,Ê∏ÎÚÓ-·ÂÎ˚Â ˇÁ˚ÍË Ë ¯‡ËÍË)]
      ParticleSysBone = Engine02 SpectreEngineFlare ;[Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
     ;ParticleSysBone = Engine03 SpectreEngineFlare ;[Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;------------------------------------------------------------------------------------------------------------------
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;--------------------------------------------
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;----------------
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

  ;======================================================
    ConditionState = REALLYDAMAGED MOVING
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
     ;-----------------------------------------------[œ‡‡ÏÂÚ˚ ÓÚ ÒÂÓ„Ó –‡ÔÚÓ‡  ÓÏ‡Ì‰Û˛˘Â„Ó —ÿ¿]---------------------
      ParticleSysBone = Engine01 SpectreEngineFlare ;[¬ÒÔ˚¯Í‡ ÔËÁ‡˜ÌÓ„Ó ‰‚Ë„‡ÚÂÎˇ(ˇÍËÂ,Ê∏ÎÚÓ-·ÂÎ˚Â ˇÁ˚ÍË Ë ¯‡ËÍË)]
      ParticleSysBone = Engine02 SpectreEngineFlare ;[Engine01 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ ÔÓÁ‡‰Ë ı‚ÓÒÚ‡ Ò‡ÏÓÎ∏Ú‡]
     ;ParticleSysBone = Engine03 SpectreEngineFlare ;[Engine02 - Ó„ÌÂÌÌ˚È ‚˚ıÎÓÔ ÚˇÌÂÚÒˇ Ò ÒÂÂ‰ËÌ˚ ÍÓÔÛÒ‡ Ò‡ÏÓÎ∏Ú‡]
     ;------------------------------------------------------------------------------------------------------------------
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVPrototype_d
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ;ParticleSysBone     = Engine01 JetLenzflare
      ;ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVPrototype_d
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVPrototype_d
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Wingtip03 JetContrail
      ParticleSysBone     = Wingtip04 JetContrail
    End
    ConditionState      = ATTACKING USING_WEAPON_A
      Model             = AVPrototype_d
      WeaponLaunchBone  = PRIMARY WeaponB
      WeaponMuzzleFlash = PRIMARY WeaponB
      WeaponFireFXBone  = PRIMARY WeaponB
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
      ParticleSysBone   = WeaponB GattlingMuzzleSmoke
    End

    OkToChangeModelColor = Yes

  End


  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_JetFA-20B
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral ;[America]*
  TransportSlotCount  = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 250.0 ;[200.0]*
  ShroudClearingRange = 400.0
  Prerequisites
    Object = AirF_AmericaAirfield
    Science = SCIENCE_AMERICA_AIRF_GENERAL
   ;Object = AirF_AmericaStrategyCenter
  End
  BuildCost = 2000 ;[‚ PR9.1.19 ·˚ÎÓ: 2200] ;[PR9.1.8: 1650, PR9.1.6: 1750, PR9.1.1: 1800, PR9.0: 1000]*
  BuildTime = 25.0 ;[PR9.1.18: 23.0]* ;[PR9.0: 30.0]*
;=====================================================================================================================
  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY AirF_F-18JetMissileWeaponUpg ;AirF_F-18JetMissileWeapon ;;F-18JetMissileWeapon
  End
  WeaponSet ;====================[Õ‡ ÓÒÌÓ‚Â: F-23]=========================
    Conditions = PLAYER_UPGRADE 
   ;------
    Weapon            = PRIMARY AirF_F-18JetMissileWeaponUpg
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON  ;[ŒÒÌÓ‚‡: F-23Missile*]
   ;------
    Weapon            = SECONDARY F-18JetJDAMWeapon
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI                      ;[ŒÒÌÓ‚‡: F-23Bomb*]
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;=====================================================================================================================
  ArmorSet
    Conditions = None
    Armor      = CountermeasuresAirplaneArmor ;AirplaneArmor
    DamageFX   = None
  End
;  ArmorSet
;    Conditions = PLAYER_UPGRADE
;    Armor      = CountermeasuresAirplaneArmor
;    DamageFX   = None
;  End
  ExperienceValue    = 50 50 100 150 ;Experience point value at each level
  ExperienceRequired = 0 100 200 400 ;Experience points needed to gain each level
  IsTrainable    = Yes               ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetF-18CommandSet


  ; *** AUDIO Parameters ***
  VoiceSelect            = RZBackVoiceSelect
  VoiceMove              = RZBackVoiceMove
  VoiceAttack            = F-23VoiceAttack
  VoiceAttackAir         = F-23VoiceAttack
  VoiceGuard             = RZBackVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RZBackVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RZBackVoiceMove
  End



  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
;------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 240.0 ;230.0
    InitialHealth = 240.0 ;230.0
  End
;-----------------------------------------------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_03
    MaxQueueEntries = 1 ; So you can't build multiple upgrades in the same frame
  End
;-----------------------------------------------------------------------------------------
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
;-----------------------------------------------------------------------------------------
  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_PrototypeDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
;-----------------------------------------------------------------------------------------
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus       = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList    = OCL_EjectPilotViaParachute
    VeterancyLevels    = ALL -REGULAR ;only vet+ gives pilot
  End
;-----------------------------------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End
;-----------------------------------------------------------------------------------------
  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End
;-----------------------------------------------------------------------------------------
  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%
 ;Amount of damage to take per SEC (not per frame) when out of ammo
 ;Note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%    ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    LockonTime                = 1500
    LockonFreq                = 800
    ParkingOffset             = 3     ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 10000 ; if idle for this long, return to base, even if not out of ammo
  End
;===========================================================
  Behavior = GrantUpgradeCreate ModuleTag_128
    UpgradeToGrant = Upgrade_AmericaCountermeasures
  End
;===========================================================
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;-------------------------------------------------------------------------
  Locomotor = SET_NORMAL FA-20RazorBladeJetLocomotor ;HornetJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;-------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_11 ;_21
    AflameDuration = 5000     ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ; taking this much damage...
    AflameDamageDelay = 500   ; this often.
  End
;--------------------------- ??? -----------------------------------------------------------
  Behavior = OverlordContain ModuleTag_Hrenhz ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel)
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππ[‘Ë¯Í‡ ËÁ PR10.0Reb.]ππππππππππππππππππππππππππππππππ
  Behavior = WeaponSetUpgrade ModuleTag_JDAM1
    TriggeredBy = Upgrade_AmericaBunkerBusters
  End
  Behavior = CommandSetUpgrade ModuleTag_JDAM2
    CommandSet = AmericaJetF-23CommandSet ;AmericaJetF-16UpgradeJDAMCommandSet
    TriggeredBy = Upgrade_AmericaBunkerBusters
  End
;ππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate     = AirF_PointDefenseLaser ;<============[À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“]
    PrimaryTargetTypes = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate           = 0
    ScanRange          = 200.0
    PredictTargetVelocityFactor = 1.0
  End

  Geometry            = Box
  GeometryIsSmall     = Yes
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight      = 5.0
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 89 ;minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.16 ;1.15

End

;-------------------------------------------------------------------------------------------
Object AirF_AmericaVehicleMobileAirfbaseF-23Brown ;Boss_VehicleMobileAirfBaseF-23Brown

  ; *** ART Parameters ***

  SelectPortrait = SuperStriker_L ;SAAirfbase ;AuroraB_L
  ButtonImage    = SuperStriker   ;SAAirfbase ;AuroraB

  Draw = W3DOverlordTankDraw ModuleTag_01

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
    End

    ConditionState       = MOVING
      Model              = AVCmghBase
      Animation           = AVCmghBase.AVCmghBase
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING REALLYDAMAGED
      Model              = AVCmghBase_d
      Animation           = AVCmghBase_d.AVCmghBase_d
      AnimationMode       = LOOP
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End
    ConditionState       = MOVING RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = EXHAUST01 DozerSmokeHeavy
      ParticleSysBone   = EXHAUST02 DozerSmokeHeavy
    End

    TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = Yes
    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbase  ;-[ ¡¿«¿ ƒŒ –¿«¬®–“€¬¿Õ»ﬂ ]
  Side               = AmericaAirForceGeneral ;Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions = None
    Armor      = TankArmor
    DamageFX   = TankDamageFX
  End
  BuildCost = 7900 ;5900 ;[3600]* ;πππππππππππππππππ The_UBER_Rank_4 ππππππππππππππππππππππ
  BuildTime = 40.0 ;35.0 ;[30.0]*       ;in seconds
  VisionRange         = 300.0
  ShroudClearingRange = 320.0
  Prerequisites
    Object = AirF_AmericaWarFactory     ;Boss_WarFactory
    Object = AirF_AmericaStrategyCenter ;Boss_TechCentr
    Science = SCIENCE_AmericaMarine
    Science = SCIENCE_Rank4
    Science = SCIENCE_AMERICA_AIRF_GENERAL ;SCIENCE_BOSS
  End
 ;-----------------------------------------------------------------
  MaxSimultaneousOfType = 1 ;2 ;[+1|+1|+1|+1|+1|+1|+1|+1|+1|+1...]
 ;-----------------------------------------------------------------
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
  CommandSet = AirF_AmericaMobileAirfbaseCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
 ;-----------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 80.0
  End
  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = AirF_OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = AirF_OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_14
    UpgradeObject = AirF_OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone
  End
  Behavior = ProductionUpdate ModuleTag_08
  End
  Behavior = TransportAIUpdate ModuleTag_CorrectAI
  End
;-------------------------------------------------
  Locomotor = SET_NORMAL ChinaNukeCannonLocomotor
;-------------------------------------------------
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  Behavior = EjectPilotDie ModuleTag_16
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ
  Behavior = ReplaceObjectUpgrade ModuleTag_8023BBBA
    ReplaceObject = AirF_VehicleMobileAirfBaseF-23BrownActive ;Boss_VehicleMobileAirfBaseF-23BrownActive ;[AirF_AmericaVehicleMobileAirfbaseActive*]
    TriggeredBy = UpgradeMobileTunnelNetwork
  End
;πππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππππ

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;-------------------------------------------------------------------------------------------------------
Object AirF_VehicleMobileAirfBaseF-23BrownActive ;Boss_VehicleMobileAirfBaseF-23BrownActive

  ; *** ART Parameters ***
  SelectPortrait = SuperStriker_L ;SAAirfbase ;AuroraB_L
  ButtonImage    = SuperStriker   ;SAAirfbase ;AuroraB

  ;UpgradeCameo1 = Upgrade_GLAWorkerShoes

  Draw                   = W3DTruckDraw ModuleTag_01
    ReceivesDynamicLights = No

    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayLDEnd1 
    ExtraPublicBone = RunwayLDStart1 
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Taxi1 
    ExtraPublicBone = Hanger1
    ExtraPublicBone = CIPOW

    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVCmghBaseP
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVCmghBaseP_d
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
    ConditionState       = RUBBLE
      Model              = AVCmghBase_d1
      ParticleSysBone   = SMOKE01 DozerSmokeLight
      ParticleSysBone   = SMOKE02 DozerSmokeLight
    End
   End

  Draw = W3DModelDraw ModuleTag_0208

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = CIPOW

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = CIPOW_SKN
      IdleAnimation = CIPOW_SKL.CIPOW_STA 0 6
      IdleAnimation = CIPOW_SKL.CIPOW_IDA
      IdleAnimation = CIPOW_SKL.CIPOW_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
    End

    ConditionState = MOVING
      Animation = CIPOW_SKL.CIPOW_STA
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:MobileAirfbase  ;-[ ¡¿«¿ œŒ—À≈ –¿«¬®–“€¬¿Õ»ﬂ ]
  Side               = AmericaAirForceGeneral ;Boss
  EditorSorting      = VEHICLE
  TransportSlotCount = 10                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AircraftCarrierOrderLaunch
  End
  ArmorSet
    Conditions = None
    Armor      = AirfbaseArmor
    DamageFX   = TankDamageFX
  End
  BuildCost        = 0 ;πππππππππππππππππ The_UBER_Rank_3 ππππππππππππππππππππππ
  BuildTime        = 0.0          ;in seconds
  EnergyProduction = -2
  VisionRange         = 300.0 ;[150.0]*
  ShroudClearingRange = 320.0
  Prerequisites
    ;Object = AirF_AmericaAirfield
    ;Science = SCIENCE_AMERICA_AIRF_GENERAL
  End
  ExperienceValue = 50 50 50 50  ; Experience point value at each level
 ;--------------------------------------------------------------------------------------------
  CommandSet = Boss_AmericaMobileAirfbaseCommandSet ;;[AirF_AmericaMobileAirfbaseCommandSet3*]
 ;--------------------------------------------------------------------------------------------

  ; *** AUDIO Parameters ***
  VoiceSelect           = AircraftCarrierVoiceSelect
  VoiceMove             = AircraftCarrierVoiceMove
  VoiceGuard            = AircraftCarrierVoiceMove
  VoiceAttack           = AircraftCarrierVoiceAttack
  SoundMoveStart        = AircraftCarrierVoiceSelect
  SoundMoveStartDamaged = AircraftCarrierVoiceSelect
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart     = NoSound
    TurretMoveLoop      = OverlordTankTurretMoveLoop
    VoiceCreate         = AircraftCarrierVoiceSelect
    VoiceEnter          = AircraftCarrierVoiceMove
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = AircraftCarrierVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD POWERED CAN_ATTACK AIRCRAFT_CARRIER FS_FACTORY STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE MP_COUNT_FOR_VICTORY
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 120
  End
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 1000.0 ;[80.0*] ;<============[«¿Ã≈Õ¿-“›—“]ππππππππππ
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_2478 ; allows use of command button hunt script with this unit.
  End
 ;---------------------------------------------------
  Behavior = ProductionUpdate ModuleTag_120
    NumDoorAnimations            = 1
    DoorOpeningTime              = 1000 ;matches the dock animation timing.
    DoorWaitOpenTime             = 33  ;add a single frame to hold the plane because there is a one frame delay before we see the new plane
    DoorCloseTime                = 0  ;in mSeconds
    ConstructionCompleteDuration = 0  ;in mSeconds
  End
 ;===================================================================
  Behavior = FlightDeckBehavior ModuleTag_110
    NumRunways              = 1
    NumSpacesPerRunway      = 1
    Runway1Spaces           = RUNWAY1PREP1 Runway1Prep1
    Runway1Takeoff          = RUNWAY1PREP1 RunwayEnd1
    Runway1Landing          = RunwayLDStart1 RunwayLDEnd1
    Runway1Creation         = Taxi1
    Runway1Taxi             = Hanger1
;; Runway1CatapultSystem = AircraftCarrierCatapultSteamParent ;???
    HealAmountPerSecond     = 80
    ApproachHeight          = 20
    LandingDeckHeightOffset = 10.0
    ParkingCleanupPeriod    = 533  ;How often the carrier checks to move planes forward in the queue to fill empty spaces
    HumanFollowPeriod       = 333  ;Human factor for delay like a traffic jam.. takes time to react when the guy in front moves.
    ;Template of payload, and how quickly destroyed ones get replaced.
    PayloadTemplate         = AirF_AmericaJetF-23BrownBB ;Boss_JetF-23BrownBB ;<====πππππππππ [–Œ¡Œ-—¿ÃŒÀ®“] πππππππππ
    ReplacementDelay        = 3500
    DockAnimationDelay      = 4500
    ;How quickly a wave of fighters can be launched.
    LaunchWaveDelay         = 2000
    LaunchRampDelay         = 400
    LowerRampDelay          = 500
    CatapultFireDelay       = 700
  End
 ;=====================================================================
  Behavior = SlowDeathBehavior ModuleTag_11
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_MobileAirfDeath
    FX  = FINAL    FX_GenericTankDeathExplosion
  End
  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;Behavior = ReplaceObjectUpgrade ModuleTag_80
;;  ReplaceObject = AirF_AmericaVehicleMobileAirfbase
;;  TriggeredBy = UpgradeMobileTunnelNetwork
;;End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

  Geometry = BOX
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 22.9
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------------------------------
Object AirF_AmericaJetF-23BrownBB ;Boss_JetF-23BrownBB

  ; *** ART Parameters ***
  SelectPortrait = SuperStriker_L
  ButtonImage    = SuperStriker
  ;UpgradeCameo1  = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2  = AirF_Upgrade_AmericaJetArmor

  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    DefaultConditionState
      Model               = avraptor_alt
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = avraptor_alt
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = avraptor_alt
      HideSubObject       = None
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = avraptor_alt
      ;HideSubObject is needed cause there're inherited from default condition state
      HideSubObject       = None
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:F-23
  EditorSorting           = VEHICLE
  Side                    = AmericaAirForceGeneral ;Boss
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 270.0
  ShroudClearingRange     = 600.0 ;400.0
  BuildCost = 0 ;πππππππππππππππππ The_UBER_Rank_3 ππππππππππππππππππππππ
  BuildTime = 25.0
;----------------------------------------
  Prerequisites
    Object = AirF_AmericaStrategyCenter
  End
;=========================================================================
  WeaponSet
    Conditions = None
   ;------
    Weapon            = PRIMARY Boss_JetF-23BrownMissile
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
   ;------
    Weapon            = SECONDARY Boss_JetF-23BrownBombWeapon
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
   ;------
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
;--------------------------------------------------------------------
  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End
;-----------------------------------------------------------------------------------------
  ExperienceValue    = 75 75 125 175  ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes                   ;Can gain experience
  CrusherLevel   = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?: 0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetF-23CommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = KingRaptorVoiceSelect
  VoiceMove       = RaptorVoiceMove
  VoiceAttack     = RaptorVoiceAttack
  VoiceAttackAir  = RaptorVoiceAttackAir
  VoiceGuard      = RaptorVoiceAirPatrol
  SoundAmbient    = RaptorAmbientLoop
  SoundAmbientRubble = NoSound
 ;SoundMoveLoop = RaptorAmbientLoop  ; don't want sound while sitting at airfield
 ;SoundAmbient  = NoSound
  UnitSpecificSounds
    VoiceCreate   = KingRaptorVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = RaptorVoiceLowFuel
    VoiceGarrison = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE AIRCRAFT ;<==[ Œƒ ƒÀﬂ –Œ¡Œ-—¿ÃŒÀ®“Œ¬: ·ÂÁ SELECTABLE]
;;PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT ;<[ Œƒ ƒÀﬂ —“¿Õƒ¿–“Õ€’ —¿ÃŒÀ®“Œ¬: Ò ‰Ó·‡‚ÎÂÌËÂÏ SELECTABLE]
 ;-------------------------------------------------------------------------------------------------------------------------------------
  Body = ActiveBody ModuleTag_02
    MaxHealth     = 440.0
    InitialHealth = 440.0
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_06
    ExemptStatus = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 1400
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 900000         ; if idle for this long, return to base, even if not out of ammo
  End
;----------------------------------------------------------------------------
  Behavior = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures ;Upgrade_ChinaAircraftArmor
  End
  Behavior = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 3     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 1.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End
;-----------------------------------------------------------------------------------------------------
  Locomotor = SET_NORMAL Boss_F-23BrownBBJetLocomotor ;(—ÍÓÓÒÚ¸:275) ;[Õ‡ ÓÒÌÓ‚Â: F-23JetLocomotor*]
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
;-----------------------------------------------------------------------------------------------------
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.
  Scale = 1.15 ;[1.14*]

End

;-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Object AirF_GFX7KingPredatorAntiAirRocketTurret ;AirF_AFX6PredatorAntiAirRocketTurret  ;Lazr_AmericaTankAvengerRocketTurret ; Seperate turret object so it can attack independantly

  ; *** ART Parameters ***
  SelectPortrait         = SNPropSpeaker_L
  ButtonImage            = SNPropSpeaker
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = Upgrade_AmericaLaserBatteries
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  Draw = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    ExtraPublicBone = TurretFX01
    ExtraPublicBone = TurretFX02
    ExtraPublicBone = TURRET01
    ExtraPublicBone = TURRETEL
    ExtraPublicBone = TURRETEL01

    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState 
      Model         = None ;avavnger_r ;<================[¬€–≈«¿À ÃŒƒ≈À‹ –¿ ≈“ÕŒ… “”–≈À» Œ“ ¿¬≈Õ√≈–¿]
      WeaponFireFXBone    = PRIMARY TURRETFX
      WeaponLaunchBone    = PRIMARY TURRETFX
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End

    ConditionState = REALLYDAMAGED
      Model         = None ;avavnger_rd ;<================[¬€–≈«¿À ÃŒƒ≈À‹ –¿ ≈“ÕŒ… “”–≈À» Œ“ ¿¬≈Õ√≈–¿]
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  Side             = AmericaAirForceGeneral ;AmericaLaserGeneral
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  
  WeaponSet
    Conditions = None                                             ;[¬≈¿œŒÕ π4: –¿ ≈“€ ¬Œ«ƒ”’-¬Œ«ƒ”’]
    Weapon = PRIMARY AirF_GFX-7_KingPredatorAntiAirMissileWeapon  ;[12 –‡ÍÂÚ ¬ÓÁ‰Ûı-‚ÓÁ‰Ûı] ;;[AvengerRockets]*
  End

  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Avenger with his damage module
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
   TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY ;SECONDARY
      TurretTurnRate      = 180  ;Turn rate, in degrees per sec
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      NaturalTurretPitch  = 45
    End
    AutoAcquireEnemiesWhenIdle = Yes 
    MoodAttackCheckRate = 500 ; default is 2000
  End

  Behavior             = DestroyDie ModuleTag_05
    ;<No Data>
  End

  Geometry            = BOX
  GeometryMajorRadius = 6.0
  GeometryMinorRadius = 6.0
  GeometryHeight      = 10.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;---------------------------------------------------------------------------------
Object AirF_GFX-PredatorsBattleDrone ;;SupW_AmericaVehicleEBattleDrone*

  ; *** ART Parameters ***
  SelectPortrait = SABattleDrone_L
  ButtonImage    = SABattleDrone

  UpgradeCameo1 = Upgrade_AmericaDroneArmor

  ;MAIN CHASSIS
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = SECONDARY TERTIARY; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model = AVErebusDrn
      Turret = Turret
      TurretPitch = Turret
      WeaponMuzzleFlash = PRIMARY WeaponC
      WeaponFireFXBone = PRIMARY WeaponC
      WeaponLaunchBone = SECONDARY WeaponA
      WeaponLaunchBone = TERTIARY WeaponB
      ShowSubObject = WeaponA01 WeaponA02 WeaponA03 WeaponB01 WeaponB02 WeaponB03
    End

    ConditionState = REALLYDAMAGED
      Model = AVErebusDrn_D
    End
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:ErebusDrone
  Side               = AmericaAirForceGeneral ;;AmericaSuperWeaponGeneral*
  EditorSorting      = VEHICLE
  TransportSlotCount = 0 ;how many "slots" we take in a transport (0 == not transportable)
;---------------------------------------------------------------
  WeaponSet
    Conditions        = None
    Weapon            = PRIMARY Lazr_BattleDroneGunUpgraded ;<=====================[À¿«≈–(ÛÌË‚ÂÒ‡Î¸Ì˚È ÔÛÎÂÏ∏Ú)]  ;;ErebusDroneMachineGun
    PreferredAgainst  = PRIMARY INFANTRY
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ;-------
    Weapon            = SECONDARY Boss_GFX7PredatorBattleDroneEMPWeapon ; ;<=======[«¿ÃŒ–Œ« ¿ “≈’Õ» »] ;ErebusDroneMissileWeapon ;;[AirF_MFX6PredatorBattleDroneBuildingDisabler]*
    PreferredAgainst  = SECONDARY VEHICLE STRUCTURE AIRCRAFT
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ;-------
    Weapon            = TERTIARY Lazr_FX-PredatorBattleDroneAntiTankGun ;<=========[À¿«≈–(œÓÚË‚ÓÚ‡ÌÍÓ‚‡ˇ ÔÛ¯Í‡)] ;ErebusDroneMissileWeapon
    PreferredAgainst  = TERTIARY VEHICLE STRUCTURE AIRCRAFT
    AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
;---------------------------------------------------------------
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = SmallTankDamageFX
  End
  BuildCost  = 300 ;800*
  BuildTime  = 5.0  ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 150
;  Prerequisites
;    Object = AirF_AmericaWarFactory
;  End
  ExperienceValue = 10 10 10 10 ;Experience point value at each level
  IsTrainable     = No

  ; *** AUDIO Parameters ***
  VoiceSelect    = NoSound
  VoiceMove      = NoSound
  VoiceAttack    = NoSound
  SoundMoveStart = NoSound
  SoundStealthOn  = StealthOn  ;<==================πππ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ÓÚ F-117 πππ
  SoundStealthOff = StealthOff ;<==================πππ ¬ÔËÎËÎ ÓÁ‚Û˜ÍÛ ÓÚ F-117 πππ
  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    TurretMoveStart = NoSound
    TurretMoveLoop  = TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SELECTABLE CAN_ATTACK DRONE NO_SELECT EMP_HARDENED
 ;------------------------------------------------------------------------------------------------˚
  Body = ActiveBody ModuleTag_03
    MaxHealth     = 200.0 ;[100.0]*
    InitialHealth = 200.0 ;[100.0]*
  End
;========================================== »Õ“≈ÀÀ≈ “ ================================================================
  Behavior = AIUpdateInterface ModuleTag_04
    Turret
      TurretTurnRate        = 360  ;Turn rate, in degrees per sec
      TurretPitchRate       = 360
      MinPhysicalPitch      = -75 ; If allows pitch, the lowest I can dip down to shoot.  defaults to 0 (horizontal)
      AllowsPitch           = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY ;<=========[ “›—“(¡˚ÎÓ ÚÓÎ¸ÍÓ: PRIMARY)]ππππππππππππππππππ
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
;=====================================================================================================================
;--------------------------------------------------------------
  Locomotor = SET_NORMAL AirF_PredatorsBattleDroneLocomotor      ;BattleDroneLocomotor*
  Locomotor = SET_PANIC  AirF_PredatorsBattleDronePanicLocomotor ;BattleDronePanicLocomotor* ;used for repairing master (zippy)
;--------------------------------------------------------------
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
    KillWhenRestingOnGround = Yes
    AllowBouncing = No
  End
  Behavior = MaxHealthUpgrade ModuleTag_06
    TriggeredBy  = Upgrade_AmericaDroneArmor
    AddMaxHealth = 25.0
    ChangeType   = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End
;===========================================ππππππππ
  Behavior = SlavedUpdate ModuleTag_07
    GuardMaxRange          = 70           ;How far away from master I'm allowed when master is idle (doesn't wander)
    GuardWanderRange       = 70           ;How far away I'm allowed to wander from master while guarding.
    AttackRange            = 150          ;How far away from master I'm allowed when master is attacking a target.
    AttackWanderRange      = 20           ;How far I'm allowed to wander from target.
    ScoutRange             = 10 ;150*     ;How far away from master I'm allowed when master is moving.
    ScoutWanderRange       = 20           ;How far I'm allowed to wander from scout point.
    RepairRange            = 8            ;How far I can zip around while repair (only moves when he stops welding)
    RepairMinAltitude      = 104.0 ;18.0* ;My minimum repair hover altitude.
    RepairMaxAltitude      = 108.0 ;24.0* ;My maximum repair hover altitude.
    RepairRatePerSecond    = 5.0 ;<---ππππ;How many health points can I repair per second.
    RepairWhenBelowHealth% = 60           ;How low should my master's health be (in %) before I should prioritize repairing.
    RepairMinReadyTime     = 300
    RepairMaxReadyTime     = 750
    RepairMinWeldTime      = 250
    RepairMaxWeldTime      = 500
    RepairWeldingSys       = BlueSparks
    RepairWeldingFXBone    = Muzzle02
    StayOnSameLayerAsMaster = Yes
  End
;==========================================ππππππππ
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = ALL
  End
  Behavior = CreateObjectDie  ModuleTag_09
    DeathTypes = ALL
    CreationList = OCL_AmericaBattleDroneExplode
  End
  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleDroneDamageTransitionSmall
  End
  Behavior = FXListDie ModuleTag_11
    DeathTypes = ALL
    DeathFX = FX_AmericaBattleDroneExplode
  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;;  Behavior = UpgradeDie  ModuleTag_12
;;    ;This frees the object based upgrade for the producer object.
;;    DeathTypes = ALL
;;    UpgradeToRemove = Upgrade_AmericaBattleDrone ModuleTag_13
;;  End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;========================================================================
  Behavior = UpgradeDie  ModuleTag_12
    ;This frees the object based upgrade for the producer object.
    DeathTypes = ALL
    UpgradeToRemove = SupW_Upgrade_AmericaPointDefenseDrone ModuleTag_12
  End
;========================================================================
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000     ;If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3    ;Taking this much damage...
    AflameDamageDelay = 500   ;This often.
  End
;---------------- À¿«≈–Õ€≈ Œ“–¿∆¿“≈À» –¿ ≈“ -------------------
  Behavior = PointDefenseLaserUpdate ModuleTag_Laser_One
    WeaponTemplate        = AirF_PointDefenseLaser
    PrimaryTargetTypes    = BALLISTIC_MISSILE SMALL_MISSILE
    ScanRate              = 0
    ScanRange             = 200.0
    PredictTargetVelocityFactor = 1.0
  End
;-------------------------------------------------------
  Behavior = StealthDetectorUpdate ModuleTag_24
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
;------------------------------------------------------
  Geometry = CYLINDER
  GeometryMajorRadius = 5
  GeometryMinorRadius = 5
  GeometryHeight = 10.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End